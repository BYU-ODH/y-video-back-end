{"version":3,"sources":["serviceWorker.js","models/User.js","models/Content.js","proxy/p/ApiProxy.js","proxy/p/Cookies.js","proxy/p/BrowserStorage.js","proxy/index.js","services/index.js","services/s/admin.redux.js","services/s/auth.redux.js","services/s/collections.redux.js","services/s/content.redux.js","services/s/interface.redux.js","services/s/resources.redux.js","services/store.js","components/bits/Accordion/styles.js","components/bits/Accordion/index.jsx","components/bits/AdminTable/styles.js","components/bits/AdminTable/index.jsx","components/bits/AspectRadio/styles.js","components/bits/AspectRadio/index.jsx","components/bits/BlockCollection/styles.js","components/bits/BlockCollection/index.jsx","components/bits/BlockItem/styles.js","components/bits/BlockItem/index.jsx","components/bits/LabAssistantTable/styles.js","components/bits/LabAssistantTable/index.jsx","components/bits/LazyImage/styles.js","components/bits/LazyImage/index.jsx","components/bits/ListCollection/styles.js","components/bits/ListCollection/index.jsx","components/bits/ListItem/styles.js","components/bits/ListItem/index.jsx","components/bits/Modal/styles.js","components/bits/Modal/index.jsx","components/bits/PermissionTable/styles.js","components/bits/PermissionTable/index.jsx","components/bits/ResourceTable/styles.js","components/bits/ResourceTable/index.jsx","components/bits/Spinner/styles.js","components/bits/Spinner/index.jsx","components/bits/SwitchToggle/styles.js","components/bits/SwitchToggle/index.js","components/bits/Tag/styles.js","components/bits/Tag/index.jsx","components/c/Admin/styles.js","components/c/Admin/index.jsx","components/c/CollectionPermissions/styles.js","lib/util.js","components/c/CollectionPermissions/index.jsx","components/c/Collections/styles.js","components/c/Collections/index.jsx","components/c/ContentOverview/styles.js","components/c/ContentOverview/index.jsx","components/c/ContentSettings/styles.js","components/c/ContentSettings/index.jsx","components/c/Error/styles.js","components/c/Error/index.jsx","components/c/Header/styles.js","components/c/Header/index.jsx","components/c/LabAssistant/styles.js","components/c/LabAssistant/index.jsx","components/c/Landing/styles.js","components/c/Landing/index.jsx","components/c/Load/styles.js","components/c/Load/index.jsx","components/c/ManageCollection/styles.js","components/c/ManageCollection/index.jsx","components/c/Manager/styles.js","components/c/Manager/index.jsx","components/c/Menu/styles.js","components/c/Menu/index.jsx","components/c/Overlay/styles.js","components/c/Overlay/index.jsx","lib/js/xApi.js","lib/js/contentRendering/ContentCache.js","lib/js/contentRendering/TranscriptPlayer.js","lib/js/contentRendering/ContentRenderer.js","lib/js/contentRendering/ContentLoader.js","components/c/Player/styles.js","components/c/Player/index.jsx","components/c/Root/index.jsx","containers/c/AdminContainer.jsx","containers/c/CollectionsContainer.jsx","containers/c/ContentOverviewContainer.jsx","containers/c/CollectionPermissionsContainer.jsx","containers/c/ContentSettingsContainer.jsx","containers/c/HeaderContainer.jsx","containers/c/LabAssistantContainer.jsx","components/modals/components/CreateContent/styles.js","components/modals/components/CreateContent/index.jsx","components/modals/containers/CreateContentContainer.jsx","containers/c/LabAssistantManageCollectionContainer.jsx","components/modals/components/CreateCollection/styles.js","components/modals/components/CreateCollection/index.jsx","components/modals/containers/CreateCollectionContainer.jsx","containers/c/LabAssistantManagerContainer.jsx","containers/c/LandingContainer.jsx","containers/c/LoginContainer.jsx","containers/c/ManageCollectionContainer.jsx","containers/c/ManagerContainer.jsx","containers/c/MenuContainer.jsx","containers/c/PlayerContainer.jsx","containers/c/RootContainer.jsx","index.jsx","assets/hexborder.svg","assets/search.svg","assets/carrot.svg","assets/translation.svg","assets/captions.svg","assets/annotations.svg","assets/plus_blue.svg","assets/admin-icon-edit.svg","assets/radio-checked.svg","assets/radio-unchecked.svg","assets/arrow-left.svg","assets/arrow-right.svg","assets/delete.svg","assets/block-view.svg","assets/list-view.svg","assets/desertbackground.svg","assets/CometsLeft.svg","assets/CometsRight.svg","assets/plus_gray.svg","assets/plus.svg"],"names":["Boolean","window","location","hostname","match","User","constructor","obj","this","id","username","name","email","roles","lastLogin","Content","authKey","collectionId","contentType","dateValidated","description","expired","fullVideo","isCopyrighted","physicalCopyExists","published","requester","resourceId","thumbnail","views","url","resource","keywords","settings","aspectRatio","captionTrack","showTranscripts","showWordList","targetLanguages","showCaptions","allowDefinitions","annotationDocument","undefined","split","apiProxy","admin","search","get","searchCategory","searchQuery","a","axios","process","withCredentials","headers","clj_session_id","then","res","data","collection","create","ownerId","post","JSON","stringify","content","results","reduce","map","item","createFromResource","auth","cas","href","logout","edit","state","patch","remove","contentIds","removeContent","permissions","endpoint","body","ids","Promise","all","returnMe","console","log","addView","metadata","resources","Date","now","toString","user","result","error","collections","temp","forEach","element","push","cookies","set","cookieName","cookieValue","maxDays","path","domain","date","setTime","getTime","document","cookie","toUTCString","decodeURIComponent","c","charAt","substring","indexOf","length","getAll","trim","key","val","Object","assign","parse","e","delete","browserStorage","displayBlocksKey","value","localStorage","setItem","getItem","proxies","adminService","types","ADMIN_START","ADMIN_ABORT","ADMIN_CLEAN","ADMIN_CREATE_COLLECTION","ADMIN_CREATE_CONTENT","ADMIN_ERROR","ADMIN_GET_COLLECTION_CONTENT","ADMIN_SEARCH","ADMIN_SEARCH_PROFESSORS","ADMIN_SET_PROFESSOR","ADMIN_SEARCH_COLLECTIONS","actions","adminStart","type","adminAbort","adminClean","adminCreateCollection","adminCreateContent","payload","adminError","adminGetCollectionContent","adminSearch","adminSearchProfessors","adminSetProfessor","professor","adminSearchCollections","store","cache","professors","professorCollections","profCollectionContent","loading","lastFetched","lastFetchedProfContent","lastFetchedProfessors","lastFetchedCollections","reducer","action","force","dispatch","getState","time","adminStore","message","searchProfessors","profArray","setProfessor","professorId","filter","getCollectionContent","createCollection","parseInt","searchCollections","createContent","createContentFromResource","clean","authService","AUTH_START","AUTH_ABORT","AUTH_CLEAN","AUTH_ERROR","AUTH_GET","authStart","authAbort","authError","authGet","tried","checkAuth","_getState","login","_dispatch","collectionService","COLLECTIONS_START","COLLECTIONS_ABORT","COLLECTIONS_CLEAN","COLLECTIONS_ERROR","COLLECTIONS_GET","COLLECTIONS_REMOVE_CONTENT","COLLECTION_CREATE","COLLECTION_EDIT","COLLECTION_ROLES_GET","COLLECTION_ROLES_UPDATE","roleEndpoints","addCourse","addTA","addException","removeCourse","removeUser","collectionsStart","collectionsAbort","collectionsClean","collectionsError","collectionsGet","collectionsRemoveContent","collectionCreate","collectionEdit","collectionRolesGet","collectionRolesUpdate","getCollections","collectionStore","removeCollectionContent","contentId","updateCollectionStatus","currentState","abort","archived","finalState","getCollectionRoles","stale","cached","keys","includes","updateCollectionName","collectionName","updateCollectionRoles","newRoles","courses","admins","exceptions","contentService","CONTENT_START","CONTENT_ABORT","CONTENT_CLEAN","CONTENT_CREATE","CONTENT_ERROR","CONTENT_GET","CONTENT_ADD_VIEW","CONTENT_UPDATE","contentStart","contentAbort","contentClean","contentCreate","contentError","contentGet","contentAddView","contentUpdate","getContent","contentStore","cachedIds","notCached","updateContent","title","showAnnotations","interfaceService","MENU_TOGGLE","MODAL_TOGGLE","COLLECTIONS_DISPLAY_TOGGLE","SET_HEADER_BORDER","SET_LOST","menuToggle","modalToggle","component","isLabAssistantRoute","collectionsDisplayToggle","setHeaderBorder","active","setLost","lost","menuActive","modal","props","displayBlocks","headerBorder","toggleMenu","toggleModal","toggleCollectionsDisplay","resourceService","RESOURCE_START","RESOURCE_ABORT","RESOURCE_CLEAN","RESOURCE_ERROR","RESOURCE_GET","resourcesStart","resourcesAbort","resourcesClean","resourcesError","resourcesGet","getResources","resourceStore","relations","subjectId","addResource","services","createStore","combineReducers","authStore","interfaceStore","composeWithDevTools","applyMiddleware","thunk","withExtraArgument","Container","styled","div","List","numChildren","Arrow","src","AccordionMenu","PureComponent","super","handleToggle","preventDefault","setState","render","header","children","onClick","arrow","Style","Table","table","ItemEdit","button","iconEdit","AdminTable","Users","sortBy","descending","columns","Admin","Manager","Professor","TA","Student","Collections","Video","Image","Text","Audio","category","ID","NetID","Name","Roles","Email","toDateString","Owner","owner","Collection","Requester","Type","Expired","ResourceID","index","RadioButton","checked","radioChecked","radioUnchecked","AspectRadio","selected","ratio","onChange","HtmlId","htmlFor","hidden","Header","SlideWrapper","count","right","arrowRight","hideLeft","left","arrowLeft","BlockEnd","BlockCollection","Component","scrollListener","target","scrollLeft","setTimeout","wrapper","current","scrollBy","scrollRight","React","createRef","to","className","onScroll","ref","onScrollCapture","shimmer","keyframes","ItemContainer","Thumbnail","loaded","css","BlockItem","componentDidMount","img","onload","StyledLink","Link","LabAssistantTable","height","width","heightSm","widthSm","LazyImage","alt","carrot","isOpen","Body","ListCollection","togglePanel","prevState","Icon","li","translation","captions","annotations","ListItem","Wrapper","done","Modal","componentDidUpdate","prevProps","classList","add","Comp","ReactDOM","createPortal","getElementById","connect","RemoveButton","removeFunc","column","index2","data-item","rotate","logo","Spinner","size","Circle","on","Groove","SwitchToggle","setToggle","data-key","data_key","Remove","plus","Tag","data-value","Search","form","SearchIcon","span","searchIcon","CategorySelect","select","viewstate","placeholder","handlers","updateCategory","updateSearchBar","handleSubmit","onSubmit","DepartmentSelect","CatalogInput","input","disabled","SectionInput","AddButton","getInitials","fullName","initials","shift","pop","toUpperCase","objectIsEmpty","o","entries","departments","code","CollectionPermissions","department","catalog","section","taFaculty","exception","reducedCourses","Department","Catalog","catalogNumber","Section","sectionNumber","reducedAdmins","reducedExceptions","handleDepartmentChange","min","handleCatalogChange","handleSectionChange","submit","addTaFaculty","handleTaFacultyChange","removeFaculty","handleExceptionChange","removeException","ViewToggle","listView","blockView","isProf","isAdmin","Preview","EditButton","TitleEdit","PublishButton","ContentOverview","editing","showing","handleNameChange","handleRemoveContent","handleToggleEdit","handleTogglePublish","setContentState","setShowing","mapDispatchToProps","resourceCache","InnerContainer","Column","Setting","RatioList","ContentSettings","tag","handleDescription","handleRatio","addTag","removeTag","changeTag","rows","SError","Background","SLink","Error","componentWillUnmount","border","LogoWrapper","h1","Shadow","Logo","HexLogo","LabAssistant","Comets","LComets","RComets","Welcome","Button","Landing","overlay","toggleOverlay","handleLogin","fadein","fadeout","Load","Title","TitleEditButton","ArchiveButton","Tab","TabHeader","Selector","isContent","NewContent","ManageCollection","isEditingCollectionName","unarchive","toggleEdit","togglePublish","archive","setTab","contenteditable","onKeyPress","event","autoFocus","SideMenu","CreateButton","Plus","NoCollection","sideLists","createNew","endsWith","Accordion","unpublished","LinkStyled","h4","UserPic","LogoutButton","Menu","handleLogout","pathname","fadeIn","fadeOut","out","Overlay","visible","closeModal","xApi","course","ADL","send","args","record","baseUri","extensions","authScheme","pageLoad","verb","ended","playClick","pauseClick","rateChange","rate","volumeChange","volume","timeJump","oldTime","newTime","repeatCaption","transcriptCueClick","captionTrackId","cueNumber","captionTranslation","text","transcriptionTranslation","viewTextAnnotation","annotationDocId","enterFullscreen","exitFullscreen","enableCaptionTrack","label","disableCaptionTrack","changeSpeed","speedLevel","mute","unmute","changedResolution","watched","addListeners","player","throttle","func","wait","timeout","apply","addEventListener","currentTime","detail","oldtime","newtime","playbackRate","muted","track","registerPage","page","resourceName","b","origin","ContentCache","load","callback","json","TranscriptPlayer","holder","tracks","captionTracks","kind","sync","activeIndex","defineProperties","activeTranscript","capture","addTrack","ti","transcriptOption","createElement","transcriptContent","transcript","innerHTML","style","display","setAttribute","cues","cue","i","q","html_cue","getCueAsHTML","Ayamel","getDirection","textContent","appendChild","dispatchEvent","CustomEvent","bubbles","updateTrack","top","bottom","call","querySelectorAll","node","dataset","cueindex","startTime","endTime","activeCues","activeCue","Math","offsetTop","max","offsetHeight","parent","querySelector","scrollTop","update","YLex","ContentRenderer","container","components","screenAdaption","renderCue","showTranscript","ContentLoader","getTranscriptWhitelist","courseId","permission","getAnnotationWhitelist","params","translate","transcripts","setupMainPlayer","Event","stopPropagation","setupAnnotatorPane","tab","newplayer","overflow","pause","destroy","link","annotate","fit","aspectRatios","hdVideo","mainPlayer","predefined","setupWordListPane","wordlist","myWord","word","catch","trackResources","Map","trackMimes","side","splice","control","prioritizedPlugins","video","audio","paddingBottom","keyCode","paused","utils","FullScreen","fullScreenEvent","isFullScreen","removeProperty","cancelable","maxHeight","documentElement","clientHeight","tabs","resourceMap","codes","s","selectHolder","translationsHolder","LangUtils","p1map","p1","getLangName","sort","localeCompare","EditorWidgets","SuperSelect","el","icon","options","multiple","targetLang","activityType","sourceType","translationSize","wordList","html","renderResult","addWord","parentNode","Data","FormData","append","dst","method","processData","success","alert","removeChild","scrollHeight","pane","setupTranslatorPane","DOM","createDocumentFragment","transcriptPlayer","annotator","trackID","mime","mediaPlayer","promise","setAnnotator","setupTranscriptPane","AyamelPlayer","whitelist","translator","Translator","parseFloat","restoreTabs","ResourceLibrary","setBaseUrl","getDocumentWhitelist","resolve","documentType","join","formBody","encodeURIComponent","test","getTranscriptIds","getAnnotationIds","renderContent","castContentObject","reject","Player","userId","teacher","open","Root","exact","useState","setSearchQuery","setSearchCategory","setPlaceholder","useEffect","setEditing","contentState","collectionRoles","setTag","newTags","HeaderContainer","Form","color","RemoveKeyword","TableContainer","Tabs","TypeButton","CreateContent","adminContent","changeTab","handleAddResourceSubmit","handleSearchTextChange","handleSelectResourceChange","handleTextChange","handleTypeChange","required","flex","justifyContent","data-type","keyword","data-keyword","list","adminCreateContentFromResource","selectedResource","setSelectedResource","setData","addKeyword","reset","tags","which","badkeyword","setIsContent","CreateContentContainer","_e","CreateCollection","setName","defaultV","useParams","accumulator","CreateCollectionContainer","setOverlay","LoginContainer","setIsEditingCollectionName","setCollectionName","contentCheck","useLocation","route","isStudent","useRef","videoId","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"kLAcoBA,QAAQ,cAAAC,OAAOC,SAASC,UAE3C,UAAAF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MAAM,2D,0EClBjB,MAAMC,EAUpBC,YAAYC,GAWXC,KAAKC,GAAKF,EAAG,GACbC,KAAKE,SAAWH,EAAG,SACnBC,KAAKG,KAAOJ,EAAI,gBAChBC,KAAKI,MAAQL,EAAG,MAChBC,KAAKK,MAAQN,EAAI,gBACjBC,KAAKM,UAAYP,EAAI,eCxBR,MAAMQ,EAmCpBT,YAAYC,GAAK,KAlCjBS,QAkCgB,QAjChBC,aAAe,KAiCC,KAhChBC,YAgCgB,QA/BhBC,cA+BgB,QA9BhBC,YA8BgB,QA7BhBC,SAAU,EA6BM,KA5BhBC,WAAY,EA4BI,KA3BhBb,GAAK,KA2BW,KA1BhBc,eAAgB,EA0BA,KAzBhBZ,KAyBgB,QAxBhBa,oBAAqB,EAwBL,KAvBhBC,WAAY,EAuBI,KAtBhBC,UAsBgB,QArBhBC,WAqBgB,QApBhBC,UAoBgB,QAnBhBC,MAAQ,EAmBQ,KAlBhBC,IAkBgB,QAjBhBC,SAAW,CACVC,SAAU,IAgBK,KAbhBC,SAAW,CACVC,YAAY,OACZC,aAAc,GACdC,iBAAiB,EACjBC,cAAc,EACdC,gBAAiB,GACjBC,cAAc,EACdC,kBAAkB,EAClBC,mBAAoB,SAOTC,IAARnC,IACFC,KAAKC,GAAKF,EAAG,GACbC,KAAKqB,MAAQtB,EAAG,MAChBC,KAAKS,aAAeV,EAAI,iBACxBC,KAAKsB,IAAMvB,EAAG,IACdC,KAAKU,YAAcX,EAAI,gBACvBC,KAAKoB,UAAYrB,EAAG,UACpBC,KAAKY,YAAcb,EAAG,YACtBC,KAAKmB,WAAapB,EAAI,eACtBC,KAAKuB,SAASC,SAAWzB,EAAG,KAASoC,MAAM,MAC3CnC,KAAKG,KAAOJ,EAAG,MAGfC,KAAKyB,SAAW,CACfO,iBAAkBjC,EAAI,qBACtBkC,mBAAoBlC,EAAG,YAAgBoC,MAAM,MAC7CJ,aAAchC,EAAI,kBAClB+B,gBAAiB/B,EAAI,gBAAgBoC,MAAM,SC0OhCC,MA9RE,CAChBC,MAAO,CACNC,OAAQ,CAIPC,IAAI,WAAD,4BAAE,WAAOC,EAAgBC,GAAvB,SAAAC,EAAA,sEAA6CC,IAAM,GAAD,OAAIC,wBAAJ,sBAAqDJ,EAArD,YAAuEC,GAAe,CAAEI,iBAAiB,EAAMC,QAAS,CAAC,aAAcrD,OAAOsD,kBAAoBC,KAAKC,GAAOA,EAAIC,MAApO,mFAAF,qDAAC,IAELC,WAAY,CACXZ,IAAI,WAAD,4BAAE,WAAOtC,GAAP,SAAAyC,EAAA,sEAAoBC,IAAM,GAAD,OAAIC,wBAAJ,2BAA0D3C,GAAM,CAAE4C,iBAAiB,EAAMC,QAAS,CAAC,aAAcrD,OAAOsD,kBAAoBC,KAAKC,GAAOA,EAAIC,MAArL,mFAAF,mDAAC,GAOJE,OAAO,WAAD,4BAAE,WAAOjD,EAAMkD,GAAb,SAAAX,EAAA,+EAAyBC,IAAMW,KAAN,UAAcV,wBAAd,sBAAuEW,KAAKC,UAAU,CAAErD,OAAMkD,YAAY,CAC1IR,iBAAiB,EACjBC,QAAS,CACR,eAAe,mBACf,aAAcrD,OAAOsD,mBAJf,2CAAF,qDAAC,GAOPU,QAAS,CAORlB,IAAI,WAAD,4BAAE,WAAOtC,GAAP,eAAAyC,EAAA,sEACkBC,IAAM,GAAD,OAAIC,wBAAJ,2BAA0D3C,EAA1D,YAAwE,CAAE4C,iBAAiB,EAAMC,QAAS,CAAC,aAAcrD,OAAOsD,kBAAoBC,KAAKC,GAAOA,EAAIC,MAD3L,cACEQ,EADF,yBAGGA,EAAQC,OAAO,CAACC,EAAKC,KAC3BD,EAAIC,EAAK5D,IAAM,IAAIM,EAAQsD,GACpBD,GACL,KANC,2CAAF,mDAAC,GAcJN,KAAK,WAAD,4BAAE,WAAOJ,EAAMzC,GAAb,SAAAiC,EAAA,sEAAoCC,IAAMW,KAAN,UAAcV,wBAAd,4CAAqFnC,EAArF,sBAAuH8C,KAAKC,UAAUN,GAAO,CACtLL,iBAAiB,EACjBC,QAAS,CACR,eAAe,mBACf,aAAcrD,OAAOsD,kBAJjB,mFAAF,qDAAC,GAaLe,mBAAmB,WAAD,4BAAE,WAAOrD,EAAcU,GAArB,SAAAuB,EAAA,sEAA0CC,IAAMW,KAAN,UAAcV,wBAAd,iDAA0FnC,GAAgB8C,KAAKC,UAAU,CAAErC,eAAe,CACvM0B,iBAAiB,EACjBC,QAAS,CACR,aAAcrD,OAAOsD,kBAHH,mFAAF,qDAAC,MAUtBgB,KAAM,CAILC,IAAK,KACJvE,OAAOC,SAASuE,KAAhB,UAA0BrB,wBAA1B,6BAAkFnD,OAAOC,SAASuE,OAKnGC,OAAQ,KACPzE,OAAOC,SAASuE,KAAhB,UAA0BrB,wBAA1B,gCAAqFnD,OAAOC,SAASuE,QAGvGd,WAAY,CAMXC,OAAO,WAAD,4BAAE,WAAOrD,GAAP,SAAA2C,EAAA,+EAAeC,IAAMW,KAAN,UAAcV,wBAAd,mBAAoE7C,EAAK,CAC/F8C,iBAAiB,EACjBC,QAAS,CACR,eAAe,mBACf,aAAcrD,OAAOsD,mBAJf,2CAAF,mDAAC,GAaPO,KAAK,WAAD,4BAAE,WAAOrD,EAAIE,GAAX,SAAAuC,EAAA,+EAAoBC,IAAMW,KAAN,UAAcV,wBAAd,uBAAgE3C,GAAM,CAAEE,QAAQ,CAAE0C,iBAAiB,EAAMC,QAAS,CAAC,aAAcrD,OAAOsD,mBAA5J,2CAAF,qDAAC,GAOLoB,KAAK,WAAD,4BAAE,WAAOlE,EAAImE,GAAX,SAAA1B,EAAA,+EAAqBC,IAAM0B,MAAN,UAAezB,wBAAf,2BAAqE3C,GAAMmE,EAAO,CAAEvB,iBAAiB,EAAMC,QAAS,CAAC,aAAcrD,OAAOsD,kBAAoBC,KAAKC,GAAOA,EAAIC,OAAnM,2CAAF,qDAAC,GAOLoB,OAAO,WAAD,4BAAE,WAAOrE,EAAIsE,GAAX,SAAA7B,EAAA,+EAA0BC,IAAMW,KAAN,UAAcV,wBAAd,uBAAgE3C,EAAhE,kBACjCsD,KAAKC,UAAU,CAAEgB,cAAeD,IAAc,CAC7C1B,iBAAiB,EACjBC,QAAS,CACR,eAAe,mBACf,aAAcrD,OAAOsD,mBALhB,2CAAF,qDAAC,GAQP0B,YAAa,CASZlC,IAAI,WAAD,4BAAE,WAAMtC,GAAN,SAAAyC,EAAA,+EAAYC,IAAM,GAAD,OAAIC,wBAAJ,oBAA2D,CAAEC,iBAAiB,EAAMC,QAAS,CAAC,aAAcrD,OAAOsD,mBAApI,2CAAF,mDAAC,GAUJO,KAAK,WAAD,4BAAE,WAAOrD,EAAIyE,EAAUC,GAArB,SAAAjC,EAAA,+EAA8BC,IAAMW,KAAN,UAAcV,wBAAd,2BAAoE3C,EAApE,YAA0EyE,GAAYnB,KAAKC,UAAUmB,GAAO,CAC/I9B,iBAAiB,EACjBC,QAAS,CACR,eAAe,mBACf,aAAcrD,OAAOsD,mBAJjB,2CAAF,uDAAC,KASPU,QAAS,CAQRlB,IAAI,WAAD,4BAAE,WAAMqC,GAAN,iBAAAlC,EAAA,sEAEkBmC,QAAQC,IAAIF,EAAIhB,IAAI3D,GAAM0C,IAAM,GAAD,OAAIC,wBAAJ,wBAAuD3C,GAC3G,CACC4C,iBAAiB,EACjBC,QAAS,CACR,eAAe,mBACf,aAAcrD,OAAOsD,kBAEpBC,KAAKC,GAAOA,EAAIC,QAThB,cAEEQ,EAFF,OAWEqB,EAAWrB,EAAQC,OAAO,CAACC,EAAKC,KAErCD,GADAC,EAAO,IAAItD,EAAQsD,IACV5D,IAAM4D,EACRD,GACL,IACHoB,QAAQC,IAAIF,GAhBR,kBAiBGA,GAjBH,2CAAF,mDAAC,GAyBJzB,KAAK,WAAD,4BAAE,WAAOJ,EAAMzC,GAAb,SAAAiC,EAAA,sEAAoCC,IAAMW,KAAN,UAAcV,wBAAd,gBAAiEM,EAAM,CAChHL,iBAAiB,EACjBC,QAAS,CACR,eAAe,mBACf,aAAcrD,OAAOsD,kBAJjB,mFAAF,qDAAC,GAOLmC,QAAS,CAMR3C,IAAI,WAAD,4BAAE,WAAMtC,GAAN,SAAAyC,EAAA,+EAAYC,IAAM,GAAD,OAAIC,wBAAJ,wBAAuD3C,EAAvD,YAAqE,CAAE4C,iBAAiB,EAAMC,QAAS,CAAC,aAAcrD,OAAOsD,mBAA9I,2CAAF,mDAAC,IAELoC,SAAU,CACT7B,KAAK,WAAD,4BAAE,WAAOrD,EAAIkF,GAAX,SAAAzC,EAAA,+EAAwBC,IAAMW,KAAN,UAAcV,wBAAd,oBAA6D3C,EAA7D,aAA4EsD,KAAKC,UAAU2B,GAAW,CACnItC,iBAAiB,EACjBC,QAAS,CACR,eAAe,mBACf,aAAcrD,OAAOsD,mBAJjB,2CAAF,qDAAC,IAQNtB,SAAU,CACT6B,KAAK,WAAD,4BAAE,WAAOrD,EAAIwB,GAAX,SAAAiB,EAAA,+EAAwBC,IAAMW,KAAN,UAAcV,wBAAd,oBAA6D3C,EAA7D,aAA4EsD,KAAKC,UAAU/B,GAAW,CACnIoB,iBAAiB,EACjBC,QAAS,CACR,eAAe,mBACf,aAAcrD,OAAOsD,mBAJjB,2CAAF,qDAAC,KASPqC,UAAW,CAQV7C,IAAKtC,GAAM0C,IAAM,GAAD,OAAIC,gCAAJ,sBAAoD3C,EAApD,YAA0DoF,KAAKC,MAAMC,SAAS,OAE/FC,KAAM,CAMLjD,IAAI,WAAD,4BAAE,gCAAAG,EAAA,kEAE2B,qBAA1BjD,OAAOsD,eAFR,gCAIgBJ,IAAMJ,IAAN,UAAaK,wBAAb,oEAJhB,OAIIK,EAJJ,OAKFxD,OAAOsD,eAAiBE,EAAIC,KAAK,cAL/B,cAQG5B,EARH,UAQYsB,wBARZ,sBASkBD,IAAMJ,IAAIjB,EAAK,CACnCuB,iBAAiB,EACjBC,QAAS,CACT,eAAe,mBACf,aAAcrD,OAAOsD,kBAbnB,cASG0C,EATH,yBAgBI,IAAI5F,EAAK4F,EAAOvC,OAhBpB,kCAkBH8B,QAAQU,MAAR,MAlBG,0DAAF,kDAAC,GAqBJC,YAAa,CAMZpD,IAAI,WAAD,4BAAE,4BAAAG,EAAA,sEAGiBC,IAAM,GAAD,OAAIC,wBAAJ,oBAA2D,CAAEC,iBAAiB,EAAMC,QAAS,CAAC,aAAcrD,OAAOsD,kBAAmBC,KAAKC,GAAOA,EAAIC,MAH5K,cAGEuC,EAHF,yBAMGA,EAAO9B,OAAO,CAACC,EAAKC,KAC1BA,EAAI,KAAWA,EAAK,mBAEpB,IAAI+B,EAAO,GAUX,OATA/B,EAAI,QAAYgC,QAAQC,IACvBF,EAAKG,KAAK,IAAIxF,EAAQuF,MAGvBjC,EAAI,QAAc+B,SAEX/B,EAAK,mBAEZD,EAAIC,EAAK5D,IAAM4D,EACRD,GACL,KApBC,2CAAF,kDAAC,M,OC/NQoC,MAzCC,CACfC,IAAK,CAACC,EAAYC,EAAaC,EAASC,EAAI,GAAOC,EAAM,MACxD,MAAMC,EAAO,IAAIlB,KACjBkB,EAAKC,QAAQD,EAAKE,UAAsB,GAAVL,EAAe,GAAK,GAAK,KACvDM,SAASC,OAAT,UAAqBT,EAArB,YAAmCC,EAAnC,iBAAuDE,EAAvD,mBAAsEC,EAAtE,oBAAwFC,EAAKK,gBAG9FrE,IAAK2D,IACJ,MAAM/F,EAAI,UAAM+F,EAAN,KAWV,OAVsBW,mBAAmBH,SAASC,QACzBxE,MAAd,KAER0D,QAAQiB,IACV,KAAM,MAAAA,EAAEC,OAAO,IACdD,EAAIA,EAAEE,UAAU,GACjB,GAAwB,IAApBF,EAAEG,QAAQ9G,GACb,OAAO2G,EAAEE,UAAU7G,EAAK+G,OAAQJ,EAAEI,UAG9B,IAGPC,OAAQ,IACAT,SAASC,OACdxE,MADK,KAELwB,OAAO,CAACV,EAAK6D,KAAO,MAAD,EACAA,EAAEM,OAAOjF,MAAT,KAAoByB,IAAIiD,oBADxB,mBACZQ,EADY,KACPC,EADO,KAEnB,IACC,OAAOC,OAAOC,OAAOvE,EAAK,CAAE,CAACoE,GAAM9D,KAAKkE,MAAMH,KAC7C,MAAOI,GACR,OAAOH,OAAOC,OAAOvE,EAAK,CAAE,CAACoE,GAAMC,MAElC,IAGLK,OAAQ,CAACzB,EAAYG,EAAMC,WACtB,GAAK/D,IAAI2D,KACZQ,SAASC,OAAT,UAAqBT,EAArB,YAAmCG,GAAI,gBAAaA,IAApD,OAA6DC,GAAM,kBAAeA,GAAlF,6CCZYsB,MAFQ,IAvBvB,MAAsB,cAAD,KAEpBC,iBAFoB,gBASpB,kBAAkBC,GACjBC,aAAaC,QAAQhI,KAAK6H,iBAAkBC,GAQ7C,oBACC,MAAO,SAAAC,aAAaE,QAAQjI,KAAK6H,oBCApBK,MANC,CACf9F,WACA4D,UACA4B,kB,OCTM,MAAMO,EAAe,ICLb,MAAoB,cAAD,gBAIjCC,MAAQ,CACPC,YAAY,cACZC,YAAY,cACZC,YAAY,cACZC,wBAAwB,0BACxBC,qBAAqB,uBACrBC,YAAY,cACZC,6BAA6B,+BAC7BC,aAAa,eACbC,wBAAwB,0BACxBC,oBAAoB,sBACpBC,yBAAyB,4BAfO,KAoBjCC,QAAU,CACTC,WAAY,MAASC,KAAMlJ,KAAKoI,MAAMC,cACtCc,WAAY,MAASD,KAAMlJ,KAAKoI,MAAME,cACtCc,WAAY,MAASF,KAAMlJ,KAAKoI,MAAMG,cACtCc,sBAAuB,MAASH,KAAMlJ,KAAKoI,MAAMI,0BACjDc,mBAAqB7F,IAAD,CAAgByF,KAAMlJ,KAAKoI,MAAMK,qBAAsBc,QAAS,CAAE9F,aACtF+F,WAAY9D,IAAK,CAAOwD,KAAMlJ,KAAKoI,MAAMM,YAAaa,QAAS,CAAE7D,WACjE+D,0BAA2BhG,IAAO,CAAOyF,KAAMlJ,KAAKoI,MAAMO,6BAA8BY,QAAS,CAAE9F,aACnGiG,YAAahG,IAAO,CAAOwF,KAAMlJ,KAAKoI,MAAMQ,aAAcW,QAAS,CAAE7F,aACrEiG,sBAAuBjG,IAAO,CAAOwF,KAAMlJ,KAAKoI,MAAMS,wBAAyBU,QAAS,CAAE7F,aAC1FkG,kBAAmBC,IAAS,CAAOX,KAAMlJ,KAAKoI,MAAMU,oBAAqBS,QAAS,CAAEM,eACpFC,uBAAwBpG,IAAO,CAAOwF,KAAMlJ,KAAKoI,MAAMW,yBAA0BQ,QAAS,CAAE7F,cA/B5D,KAoCjCqG,MAAQ,CACP7G,KAAM,KACN8G,MAAO,GACPC,WAAY,GACZJ,UAAW,GACXK,qBAAsB,KACtBC,sBAAuB,KACvBC,SAAS,EACTC,YAAa,EACbC,uBAAwB,EACxBC,sBAAuB,EACvBC,uBAAwB,GA/CQ,KAoDjCC,QAAU,CAACV,EAAQ/J,KAAK+J,MAAOW,KAAY,MAAD,EAcrC1K,KAAKoI,MAXRC,EAHwC,EAGxCA,YACAC,EAJwC,EAIxCA,YACAC,EALwC,EAKxCA,YACAC,EANwC,EAMxCA,wBACAC,EAPwC,EAOxCA,qBACAC,EARwC,EAQxCA,YACAC,EATwC,EASxCA,6BACAC,EAVwC,EAUxCA,aACAC,EAXwC,EAWxCA,wBACAC,EAZwC,EAYxCA,oBACAC,EAbwC,EAaxCA,yBAGD,OAAQ2B,EAAOxB,MAEf,KAAKb,EACJ,OAAO,2BACH0B,GADJ,IAECK,SAAS,IAGX,KAAK9B,EACJ,OAAO,2BACHyB,GADJ,IAEC7G,KAAM,KACNkH,SAAS,IAGX,KAAK7B,EACJ,OAAO,2BACHwB,GADJ,IAEC7G,KAAM,KACN8G,MAAO,KAGT,KAAKxB,EACJ,OAAO,2BACHuB,GADJ,IAECF,UAAW,GACXK,qBAAsB,KACtBC,sBAAuB,KACvBC,SAAS,IAGX,KAAK3B,EACJ,OAAO,2BACHsB,GADJ,IAECI,sBAAsB,2BAClBJ,EAAMI,uBACNO,EAAOnB,QAAQ9F,SAEnB2G,SAAS,IAGX,KAAK1B,EAEJ,OADA1D,QAAQU,MAAMgF,EAAOnB,QAAQ7D,OACtB,2BACHqE,GADJ,IAEC7G,KAAM,KACNkH,SAAS,IAGX,KAAKzB,EACJ,OAAO,2BACHoB,GADJ,IAECI,sBAAuBO,EAAOnB,QAAQ9F,QACtC6G,uBAAwBjF,KAAKC,QAG/B,KAAKsD,EACJ,OAAO,2BACHmB,GADJ,IAEC7G,KAAMwH,EAAOnB,QAAQ7F,QACrBsG,MAAM,eACFU,EAAOnB,QAAQ7F,SAEnB0G,SAAS,EACTC,YAAahF,KAAKC,QAGpB,KAAKuD,EACJ,OAAO,2BACHkB,GADJ,IAECE,WAAYS,EAAOnB,QAAQ7F,QAC3BmG,UAAW,GACXK,qBAAsB,KACtBC,sBAAuB,KACvBC,SAAS,EACTG,sBAAuBlF,KAAKC,QAG9B,KAAKwD,EACJ,OAAO,2BACHiB,GADJ,IAECF,UAAWa,EAAOnB,QAAQM,UAC1BO,SAAS,IAGX,KAAKrB,EACJ,OAAO,2BACHgB,GADJ,IAECE,WAAY,GACZC,qBAAsBQ,EAAOnB,QAAQ7F,QACrC0G,SAAS,EACTI,uBAAwBnF,KAAKC,QAG/B,QACC,OAAOyE,IAnKwB,KAyKjCzH,OAAS,CAACE,EAAgBC,EAAakI,GAAQ,IAAtC,uCAAgD,WAAOC,EAAUC,GAAU,SAAEzI,IAA7B,iBAAAM,EAAA,yDAElDoI,EAAOzF,KAAKC,MAAQuF,IAAWE,WAAWV,cAElCS,GAAQlI,YAET+H,EAN2C,wBAQvDC,EAAS,EAAK5B,QAAQC,cARiC,kBAYhC7G,EAASC,MAAMC,OAAOC,IAAIC,EAAgBC,GAZV,OAYhDiB,EAZgD,OActDkH,EAAS,EAAK5B,QAAQU,YAAYhG,IAdoB,kDAiBtDsB,QAAQU,MAAM,KAAMsF,SACpBJ,EAAS,EAAK5B,QAAQQ,WAAb,OAlB6C,gCAqBjDoB,EAAS,EAAK5B,QAAQG,cArB2B,0DAAhD,0DAzKwB,KAiMjC8B,iBAAmB,CAACxI,EAAakI,GAAQ,IAAtB,uCAAgC,WAAOC,EAAUC,GAAU,SAAEzI,IAA7B,mBAAAM,EAAA,yDAE5CoI,EAAOzF,KAAKC,MAAQuF,IAAWE,WAAWR,wBAElCO,GAAQlI,YAET+H,EANqC,wBAQjDC,EAAS,EAAK5B,QAAQC,cAR2B,kBAY1B7G,EAASC,MAAMC,OAAOC,IAAtB,OAAkCE,GAZR,OAY1CiB,EAZ0C,OAc5CwH,EAAY,GAEhBxH,EAAQmC,QAAQC,IACfoF,EAAUnF,KAAK,IAAIlG,EAAKiG,MAKzB8E,EAAS,EAAK5B,QAAQW,sBAAsBuB,IAtBI,kDAyBhDlG,QAAQU,MAAM,KAAMsF,SACpBJ,EAAS,EAAK5B,QAAQQ,WAAb,OA1BuC,gCA6B3CoB,EAAS,EAAK5B,QAAQG,cA7BqB,0DAAhC,0DAjMc,KAiOjCgC,aAAe,CAACC,EAAaT,GAAQ,IAAtB,uCAAgC,WAAOC,EAAUC,GAAU,SAAEzI,IAA7B,iBAAAM,EAAA,6DAE9CkI,EAAS,EAAK5B,QAAQC,cAFwB,kBAMvB7G,EAASC,MAAMC,OAAOC,IAAtB,OAAkC6I,GANX,OAMvC1H,EANuC,OAQvCmG,EAAYnG,EAAQ2H,OAAO7F,GAAQA,EAAKvF,GAAKmL,GAAa,IAAM,GAEtER,EAAS,EAAK5B,QAAQY,kBAAkBC,IAVK,gDAa7C7E,QAAQU,MAAM,KAAMsF,SACpBJ,EAAS,EAAK5B,QAAQQ,WAAb,OAdoC,yDAAhC,0DAjOkB,KAmPjC8B,qBAAuB,CAACrL,EAAI0K,GAAQ,IAAb,uCAAuB,WAAOC,EAAUC,GAAU,SAAEzI,IAA7B,iBAAAM,EAAA,yDAEvCoI,EAAOzF,KAAKC,MAAQuF,IAAWE,WAAWT,yBAElCQ,GAAQlI,YAET+H,EANgC,wBAQ5CC,EAAS,EAAK5B,QAAQC,cARsB,kBAYrB7G,EAASC,MAAMc,WAAWM,QAAQlB,IAAItC,GAZjB,OAYrCwD,EAZqC,OAc3CmH,EAAS,EAAK5B,QAAQS,0BAA0BhG,IAdL,kDAiB3CuB,QAAQU,MAAM,KAAMsF,SACpBJ,EAAS,EAAK5B,QAAQQ,WAAb,OAlBkC,gCAqBtCoB,EAAS,EAAK5B,QAAQG,cArBgB,0DAAvB,0DAnPU,KA2QjCoC,iBAAoBpL,GAAD,uCAAU,WAAOyK,EAAUC,GAAU,SAAEzI,IAA7B,eAAAM,EAAA,6DAE5BkI,EAAS,EAAK5B,QAAQC,cAFM,SAMrB5F,EAAUwH,IAAWE,WAAWlB,UAAU5J,GANrB,SAQrBmC,EAASC,MAAMc,WAAWC,OAAOjD,EAAMqL,SAASnI,IAR3B,OAU3BuH,EAAS,EAAK5B,QAAQK,yBAEtB,EAAKoC,kBAAkBpI,GAZI,gDAe3B2B,QAAQC,IAAI,KAAM+F,SAClBJ,EAAS,EAAK5B,QAAQQ,WAAb,OAhBkB,yDAAV,0DA3Qc,KA+RjCkC,cAAgB,CAACjI,EAAShD,IAAV,uCAA2B,WAAOmK,GAAU,SAAExI,IAAnB,iBAAAM,EAAA,6DAE1CkI,EAAS,EAAK5B,QAAQC,cAFoB,kBAMpB7G,EAASC,MAAMc,WAAWM,QAAQH,KAAKG,EAAShD,GAN5B,OAMnCgF,EANmC,OAQnCvC,EAAO,CAAE,CAACuC,EAAOvC,KAAKjD,IAAKwF,EAAOvC,MAExC0H,EAAS,EAAK5B,QAAQM,mBAAmBpG,IAVA,gDAazC0H,EAAS,EAAK5B,QAAQQ,WAAb,OAbgC,yDAA3B,wDA/RiB,KAgTjCmC,0BAA4B,CAAClL,EAAcU,IAAf,uCAA8B,WAAOyJ,EAAUC,GAAU,SAAEzI,IAA7B,eAAAM,EAAA,6DAEzDkI,EAAS,EAAK5B,QAAQC,cAFmC,SAMxDjE,QAAQC,IAAI9D,GAN4C,SAOnCiB,EAASC,MAAMc,WAAWM,QAAQK,mBAAmBrD,EAAcU,GAPhC,OAOlDsE,EAPkD,OASxDT,QAAQC,IAAIQ,EAAOvC,MATqC,gDAgBxD0H,EAAS,EAAK5B,QAAQQ,WAAb,OAhB+C,yDAA9B,0DAhTK,KAoUjCiC,kBAAoB,CAAChJ,EAAakI,GAAQ,IAAtB,uCAAgC,WAAOC,EAAUC,GAAU,SAAEzI,IAA7B,iBAAAM,EAAA,yDAE7CoI,EAAOzF,KAAKC,MAAQuF,IAAWE,WAAWP,yBAElCM,GAAQlI,YAET+H,EANsC,wBAQlDC,EAAS,EAAK5B,QAAQC,cAR4B,kBAY3B7G,EAASC,MAAMC,OAAOC,IAAtB,aAAwCE,GAZb,OAY3CiB,EAZ2C,OAcjDkH,EAAS,EAAK5B,QAAQc,uBAAuBpG,IAdI,kDAiBjDsB,QAAQU,MAAM,KAAMsF,SACpBJ,EAAS,EAAK5B,QAAQQ,WAAb,OAlBwC,gCAqB5CoB,EAAS,EAAK5B,QAAQG,cArBsB,0DAAhC,0DApUa,KA4VjCyC,MAAQ,2CAAM,WAAOhB,GAAP,SAAAlI,EAAA,sDACbkI,EAAS,EAAK5B,QAAQI,cADT,2CAAN,wDDtVIyC,EAAc,IERZ,MAAmB,cAAD,gBAIhCzD,MAAQ,CACP0D,WAAW,aACXC,WAAW,aACXC,WAAW,aACXC,WAAW,aACXC,SAAS,YATsB,KAchClD,QAAU,CACTmD,UAAW,MAASjD,KAAMlJ,KAAKoI,MAAM0D,aACrCM,UAAW,MAASlD,KAAMlJ,KAAKoI,MAAM2D,aACrCM,UAAW,EAAGrB,cAAH,CACV9B,KAAMlJ,KAAKoI,MAAM6D,WACjB1C,QAAS,CAAEyB,aAEZsB,QAAS9G,IAAI,CACZ0D,KAAMlJ,KAAKoI,MAAM8D,SACjB3C,QAAS,CAAE/D,WAvBmB,KA6BhCuE,MAAQ,CACPvE,KAAM,KACN4E,SAAS,EACTY,QAAQ,GACRuB,OAAO,GAjCwB,KAsChC9B,QAAU,CAACV,EAAQ/J,KAAK+J,OAASb,OAAMK,cACtC,OAAQL,GAER,KAAKlJ,KAAKoI,MAAM0D,WACf,OAAO,eACH/B,EADJ,CAECK,SAAS,IAGX,KAAKpK,KAAKoI,MAAM6D,WAEf,OADAjH,QAAQU,MAAM6D,EAAQyB,SACf,eACHjB,EADJ,CAECvE,KAAM,KACN4E,SAAS,EACTY,QAASzB,EAAQyB,QACjBuB,OAAO,IAGT,KAAKvM,KAAKoI,MAAM2D,WACf,OAAO,eACHhC,EADJ,CAECvE,KAAM,KACN4E,SAAS,EACTmC,OAAO,IAGT,KAAKvM,KAAKoI,MAAM8D,SACf,OAAO,eACHnC,EADJ,CAECvE,KAAM+D,EAAQ/D,KACd4E,SAAS,EACTmC,OAAO,IAGT,QACC,OAAOxC,IA1EuB,KAmFhCyC,UAAY,2CAAM,WAAO5B,EAAU6B,GAAW,SAAErK,IAA9B,eAAAM,EAAA,6DACjBkI,EAAS,EAAK5B,QAAQmD,aADL,kBAGG/J,EAASoD,KAAKjD,MAHjB,OAGViD,EAHU,OAIhBoF,EAAS,EAAK5B,QAAQsD,QAAQ9G,IAJd,gDAMhBoF,EAAS,EAAK5B,QAAQqD,UAAb,OANO,yDAAN,0DAnFoB,KAgGhCK,MAAQ,2CAAM,WAAOC,EAAWF,GAAW,SAAErK,IAA/B,SAAAM,EAAA,sDACbN,EAAS2B,KAAKC,MADD,2CAAN,0DAhGwB,KAuGhCE,OAAS,2CAAM,WAAOyI,EAAWF,GAAW,SAAErK,IAA/B,SAAAM,EAAA,sDACdN,EAAS2B,KAAKG,SADA,2CAAN,4DF9FG0I,EAAoB,IGTlB,MAAyB,cAAD,gBAGtCxE,MAAQ,CACPyE,kBAAkB,oBAClBC,kBAAkB,oBAClBC,kBAAkB,oBAClBC,kBAAkB,oBAClBC,gBAAgB,kBAChBC,2BAA2B,4BAC3BC,kBAAkB,oBAClBC,gBAAgB,kBAChBC,qBAAqB,uBACrBC,wBAAwB,2BAba,KAgBtCC,cAAgB,CACfC,UAAU,aACVC,MAAM,WACNC,aAAa,WACbC,aAAa,gBACbC,WAAW,eArB0B,KA0BtC5E,QAAU,CACT6E,iBAAkB,MAAS3E,KAAMlJ,KAAKoI,MAAMyE,oBAC5CiB,iBAAkB,MAAS5E,KAAMlJ,KAAKoI,MAAM0E,oBAC5CiB,iBAAkB,MAAS7E,KAAMlJ,KAAKoI,MAAM2E,oBAC5CiB,iBAAkBtI,IAAK,CAAOwD,KAAMlJ,KAAKoI,MAAM4E,kBAAmBzD,QAAS,CAAE7D,WAC7EuI,eAAgBtI,IAAW,CAAOuD,KAAMlJ,KAAKoI,MAAM6E,gBAAiB1D,QAAS,CAAE5D,iBAC/EuI,yBAA0B,MAAShF,KAAMlJ,KAAKoI,MAAM8E,6BACpDiB,iBAAkBhL,IAAU,CAAO+F,KAAMlJ,KAAKoI,MAAM+E,kBAAmB5D,QAAS,CAAEpG,gBAClFiL,eAAgBjL,IAAU,CAAO+F,KAAMlJ,KAAKoI,MAAMgF,gBAAiB7D,QAAS,CAAEpG,gBAC9EkL,mBAAoBnL,IAAI,CAAOgG,KAAMlJ,KAAKoI,MAAMiF,qBAAsB9D,QAAQ,eAAMrG,KACpFoL,sBAAuBpL,IAAI,CAAOgG,KAAMlJ,KAAKoI,MAAMkF,wBAAyB/D,QAAQ,eAAMrG,MApCrD,KAyCtC6G,MAAQ,CACP1J,MAAO,GACP2J,MAAO,GACPI,SAAS,EACTC,YAAa,GA7CwB,KAkDtCI,QAAU,CAACV,EAAQ/J,KAAK+J,MAAOW,KAAY,MAAD,EAarC1K,KAAKoI,MAVRyE,EAHwC,EAGxCA,kBACAC,EAJwC,EAIxCA,kBACAC,EALwC,EAKxCA,kBACAC,EANwC,EAMxCA,kBACAC,EAPwC,EAOxCA,gBACAC,EARwC,EAQxCA,2BACAC,EATwC,EASxCA,kBACAC,EAVwC,EAUxCA,gBACAC,EAXwC,EAWxCA,qBACAC,EAZwC,EAYxCA,wBAGD,OAAQ5C,EAAOxB,MAEf,KAAK2D,EACJ,OAAO,2BACH9C,GADJ,IAECK,SAAS,IAGX,KAAK0C,EACJ,OAAO,2BACH/C,GADJ,IAECK,SAAS,IAGX,KAAK2C,EACJ,OAAO,2BACHhD,GADJ,IAECC,MAAO,KAGT,KAAKmD,EACJ,OAAO,2BACHpD,GADJ,IAECK,SAAS,IAGX,KAAK4C,EAEJ,OADAhI,QAAQU,MAAMgF,EAAOnB,QAAQ7D,OACtB,2BACHqE,GADJ,IAECK,SAAS,IAGX,KAAK6C,EACJ,OAAO,2BACHlD,GADJ,IAECC,MAAM,2BACFD,EAAMC,OACNU,EAAOnB,QAAQ5D,aAEnByE,SAAS,EACTC,YAAahF,KAAKC,QAGpB,KAAK4H,EACJ,OAAO,2BACHnD,GADJ,IAECK,SAAS,IAGX,KAAKgD,EACJ,OAAO,2BACHrD,GADJ,IAECC,MAAM,2BACFD,EAAMC,OADL,IAEJ,CAACU,EAAOnB,QAAQpG,WAAWlD,IAAKyK,EAAOnB,QAAQpG,aAEhDiH,SAAS,IAGX,KAAKiD,EASL,KAAKC,EACJ,OAAO,2BACHvD,GADJ,IAEC1J,MAAM,2BACF0J,EAAM1J,OACNqK,EAAOnB,WAIb,QACC,OAAOQ,IAhJ6B,KAsJtCwE,eAAiB,CAAC5D,GAAQ,IAAT,uCAAmB,WAAOC,EAAUC,GAAU,SAAEzI,IAA7B,iBAAAM,EAAA,yDAE7BoI,EAAOzF,KAAKC,MAAQuF,IAAW2D,gBAAgBnE,cAEvCS,GAAQlI,YAET+H,EANsB,wBAQlCC,EAAS,EAAK5B,QAAQ6E,oBARY,kBAYZzL,EAASoD,KAAKG,YAAYpD,MAZd,OAY3BkD,EAZ2B,OAcjCmF,EAAS,EAAK5B,QAAQiF,eAAexI,IAdJ,kDAiBjCT,QAAQU,MAAM,KAAMsF,SACpBJ,EAAS,EAAK5B,QAAQgF,iBAAb,OAlBwB,gCAqB5BpD,EAAS,EAAK5B,QAAQ8E,oBArBM,0DAAnB,0DAtJqB,KA8KtCW,wBAA0B,CAACxO,EAAIyO,IAAL,uCAAmB,WAAO9D,EAAUC,GAAU,SAAEzI,IAA7B,eAAAM,EAAA,6DAE5CkI,EAAS,EAAK5B,QAAQ6E,oBAFsB,kBAMtBzL,EAASe,WAAWmB,OAAOrE,EAAI,CAACyO,EAAUnJ,aANpB,OAMrCE,EANqC,OAO3CT,QAAQC,IAAIQ,GAP+B,gDAc3CT,QAAQC,IAAR,MACA2F,EAAS,EAAK5B,QAAQgF,iBAAb,OAfkC,yDAAnB,0DA9KY,KAiMtCzC,iBAAoBpL,GAAD,uCAAU,WAAOyK,EAAUC,GAAU,SAAEzI,IAA7B,SAAAM,EAAA,6DAE5BkI,EAAS,EAAK5B,QAAQ6E,oBAFM,kBAMrBzL,EAASe,WAAWC,OAAOjD,GANN,OAW3ByK,EAAS,EAAK5B,QAAQmF,oBAXK,gDAc3BnJ,QAAQC,IAAI,KAAM+F,SAClBJ,EAAS,EAAK5B,QAAQgF,iBAAb,OAfkB,yDAAV,0DAjMmB,KAqNtCW,uBAAyB,CAAC1O,EAAIyK,IAAL,uCAAgB,WAAOE,EAAUC,GAAU,SAAEzI,IAA7B,mBAAAM,EAAA,sDAExCkI,EAAS,EAAK5B,QAAQ6E,oBAEhBe,EAAe/D,IAAW2D,gBAAgBxE,MAAM/J,GAElD4O,GAAQ,EAN4B,KAShCnE,EATgC,gHAWvCkE,EAAa3N,WAAY,EAXc,mCAgBvC2N,EAAa3N,WAAY,EAhBc,oCAoBvC2N,EAAaE,UAAW,EApBe,oCAwBvCF,EAAa3N,WAAY,EACzB2N,EAAaE,UAAW,EAzBe,oCA6BvCD,GAAQ,EA7B+B,gCAiCpCE,EAAa,CAChB9N,UAAW2N,EAAa3N,UACxB6N,SAAUF,EAAaE,UAGxB9J,QAAQC,IAAI,eAAgB8J,IAExBF,EAxCoC,iBAwC7BjE,EAAS,EAAK5B,QAAQ8E,oBAxCO,mDA2ChC1L,EAASe,WAAWgB,KAAKlE,EAAI8O,GA3CG,QA4CtCnE,EAAS,EAAK5B,QAAQoF,eAAeQ,IA5CC,mDA8CtChE,EAAS,EAAK5B,QAAQgF,iBAAb,OA9C6B,2DAAhB,0DArNa,KAwQtCgB,mBAAqB,CAACvO,EAAckK,GAAQ,IAC3C,uCAAO,WAAOC,EAAUC,GAAU,SAAEzI,IAA7B,6BAAAM,EAAA,yDAEAqH,EAAQc,IAAW2D,gBAEnB1D,EAAOzF,KAAKC,MAAQyE,EAAMM,YAE1B4E,EAAQnE,GAAQlI,SAEdvC,EAAU0J,EAAV1J,MACF6O,EAAS3H,OAAO4H,KAAK9O,GAAO+O,SAAS3O,IAEvCwO,GAAUC,IAAUvE,EAXlB,wBAaLC,EAAS,EAAK5B,QAAQ6E,oBAbjB,mBAiBwBzL,EAASe,WAAWsB,YAAYlC,IAAI9B,GAjB5D,qBAiBIyC,YAjBJ,MAiBW,GAjBX,EAkBJ0H,EAAS,EAAK5B,QAAQqF,mBAAmB,CAAE,CAAC5N,GAAeyC,KAlBvD,kDAqBJ0H,EAAS,EAAK5B,QAAQgF,iBAAb,OArBL,gCAwBCpD,EAAS,EAAK5B,QAAQ8E,oBAxBvB,0DAAP,0DAzQqC,KAqStCuB,qBAAuB,CAAC5O,EAAc6O,IACrC,uCAAO,WAAO1E,EAAUC,GAAU,SAAEzI,IAA7B,eAAAM,EAAA,6DACNkI,EAAS,EAAK5B,QAAQ6E,oBAEhBe,EAAe/D,IAAW2D,gBAAgBxE,MAAMvJ,GAHhD,SAOLmO,EAAazO,KAAOmP,EAPf,SASClN,EAASe,WAAWG,KAAK7C,EAAc6O,GATxC,OAWL1E,EAAS,EAAK5B,QAAQoF,eAAeQ,IAXhC,gDAcLhE,EAAS,EAAK5B,QAAQgF,iBAAb,OAdJ,yDAAP,0DAtSqC,KAyTtCuB,sBAAwB,CAAC9O,EAAciE,EAAUC,IAAzB,uCAAkC,WAAOiG,EAAUC,GAAU,SAAEzI,IAA7B,qBAAAM,EAAA,6DAEzDkI,EAAS,EAAK5B,QAAQ6E,oBAFmC,kBAK5BzL,EAASe,WAAWsB,YAAYnB,KAAK7C,EAAciE,EAAUC,GALjC,oBAKhDzB,YALgD,MAKzC,GALyC,EAOlDsM,EAAW3E,IAAW2D,gBAAgBnO,MAAMI,GAPM,KAShDiE,EATgD,cAUnD,EAAK6I,cAAcC,UAVgC,UAanD,EAAKD,cAAcI,aAbgC,UAgBnD,EAAKJ,cAAcE,MAhBgC,UAqBnD,EAAKF,cAAcG,aArBgC,UAwBnD,EAAKH,cAAcK,WAxBgC,2BAWvD4B,EAASC,QAAU,IAAID,EAASC,QAASvM,EAAK,IAXS,oCAcvDsM,EAASC,QAAUD,EAASC,QAAQpE,OAAOxH,GAAQA,EAAK5D,KAAO0E,EAAK,GAAG1E,IAdhB,oCAiBvDuP,EAASE,OAAS,IAAIF,EAASE,OAAQxM,GACvCsM,EAASG,WAAa,IAAIH,EAASG,WAAYzM,GAlBQ,oCAsBvDsM,EAASG,WAAa,IAAIH,EAASG,WAAYzM,GAtBQ,oCAyBvDsM,EAASE,OAASF,EAASE,OAAOrE,OAAOxH,GAAQA,EAAK3D,WAAayE,GACnE6K,EAASG,WAAaH,EAASG,WAAWtE,OAAOxH,GAAQA,EAAK3D,WAAayE,GA1BpB,iEAgCxDiG,EAAS,EAAK5B,QAAQsF,sBAAsB,CAAE,CAAC7N,GAAe+O,KAhCN,kDAkCxD5E,EAAS,EAAK5B,QAAQgF,iBAAb,OAlC+C,0DAAlC,4DH/SZ4B,EAAiB,IIVf,MAAsB,cAAD,gBAInCxH,MAAQ,CACPyH,cAAc,gBACdC,cAAc,gBACdC,cAAc,gBACdC,eAAe,iBACfC,cAAc,gBACdC,YAAY,cACZC,iBAAiB,mBACjBC,eAAe,kBAZmB,KAiBnCpH,QAAU,CACTqH,aAAc,MAASnH,KAAMlJ,KAAKoI,MAAMyH,gBACxCS,aAAc,MAASpH,KAAMlJ,KAAKoI,MAAM0H,gBACxCS,aAAc,MAASrH,KAAMlJ,KAAKoI,MAAM2H,gBACxCS,cAAgB/M,IAAD,CAAgByF,KAAMlJ,KAAKoI,MAAM4H,eAAgBzG,QAAS,CAAE9F,aAC3EgN,aAAc/K,IAAK,CAAOwD,KAAMlJ,KAAKoI,MAAM6H,cAAe1G,QAAS,CAAE7D,WACrEgL,WAAYjN,IAAO,CAAOyF,KAAMlJ,KAAKoI,MAAM8H,YAAa3G,QAAS,CAAE9F,aACnEkN,eAAgB1Q,IAAE,CAAOiJ,KAAMlJ,KAAKoI,MAAM+H,iBAAkB5G,QAAS,CAAEtJ,QACvE2Q,cAAenN,IAAO,CAAOyF,KAAMlJ,KAAKoI,MAAMgI,eAAgB7G,QAAS,CAAE9F,cAzBvC,KA8BnCsG,MAAQ,CACPC,MAAO,GACPI,SAAS,EACTC,YAAa,GAjCqB,KAsCnCI,QAAU,CAACV,EAAQ/J,KAAK+J,MAAOW,KAAY,MAAD,EAWrC1K,KAAKoI,MARRyH,EAHwC,EAGxCA,cACAC,EAJwC,EAIxCA,cACAC,EALwC,EAKxCA,cACAC,EANwC,EAMxCA,eACAC,EAPwC,EAOxCA,cACAC,EARwC,EAQxCA,YACAC,EATwC,EASxCA,iBACAC,EAVwC,EAUxCA,eAGD,OAAQ1F,EAAOxB,MAEf,KAAK2G,EACJ,OAAO,2BACH9F,GADJ,IAECK,SAAS,IAGX,KAAK0F,EACJ,OAAO,2BACH/F,GADJ,IAECK,SAAS,IAGX,KAAK2F,EACJ,OAAO,2BACHhG,GADJ,IAECC,MAAO,KAGT,KAAKgG,EACJ,OAAO,2BACHjG,GADJ,IAECC,MAAM,2BACFD,EAAMC,OACNU,EAAOnB,QAAQ9F,SAEnB2G,SAAS,IAGX,KAAK6F,EAEJ,OADAjL,QAAQU,MAAMgF,EAAOnB,QAAQ7D,OACtB,2BACHqE,GADJ,IAECK,SAAS,IAGX,KAAK8F,EACJ,OAAO,2BACHnG,GADJ,IAECC,MAAM,2BACFD,EAAMC,OACNU,EAAOnB,QAAQ9F,SAEnB2G,SAAS,EACTC,YAAahF,KAAKC,QAGpB,KAAK8K,EACJ,OAAO,2BACHrG,GADJ,IAECC,MAAM,2BACFD,EAAMC,OADL,IAEJ,CAACU,EAAOnB,QAAQ9F,QAAQxD,IAAKyK,EAAOnB,QAAQ9F,UAE7C2G,SAAS,IAGX,KAAK+F,EACJ,OAAO,2BACHpG,GADJ,IAECC,MAAO,CACN,CAACU,EAAOnB,QAAQtJ,IAAhB,2BACI8J,EAAMC,MAAMU,EAAOnB,QAAQtJ,KAD/B,IAECoB,MAAO0I,EAAMC,MAAMU,EAAOnB,QAAQtJ,IAAIoB,MAAQ,KAGhD+I,SAAS,IAGX,QACC,OAAOL,IA1H0B,KAgInC8G,WAAa,CAACtM,EAAa,GAAIoG,GAAQ,IAA1B,uCAAoC,WAAOC,EAAUC,GAAU,SAAEzI,IAA7B,yBAAAM,EAAA,yDAChDsC,QAAQC,IAAIV,GAENuG,EAAOzF,KAAKC,MAAQuF,IAAWiG,aAAazG,YAE5C4E,EAAQnE,GAAQlI,SAEdoH,EAAUa,IAAWiG,aAArB9G,MACF+G,EAAYxJ,OAAO4H,KAAKnF,GAAOpG,IAAI3D,GAAOA,GAC1C+Q,EAAYzM,EAAW8G,OAAOpL,IAAO8Q,EAAU3B,SAASnP,MAE1DgP,GAAS+B,EAAU9J,QAAUyD,GAXe,wBAa/CC,EAAS,EAAK5B,QAAQqH,gBAbyB,mBAiBzBjO,EAASqB,QAAQlB,IAAIyO,GAjBI,QAiBxCvL,EAjBwC,OAmB9CmF,EAAS,EAAK5B,QAAQ0H,WAAWjL,IAnBa,kDAsB9CT,QAAQU,MAAM,KAAMsF,SACpBJ,EAAS,EAAK5B,QAAQyH,aAAb,OAvBqC,gCA0BzC7F,EAAS,EAAK5B,QAAQsH,gBA1BmB,0DAApC,0DAhIsB,KA6JnCpL,QAAU,CAACjF,EAAI0K,GAAQ,IAAb,uCAAuB,WAAOC,EAAUC,GAAU,SAAEzI,IAA7B,eAAAM,EAAA,yDAE1BoI,EAAOzF,KAAKC,MAAQuF,IAAWiG,aAAazG,cAEpCS,GAAQlI,YAET+H,EANmB,wBAQ/BC,EAAS,EAAK5B,QAAQqH,gBARS,kBAYxBjO,EAASqB,QAAQyB,QAAQ3C,IAAItC,GAZL,OAe9B2K,EAAS,EAAK5B,QAAQ9D,QAAQjF,IAfA,kDAkB9B+E,QAAQU,MAAM,KAAMsF,SACpBJ,EAAS,EAAK5B,QAAQyH,aAAb,OAnBqB,gCAsBzB7F,EAAS,EAAK5B,QAAQsH,gBAtBG,0DAAvB,0DA7JyB,KAsLnC5E,cAAgB,CAACjI,EAAShD,IAAV,uCAA2B,WAAOmK,EAAUC,GAAU,SAAEzI,IAA7B,iBAAAM,EAAA,6DAE1CkI,EAAS,EAAK5B,QAAQqH,gBAFoB,kBAMpBjO,EAASqB,QAAQH,KAAKG,EAAShD,GANX,OAMnCgF,EANmC,OAQnCvC,EAAO,CAAE,CAACuC,EAAOvC,KAAKjD,IAAKwF,EAAOvC,MAGxC0H,EAAS,EAAK5B,QAAQwH,cAActN,IAXK,gDAczC0H,EAAS,EAAK5B,QAAQyH,aAAb,OAdgC,yDAA3B,0DAtLmB,KAwMnCQ,cAAgBxN,GAAO,uCAAI,WAAOmH,EAAU6B,GAAW,SAAErK,IAA9B,iDAAAM,EAAA,6DAE1BkI,EAAS,EAAK5B,QAAQqH,gBAFI,SAMjBpQ,EAAkBwD,EAAlBxD,GAAIgB,EAAcwC,EAAdxC,UANa,EAYrBwC,EAAQlC,SAHX2P,EATwB,EASxBA,MACAtQ,EAVwB,EAUxBA,YACAY,EAXwB,EAWxBA,SAXwB,EAwBrBiC,EAAQhC,SATXE,EAfwB,EAexBA,aACAM,EAhBwB,EAgBxBA,mBACAH,EAjBwB,EAiBxBA,gBACAJ,EAlBwB,EAkBxBA,YACAK,EAnBwB,EAmBxBA,aACAoP,EApBwB,EAoBxBA,gBACAnP,EArBwB,EAqBxBA,iBACAJ,EAtBwB,EAsBxBA,gBACAC,EAvBwB,EAuBxBA,aAGKJ,EAAW,CAChBE,eACAM,qBACAH,kBACAJ,cACAK,eACAoP,kBACAnP,mBACAJ,kBACAC,gBAGKsD,EAAW,CAChB+L,QACAtQ,cACAY,WACAP,aA1CwB,SA8CnBmB,EAASqB,QAAQhC,SAAS6B,KAAKrD,EAAIwB,GA9ChB,wBAiDnBW,EAASqB,QAAQ0B,SAAS7B,KAAKrD,EAAIkF,GAjDhB,QAsDzByF,EAAS,EAAK5B,QAAQ4H,cAAcnN,IAtDX,kDAyDzBmH,EAAS,EAAK5B,QAAQyH,aAAb,OAzDgB,0DAAJ,0DAxMY,KAqQnCvL,QAAU,CAACjF,EAAI0K,GAAQ,IAAb,uCAAuB,WAAOC,EAAUC,GAAU,SAAEzI,IAA7B,eAAAM,EAAA,yDAE1BoI,EAAOzF,KAAKC,MAAQuF,IAAWiG,aAAazG,cAEpCS,GAAQlI,YAET+H,EANmB,wBAQ/BC,EAAS,EAAK5B,QAAQqH,gBARS,kBAYxBjO,EAASqB,QAAQyB,QAAQ3C,IAAItC,GAZL,OAc9B2K,EAAS,EAAK5B,QAAQ2H,eAAe1Q,IAdP,kDAiB9B+E,QAAQU,MAAM,KAAMsF,SACpBJ,EAAS,EAAK5B,QAAQyH,aAAb,OAlBqB,gCAqBzB7F,EAAS,EAAK5B,QAAQsH,gBArBG,0DAAvB,4DJ1PEc,EAAmB,IKTjB,MAAwB,cAAD,gBAIrChJ,MAAQ,CACPiJ,YAAY,cACZC,aAAa,eACbC,2BAA2B,6BAC3BC,kBAAkB,oBAClBC,SAAS,YAT2B,KAcrCzI,QAAU,CACT0I,WAAY,MAASxI,KAAMlJ,KAAKoI,MAAMiJ,cACtCM,YAAa,CAACpI,EAAU,CAAEqI,UAAW,KAAMnR,cAAe,EAAGoR,qBAAoB,MAApE,CAAmF3I,KAAMlJ,KAAKoI,MAAMkJ,aAAc/H,YAC/HuI,yBAA0B,MAAS5I,KAAMlJ,KAAKoI,MAAMmJ,6BACpDQ,gBAAiBC,IAAM,CAAO9I,KAAMlJ,KAAKoI,MAAMoJ,kBAAmBjI,QAAS,CAAEyI,YAC7EC,QAASC,IAAI,CAAOhJ,KAAMlJ,KAAKoI,MAAMqJ,SAAUlI,QAAS,CAAE2I,WAnBtB,KAwBrCnI,MAAQ,CACPoI,YAAY,EACZC,MAAO,CACNJ,QAAQ,EACRJ,UAAW,KACXnR,cAAe,EACfoR,qBAAqB,EACrBQ,MAAO,IAERC,cAAe1K,EAAe0K,cAC9BC,cAAc,EACdL,MAAM,GAnC8B,KAwCrCzH,QAAU,CAACV,EAAQ/J,KAAK+J,MAAOW,KAC9B,OAAQA,EAAOxB,MAEf,KAAKlJ,KAAKoI,MAAMiJ,YACf,OAAO,2BACHtH,GADJ,IAECoI,YAAapI,EAAMoI,aAGrB,KAAKnS,KAAKoI,MAAMkJ,aACf,OAAO,2BACHvH,GADJ,IAECqI,MAAM,2BACFrI,EAAMqI,OADL,IAEJJ,QAASjI,EAAMqI,MAAMJ,OACrBJ,UAAWlH,EAAOnB,QAAQqI,UAC1BnR,aAAciK,EAAOnB,QAAQ9I,aAC7BoR,oBAAqBnH,EAAOnB,QAAQsI,oBACpCQ,MAAO3H,EAAOnB,QAAQ8I,UAIzB,KAAKrS,KAAKoI,MAAMmJ,2BAEf,OADA3J,EAAe0K,eAAiBvI,EAAMuI,cAC/B,2BACHvI,GADJ,IAECuI,eAAgBvI,EAAMuI,gBAGxB,KAAKtS,KAAKoI,MAAMoJ,kBACf,OAAO,2BACHzH,GADJ,IAECwI,aAAc7H,EAAOnB,QAAQyI,SAG/B,KAAKhS,KAAKoI,MAAMqJ,SACf,OAAO,2BACH1H,GADJ,IAECmI,KAAMxH,EAAOnB,QAAQ2I,OAGvB,QACC,OAAOnI,IAlF4B,KA2FrCyI,WAAa,2CAAM,WAAM5H,GAAN,SAAAlI,EAAA,sDAClBkI,EAAS,EAAK5B,QAAQ0I,cADJ,2CAAN,sDA3FwB,KAoGrCe,YAAcL,GAAK,uCAAI,WAAMxH,GAAN,SAAAlI,EAAA,sDACtBkI,EAAS,EAAK5B,QAAQ2I,YAAYS,IADZ,2CAAJ,sDApGkB,KAwGrCM,yBAA2B,2CAAM,WAAM9H,GAAN,SAAAlI,EAAA,sDAChCkI,EAAS,EAAK5B,QAAQ8I,4BADU,2CAAN,sDAxGU,KA4GrCC,gBAAkBC,GAAM,uCAAI,WAAMpH,GAAN,SAAAlI,EAAA,sDAC3BkI,EAAS,EAAK5B,QAAQ+I,gBAAgBC,IADX,2CAAJ,sDA5Ga,KAgHrCC,QAAUC,GAAI,uCAAI,WAAMtH,GAAN,SAAAlI,EAAA,sDACjBkI,EAAS,EAAK5B,QAAQiJ,QAAQC,IADb,2CAAJ,wDLtGFS,EAAkB,IMZhB,MAAuB,cAAD,gBAIpCvK,MAAQ,CACPwK,eAAe,iBACfC,eAAe,iBACfC,eAAe,iBACfC,eAAe,iBACfC,aAAa,gBATsB,KAcpChK,QAAU,CACTiK,eAAgB,MAAS/J,KAAMlJ,KAAKoI,MAAMwK,iBAC1CM,eAAgB,MAAShK,KAAMlJ,KAAKoI,MAAMyK,iBAC1CM,eAAgB,MAASjK,KAAMlJ,KAAKoI,MAAM0K,iBAC1CM,eAAgB1N,IAAK,CAAOwD,KAAMlJ,KAAKoI,MAAM2K,eAAgBxJ,QAAS,CAAE7D,WACxE2N,aAAc9R,IAAQ,CAAO2H,KAAMlJ,KAAKoI,MAAM4K,aAAczJ,QAAS,CAAEhI,eAnBpC,KAwBpCwI,MAAQ,CACPC,MAAO,GACPI,SAAS,EACTC,YAAa,GA3BsB,KAgCpCI,QAAU,CAACV,EAAQ/J,KAAK+J,MAAOW,KAAY,MAAD,EAQrC1K,KAAKoI,MALRwK,EAHwC,EAGxCA,eACAC,EAJwC,EAIxCA,eACAC,EALwC,EAKxCA,eACAC,EANwC,EAMxCA,eACAC,EAPwC,EAOxCA,aAGD,OAAQtI,EAAOxB,MAEf,KAAK0J,EACJ,OAAO,eACH7I,EADJ,CAECK,SAAS,IAGX,KAAKyI,EACJ,OAAO,eACH9I,EADJ,CAECK,SAAS,IAGX,KAAK0I,EACJ,OAAO,eACH/I,EADJ,CAECC,MAAO,KAGT,KAAK+I,EAEJ,OADA/N,QAAQU,MAAMgF,EAAOnB,QAAQ7D,OACtB,eACHqE,EADJ,CAECK,SAAS,IAGX,KAAK4I,EACJ,OAAO,eACHjJ,EADJ,CAECC,MAAM,eACFD,EAAMC,MADL,CAEJ,CAACU,EAAOnB,QAAQhI,SAAStB,IAAKyK,EAAOnB,QAAQhI,WAE9C6I,SAAS,EACTC,YAAahF,KAAKC,QAGpB,QACC,OAAOyE,IAjF2B,KAuFpCuJ,aAAe,CAACrT,EAAI0K,GAAQ,IAAb,uCAAuB,WAAOC,EAAUC,GAAU,SAAEzI,IAA7B,+BAAAM,EAAA,2DAEXmI,IAAlB0I,EAF6B,EAE7BA,cAEFzI,EAAOzF,KAAKC,MAAQiO,EAAclJ,YAElC4E,EAAQnE,GAAQlI,SAEdoH,EAAUa,IAAW0I,cAArBvJ,MACF+G,EAAYxJ,OAAO4H,KAAKnF,GACxBkF,EAAS6B,EAAU3B,SAASnP,IAE9BgP,GAAUC,IAAUvE,EAZa,wBAcpCC,EAAS,EAAK5B,QAAQiK,kBAdc,mBAkBd7Q,EAASgD,UAAU7C,IAAItC,GAlBT,QAkB7BwF,EAlB6B,QAoB3BlE,EAAakE,EAAOvC,KAApB3B,UACC6D,UAAY,GACrB7D,EAASiS,UAAU3N,QAAQhC,GAAQtC,EAAS6D,UAAUvB,EAAKqF,MAAQ,IAEnErE,QAAQC,IAAIvD,EAASiS,UAAU5P,IAAnB,uCAAuB,WAAMC,GAAN,eAAAnB,EAAA,sEACbN,EAASgD,UAAU7C,IAAIsB,EAAK4P,WADf,OAC5BhO,EAD4B,OAElClE,EAAS6D,UAAUvB,EAAKqF,MAAMnD,KAAKN,EAAOvC,KAAK3B,UAFb,2CAAvB,wDAKR,kBAAOA,EAASC,WAAuBD,EAASC,SAAWD,EAASC,SAASW,MAAlB,MAE/DyI,EAAS,EAAK5B,QAAQqK,aAAa9R,IA/BA,kDAkCnCqJ,EAAS,EAAK5B,QAAQoK,eAAb,OAlC0B,gCAqC9BxI,EAAS,EAAK5B,QAAQkK,kBArCQ,0DAAvB,0DAvFqB,KA+HpCQ,YAAcnS,GAAQ,uCAAI,WAAMqJ,GAAN,SAAAlI,EAAA,sDACzBkI,EAAS,EAAK5B,QAAQqK,aAAa9R,IADV,2CAAJ,wDNxGRoS,MATE,CAChBxL,eACA0D,cACAe,oBACAgD,iBACAwB,mBACAuB,mBOgCc5I,MA3BD6J,sBAGbC,0BAAgB,CACf9I,WAAY5C,EAAasC,QACzBqJ,UAAWjI,EAAYpB,QACvB+D,gBAAiB5B,EAAkBnC,QACnCqG,aAAclB,EAAenF,QAC7BsJ,eAAgB3C,EAAiB3G,QACjC8I,cAAeZ,EAAgBlI,UAIhC,CACCM,WAAY5C,EAAa4B,MACzB+J,UAAWjI,EAAY9B,MACvByE,gBAAiB5B,EAAkB7C,MACnC+G,aAAclB,EAAe7F,MAC7BgK,eAAgB3C,EAAiBrH,MACjCwJ,cAAeZ,EAAgB5I,OAGhCiK,8BACCC,0BAAgBC,IAAMC,kBAAkBjM,M,oyBC9CnC,MAAMkM,EAAYC,IAAOC,IAAV,KAUTC,EAAOF,IAAOC,IAAV,IAINjC,GAASA,EAAML,OAAN,yBAAiCK,EAAMmC,YAAvC,UAgBPC,EAAQJ,IAAOC,IAAV,IAMCjC,GAASA,EAAMqC,IAGpBrC,GAASA,EAAML,OAAN,kC,qBCnCvB,MAAM2C,UAAsBC,gBAE3B9U,YAAYuS,GACXwC,MAAMxC,GADY,KAOnByC,aAAepN,IACdA,EAAEqN,iBAEF/U,KAAKgV,SAAS,CACbhD,QAAShS,KAAKoE,MAAM4N,UATrBhS,KAAKoE,MAAQ,CACZ4N,OAAQK,EAAML,QAYhBiD,SAAU,MAEDH,EAAiB9U,KAAjB8U,aAFA,EAG0B9U,KAAKqS,MAA/B6C,EAHA,EAGAA,OAHA,IAGQC,gBAHR,MAGmB,GAHnB,EAIAnD,EAAWhS,KAAKoE,MAAhB4N,OAER,OACC,kBAACoC,EAAD,KACC,wBAAIgB,QAASN,GAAeI,EAAO,kBAACT,EAAD,CAAOC,IAAKW,IAAOrD,OAAQhS,KAAKoE,MAAM4N,UACzE,kBAACuC,EAAD,CAAMC,YAAaW,EAASjO,OAAQ8K,OAAQA,GAC1CmD,KAQSR,Q,inBC9BAW,MAPDjB,IAAOC,IAAV,KASJ,MAAMiB,EAAQlB,IAAOmB,MAAV,KAeLC,EAAWpB,IAAOqB,OAAV,IACFC,KCzBJ,MAAMC,UAAmBhB,gBAEvC9U,YAAYuS,GACXwC,MAAMxC,GAENrS,KAAKoE,MAAQ,CACZyR,MAAO,CACNC,OAAO,GACPC,YAAY,EACZC,QAAS,CACR,CACC9E,MAAM,MAEP,CACCA,MAAM,SAEP,CACCA,MAAM,QAEP,CACCA,MAAM,QACN7F,OAAQ,CACP4K,OAAO,EACPC,SAAS,EACTC,WAAW,EACXC,IAAI,EACJC,SAAS,IAGX,CACCnF,MAAM,SAEP,CACCA,MAAM,gBAIToF,YAAa,CACZR,OAAO,GACPC,YAAY,EACZC,QAAS,CACR,CACC9E,MAAM,MAEP,CACCA,MAAM,QAEP,CACCA,MAAM,WAaT3Q,QAAS,CACRuV,OAAO,GACPC,YAAY,EACZC,QAAS,CACR,CACC9E,MAAM,MAEP,CACCA,MAAM,QAEP,CACCA,MAAM,cAEP,CACCA,MAAM,aAMP,CACCA,MAAM,OACN7F,OAAQ,CACPkL,OAAO,EACPC,OAAO,EACPC,MAAM,EACNC,OAAO,IAGT,CACCxF,MAAM,WAEP,CACCA,MAAM,iBAOX,gCAAgCmB,EAAOjO,GACtC,OAAO,2BACHA,GADJ,IAEClB,KAAMmP,EAAMnP,KAAOmP,EAAMnP,KAAKU,IAAIC,GAC7B,UAAAwO,EAAMsE,SACF,CACNC,GAAI/S,EAAK5D,GACT4W,MAAOhT,EAAK3D,SACZ4W,KAAMjT,EAAK1D,KACX4W,MAAOlT,EAAKxD,MACZ2W,MAAOnT,EAAKzD,MACZ,aAAc,IAAIiF,KAAKxB,EAAKvD,WAAW2W,gBAE9B,gBAAA5E,EAAMsE,SACT,CACNC,GAAI/S,EAAK5D,GACT6W,KAAMjT,EAAK1D,KACX+W,MAAOrT,EAAKsT,OAKH,YAAA9E,EAAMsE,SAKT,CACNC,GAAI/S,EAAK5D,GACT6W,KAAMjT,EAAK1D,KACXiX,WAAYvT,EAAKpD,aACjB4W,UAAWxT,EAAK3C,UAEhBoW,KAAMzT,EAAKnD,YACX6W,QAAS1T,EAAKhD,QACd2W,WAAY3T,EAAK1C,YAEL0C,GACV,KAIPoR,SAAU,MACD0B,EAAa3W,KAAKqS,MAAlBsE,SACAzT,EAASlD,KAAKoE,MAAdlB,KACR,IAAKA,EAAKgE,aAAsBhF,IAAZgB,EAAK,GAAkB,OAAO,KAuClD,MAAMJ,EAAU9C,KAAKoE,MAAMuS,GAAUX,QAErC,OACC,kBAAC,EAAD,KACC,kBAACT,EAAD,KACC,+BACC,4BACEzS,EAAQc,IAAI,CAACsR,EAAQuC,IAAU,wBAAIpQ,IAAG,UAAK6N,EAAOhE,MAAZ,YAAqBuG,IAAUvC,EAAOhE,MAAOgE,EAAO7J,QAAP,MACpF,+BAGF,+BACEnI,EAAKU,IACLC,GAAQ,wBAAIwD,IAAKxD,EAAK+S,IACpB9T,EAAQc,IACR,CAACsR,EAAQuC,IACD,wBAAIpQ,IAAG,UAAK6N,EAAL,YAAeuC,IAC3B5T,EAAKqR,EAAOhE,SAIhB,4BAAI,kBAACuE,EAAD,a,+RC7ML,MAAMiC,GAAcrD,IAAOC,IAAV,KAGLjC,GAASA,EAAMsF,QAAUC,KAAeC,MCW5CC,OAfKzF,IAAU,MAErBpS,EAAuDoS,EAAvDpS,GAAI8X,EAAmD1F,EAAnD0F,SAAUC,EAAyC3F,EAAzC2F,MAAO7C,EAAkC9C,EAAlC8C,SAAU8C,EAAwB5F,EAAxB4F,SAAUvJ,EAAc2D,EAAd3D,UAE3CwJ,EAAM,WAAOxJ,EAAP,YAAoBzO,GAEhC,OACC,2BAAOkY,QAASD,GACf,2BAAOjY,GAAIiY,EAAQ/X,KAAI,eAAUkS,EAAM3D,WAAaxF,KAAK,QAAQpB,MAAOkQ,EAAOC,SAAUA,EAAUG,QAAM,IACzG,kBAACV,GAAD,CAAaC,QAASI,IACrB5C,I,+9DCTG,MAAMf,GAAYC,IAAOC,IAAV,MAUT+D,GAAShE,IAAOC,IAAV,MAkBNgE,GAAejE,IAAOC,IAAV,KAGCjC,GAAK,iBAAcA,EAAMkG,MAApB,eAmBlB9D,GAAQJ,IAAOC,IAAV,KAuBJjC,GAASA,EAAMmG,MAAN,QACIC,KAMjBpG,GAASA,EAAMqG,SAAN,cAGNrG,GAASA,EAAMsG,KAAN,QAQRtG,GAASA,EAAMsG,KAAN,QACIC,MAMdC,GAAWxE,IAAOC,IAAV,MChGN,MAAMwE,WAAwBC,YAC5CjZ,YAAYuS,GACXwC,MAAMxC,GADY,KAWnB2G,eAAiBtR,IACY,IAAxBA,EAAEuR,OAAOC,WACZlZ,KAAKgV,SAAS,CACb2D,MAAM,GACJ,KACFQ,WAAW,KACVnZ,KAAKgV,SAAS,CACb0D,UAAU,KAET,OAE8B,IAAxBhR,EAAEuR,OAAOC,YACnBlZ,KAAKgV,SAAS,CACb0D,UAAU,GACR,KACF1Y,KAAKgV,SAAS,CACb2D,MAAM,OA3BS,KAiCnBO,WAAa,KACZlZ,KAAKoZ,QAAQC,QAAQC,SAAS,CAC7BX,MAAO,OAnCU,KAuCnBY,YAAc,KACbvZ,KAAKoZ,QAAQC,QAAQC,SAAS,CAC7BX,KAAM,OAtCP3Y,KAAKoE,MAAQ,CACZuU,MAAM,EACND,UAAU,GAGX1Y,KAAKoZ,QAAUI,IAAMC,YAqCtBxE,SAAU,MAAD,EAEkBjV,KAAKqS,MAAMlP,WAA7BhD,EAFA,EAEAA,KAAMsD,EAFN,EAEMA,QAGKzD,KAAKqS,MAAM9N,WAE9B,OACC,kBAAC,GAAD,KACC,kBAAC,GAAD,KACC,kBAAC,KAAD,CAAMmV,GAAE,KAAQvZ,GAChB,2BAAIsD,EAAQyD,OAAZ,YAED,6BACC,kBAAC,GAAD,CAAOyS,UAAU,OAAOhB,KAAM3Y,KAAKoE,MAAMuU,KAAMD,SAAU1Y,KAAKoE,MAAMsU,SAAUtD,QAASpV,KAAKkZ,YAC3F,+BAED,kBAACZ,GAAD,CAAcC,MAAO9U,EAAQyD,OAAQ0S,SAAU5Z,KAAKgZ,eAAgBa,IAAK7Z,KAAKoZ,QAASU,gBAAiB9Z,KAAKgZ,gBAE3GvV,EAAQG,IAAIC,GACJ,kBAAC,GAAD,CAAWwD,IAAKxD,EAAK5D,GAAIiD,KAAMW,KAGxC,kBAACgV,GAAD,OAED,kBAAC,GAAD,CAAOc,UAAU,QAAQvE,QAASpV,KAAKuZ,aACtC,kC,u5BC7EN,MAAMQ,GAAUC,YAAH,MASAC,GAAgB5F,IAAOC,IAAV,MAMb4F,GAAY7F,IAAOC,IAAV,KAOrBjC,GAAUA,EAAM8H,OAUfC,YAVQ,KAYiB/H,GAASA,EAAMqC,KAXxC0F,YADQ,KAMML,KCxBD,MAAMM,WAAkBtB,YACtCjZ,YAAYuS,GACXwC,MAAMxC,GADY,KAQnBiI,kBAAoB,KACnB,MAAM1U,EAAO,IAAI4Q,MACjB5Q,EAAK8O,IAAM1U,KAAKoE,MAAMmW,IACtB3U,EAAK4U,OAAS,KACbxa,KAAKgV,SAAS,CAAEmF,QAAQ,MAVzBna,KAAKoE,MAAQ,CACZmW,IAAKlI,EAAMnP,KAAK9B,UAChB+Y,QAAQ,GAYVlF,SAAU,MAAD,EAEajV,KAAKqS,MAAMnP,KAAxB/C,EAFA,EAEAA,KAAMF,EAFN,EAEMA,GACNka,EAAWna,KAAKoE,MAAhB+V,OAER,OACC,kBAACF,GAAD,KACC,kBAAC,KAAD,CAAMP,GAAE,kBAAazZ,IACpB,kBAACia,GAAD,CAAWxF,IAAKvU,EAAMga,OAAQA,IAC9B,4BAAKha,M,sgBCrBKmV,OAPDjB,IAAOC,IAAV,MASJ,MAAMiB,GAAQlB,IAAOmB,MAAV,MAeLiF,GAAapG,YAAOqG,KAAPrG,CAAH,MCxBR,MAAMsG,WAA0B/F,gBAE9CK,SAAU,MACD/R,EAASlD,KAAKqS,MAAdnP,KAER,OAAa,OAATA,GAAkBA,EAAKgE,aAAsBhF,IAAZgB,EAAK,GAGzC,kBAAC,GAAD,KACC,kBAAC,GAAD,KACC,+BACC,4BACC,oCAGA,+BAIF,+BACEA,EAAKU,IAAI,CAACC,EAAM4T,IAChB,wBAAIpQ,IAAKxD,EAAK5D,IACb,4BAAK4D,EAAK1D,MACV,4BAAI,kBAACsa,GAAD,CAAYpT,IAAKoQ,EAAOiC,GAAE,iCAA4B7V,EAAK5D,KAA3D,0BAlByD,M,uyBCPrE,MAAM8Z,GAAUC,YAAH,MAwCE1E,OA/BDjB,IAAOC,IAAV,KACAjC,GAASA,EAAMuI,OAChBvI,GAASA,EAAMwI,MAGbxI,GAASA,EAAMyI,SAChBzI,GAASA,EAAM0I,QAGZhB,GAYF1H,GAASA,EAAMuI,OAChBvI,GAASA,EAAMwI,MAGbxI,GAASA,EAAMyI,SAChBzI,GAASA,EAAM0I,SCPZC,OAzBd,EACCtG,MACAuG,MAAG,GACHL,SAAM,QACNC,QAAK,UACLC,WAAQ,SACRC,UAAO,UAGN,kBAAC,GAAD,CACCH,OAAQA,EACRC,MAAOA,EACPC,SAAUA,EACVC,QAASA,GAERrG,GACA,yBACCA,IAAKA,EACLuG,IAAKA,K,6xBCnBJ,MAAM5C,GAAShE,IAAOC,IAAV,KAYC4G,IAKL7I,GAASA,EAAM8I,OAAN,kCAqBXC,GAAO/G,IAAOC,IAAV,KACNjC,GAASA,EAAM8I,OAAN,WAA2C,IAAxB3P,SAAS6G,EAAMkG,OAAe,GAAGhT,WAApD,YCrCpB,MAAM8V,WAAuBzG,gBAAe,eAAD,oBAC1CxQ,MAAQ,CACP+W,QAAQ,GAFiC,KAK1CG,YAAc,KACbtb,KAAKgV,SAASuG,IAAS,CAAOJ,QAASI,EAAUJ,WAGlDlG,SAAU,MAERkG,EACGnb,KAAKoE,MADR+W,OAFO,EAQJnb,KAAKqS,MAAMlP,WAFdhD,EANO,EAMPA,KACAsD,EAPO,EAOPA,QAGkBzD,KAAKqS,MAAM9N,WAE9B,OAAKd,EAGJ,6BACC,kBAAC,GAAD,CAAQ0X,OAAQA,EAAQ/F,QAASpV,KAAKsb,aACrC,4BAAKnb,GACL,2BAAIsD,EAAQyD,OAAZ,WACA,+BAED,kBAACkU,GAAD,CAAMD,OAAQA,EAAQ5C,MAAO9U,EAAQyD,QAEnCzD,EAAQG,IAAIC,GACJ,kBAAC,GAAD,CAAUwD,IAAKxD,EAAK5D,GAAIiD,KAAMW,OAZrB,MAqBRwX,U,qgCCXA/F,OA/BMjB,IAAOC,IAAV,MAiCX,MAAMkH,GAAOnH,IAAOoH,GAAV,KAOGC,KACPrJ,GAASA,EAAMsF,QAAN,eAGFgE,KACPtJ,GAASA,EAAMsF,QAAN,eAGFiE,KACPvJ,GAASA,EAAMsF,QAAN,gBChDtB,MAAMkE,WAAiBjH,gBACtBK,SAAU,MAAD,EAE4DjV,KAAKqS,MAAMnP,KAAvEjD,EAFA,EAEAA,GAAIE,EAFJ,EAEIA,KAAMiB,EAFV,EAEUA,UAAWsa,EAFrB,EAEqBA,YAAaC,EAFlC,EAEkCA,SAAUC,EAF5C,EAE4CA,YAEpD,OACC,kBAAC,GAAD,KACC,kBAAC,KAAD,CAAMlC,GAAE,kBAAazZ,IACpB,kBAAC,GAAD,CAAWyU,IAAKtT,EAAWwZ,OAAO,SAASC,MAAM,SAASC,SAAS,SAASC,QAAQ,WACpF,yBAAKpB,UAAU,QACd,4BAAKxZ,GACL,4BACC,kBAACqb,GAAD,CAAM7B,UAAU,cAAchC,QAAS+D,IACvC,kBAACF,GAAD,CAAM7B,UAAU,WAAWhC,QAASgE,IACpC,kBAACH,GAAD,CAAM7B,UAAU,cAAchC,QAASiE,SAS/BC,U,wcC5BR,MAAMC,GAAUzH,IAAOC,IAAV,KASRjC,GAASA,EAAM0J,KAAO,EAAI,GCHtC,MAAMC,WAAcjD,YAAW,eAAD,oBAE7BK,QAAUK,sBAFmB,KAqB7BwC,mBAAqBC,IACflc,KAAKoZ,QAAQC,WAEb6C,EAAUlK,QAAUhS,KAAKqS,MAAML,SACnChS,KAAKoZ,QAAQC,QAAQ8C,UAAUC,IAA/B,UACApc,KAAKoZ,QAAQC,QAAQ8C,UAAU7X,OAA/B,WAGG4X,EAAUlK,SAAWhS,KAAKqS,MAAML,QACnCmH,WAAW,KACVnZ,KAAKoZ,QAAQC,QAAQ8C,UAAU7X,OAA/B,UACA6U,WAAW,KACVnZ,KAAKoZ,QAAQC,QAAQ8C,UAAUC,IAA/B,WACE,MACD,OA/BLnH,SACC,MAAMoH,EAAOrc,KAAKqS,MAAMD,MAAMR,UAE9B,OAAKyK,EAEEC,IAASC,aAEd,kBAACT,GAAD,CAASjC,IAAK7Z,KAAKoZ,QAASO,UAAU,IACrC,6BACC,kBAAC0C,EAASrc,KAAKqS,MAAMD,MAAMC,SAI9B3L,SAAS8V,eAAT,UAViB,MAuCLC,mBAJS1S,IAAK,CAC5BqI,MAAOrI,EAAMgK,eAAe3B,QAGdqK,CAAyBT,I,+zBC9CzB1G,OAJDjB,IAAOC,IAAV,MAMJ,MAAMiB,GAAQlB,IAAOmB,MAAV,MAwBLkH,GAAerI,IAAOqB,OAAV,KAENpR,MCmBJmY,mBAJS1S,IAAK,CAC5BvE,KAAMuE,EAAM+J,UAAUtO,OAGRiX,CAjDSpK,IAAU,MAGhCnP,EAGGmP,EAHHnP,KACAyZ,EAEGtK,EAFHsK,WACAnX,EACG6M,EADH7M,KAGD,OACC,kBAAC,GAAD,KACC,kBAAC,GAAD,KACC,+BACEtC,EAAKgE,OAAS,GACd,4BACEK,OAAO4H,KAAKjM,EAAK,IAChBmI,OAAOhE,GAAU,OAAHA,GACdzD,IAAI,CAACgZ,EAAQnF,IAAU,wBAAIpQ,IAAKoQ,GAAQmF,IAE1C,wBAAIjD,UAAU,YAIjB,+BACEzW,EAAKgE,OAAS,GAAKhE,EAAKU,IAAI,CAACC,EAAM4T,IACnC,wBAAIpQ,IAAKoQ,GACPlQ,OAAO4H,KAAKtL,GACXwH,OAAOhE,GAAU,OAAHA,GACdzD,IAAI,CAACyD,EAAKwV,IAAW,wBAAIxV,IAAKwV,GAAShZ,EAAKwD,KAE9C,4BACExD,EAAKgT,QAAUrR,EAAKtF,UACnB,kBAACwc,GAAD,CACCI,YAAA,UAAcvZ,KAAKC,UAAUK,IAC7BuR,QAASuH,Y,sgBCnCNtI,IAAOC,IAAV,MASUD,IAAOmB,MAAV,MAeQnB,YAAOqG,KAAPrG,CAAH,MCxBoBO,gB,ylBCD3C,MAAMmI,GAAS/C,YAAH,MAgCG1E,OAvBDjB,IAAOC,IAAV,KAgBS0I,KAGLD,IC3BR,MAAME,WAAgBrI,gBAC5BK,SACC,OACC,kBAAC,GAAD,KACC,gCAMWgI,U,mvBCCA3H,OAbDjB,IAAOqB,OAAV,KASYrD,GAASA,EAAM6K,KAAO7K,EAAM6K,KAAnB,IACR7K,GAASA,EAAM6K,KAAO7K,EAAM6K,KAAnB,KAK1B,MAAMC,GAAS9I,IAAOC,IAAV,KACIjC,GAASA,EAAM6K,KAAO7K,EAAM6K,KAAnB,IACV7K,GAASA,EAAM6K,KAAO7K,EAAM6K,KAAnB,IAMtB7K,GAASA,EAAM+K,GAAN,uBAA2B/K,EAAM6K,KAAO7K,EAAM6K,KAAnB,IAA3B,SAIG7K,GAASA,EAAM+K,GAAN,kBAGjBC,GAAShJ,IAAOC,IAAV,KACKjC,GAASA,EAAM6K,KAAO7K,EAAM6K,KAAnB,IACT7K,GAASA,EAAM6K,KAAO7K,EAAM6K,KAAnB,IAEF7K,GAASA,EAAM6K,KAAO7K,EAAM6K,KAAnB,IAEhB7K,GAASA,EAAM6K,KAAO7K,EAAM6K,KAAnB,IAEZ7K,GAASA,EAAM+K,GAAN,kBC3BfE,OAVMjL,IAAU,MACtB+K,EAAwB/K,EAAxB+K,GAAIG,EAAoBlL,EAApBkL,UAAWL,EAAS7K,EAAT6K,KACvB,OACC,kBAAC,GAAD,CAAO9H,QAASmI,EAAWL,KAAMA,EAAMvD,UAAS,gBAAmB6D,WAAUnL,EAAMoL,UAClF,kBAACN,GAAD,CAAQC,GAAIA,EAAK,EAAI,EAAGF,KAAMA,EAAMM,WAAUnL,EAAMoL,WACpD,kBAACJ,GAAD,CAAQD,GAAIA,EAAK,EAAI,EAAGF,KAAMA,EAAMM,WAAUnL,EAAMoL,a,6qBCWxCnI,OAfDjB,IAAOC,IAAV,MAiBJ,MAAMoJ,GAASrJ,IAAOqB,OAAV,KAUAiI,MClBJC,OATHvL,GAEV,kBAAC,GAAD,KACEA,EAAM8C,SACP,kBAACuI,GAAD,CAAQtI,QAAS/C,EAAM+C,QAASyI,aAAYxL,EAAM8C,Y,qyCCctCG,OAlBDjB,IAAOC,IAAV,MAoBJ,MAAMwJ,GAASzJ,IAAO0J,KAAV,MAwBNC,GAAa3J,IAAO4J,KAAV,KAKJC,MAMNC,GAAiB9J,IAAO+J,OAAV,MCrDpB,MAAMnI,WAAcrB,gBAC1BK,SAAU,MAAD,EAQJjV,KAAKqS,MAAMgM,UALd1H,EAHO,EAGPA,SACAzT,EAJO,EAIPA,KACAob,EALO,EAKPA,YACA7b,EANO,EAMPA,YACAD,EAPO,EAOPA,eAPO,EAcJxC,KAAKqS,MAAMkM,SAHdC,EAXO,EAWPA,eACAC,EAZO,EAYPA,gBACAC,EAbO,EAaPA,aAKD,OAFA1Z,QAAQC,IAAI/B,GAGX,kBAAC,GAAD,KACC,+CAEA,6BAEC,kBAACib,GAAD,CAAgBlG,SAAUuG,GACxBjX,OAAO4H,KAAKwH,GAAU/S,IAAI,CAACkD,EAAG2Q,IAC9B,4BAAQ3P,MAAO6O,EAAS7P,GAAG3G,KAAMkH,IAAKoQ,GACpCd,EAAS7P,GAAG3G,QAKhB,kBAAC2d,GAAD,CAAQa,SAAUD,GACjB,kBAACV,GAAD,MACA,2BAAO9U,KAAK,SAASoV,YAAaA,EAAarG,SAAUwG,EAAiB3W,MAAOrF,MAKnF,kBAAC,EAAD,CAAYkU,SAAUnU,EAAgBU,KAAMA,MAMjC+S,U,srECvCAX,OATDjB,IAAOC,IAAV,MAWJ,MAAMwJ,GAASzJ,IAAO0J,KAAV,MA6BNa,IAXavK,IAAO4J,KAAV,KAEJC,MASa7J,IAAO+J,OAAV,OAchBS,GAAexK,IAAOyK,MAAV,KACVzM,GAASA,EAAM0M,SAAN,gBAmBXC,GAAe3K,IAAOyK,MAAV,KACVzM,GAASA,EAAM0M,SAAN,gBAmBXE,GAAY5K,IAAOqB,OAAV,KACPrD,GAASA,EAAM0M,SAAN,iBACd1M,GAASA,EAAM0M,SAAN,kBAShB1M,GAASA,EAAM0M,SAAN,uB,MC3GL,MAAMG,GAAcC,IAC1B,IAAIC,EAAWD,EAASvf,MAAM,UAAY,GAE1C,OADAwf,IAAaA,EAASC,SAAT,KAA2BD,EAASE,OAAT,KAAuBC,cACxDH,GAGKI,GAAgBC,GACQ,IAA7BlY,OAAOmY,QAAQD,GAAGvY,QAAgBuY,EAAE3f,cAAgByH,OAgF/CoY,GAAc,CAC1B,CACCC,KAAK,QACLzf,KAAK,qBAEN,CACCyf,KAAK,MACLzf,KAAK,cAEN,CACCyf,KAAK,QACLzf,KAAK,qBAEN,CACCyf,KAAK,QACLzf,KAAK,aAEN,CACCyf,KAAK,QACLzf,KAAK,oBAEN,CACCyf,KAAK,OACLzf,KAAK,gCAEN,CACCyf,KAAK,QACLzf,KAAK,gBAEN,CACCyf,KAAK,OACLzf,KAAK,UAEN,CACCyf,KAAK,QACLzf,KAAK,YAEN,CACCyf,KAAK,MACLzf,KAAK,OAEN,CACCyf,KAAK,QACLzf,KAAK,iBAEN,CACCyf,KAAK,QACLzf,KAAK,sCAEN,CACCyf,KAAK,QACLzf,KAAK,iBAEN,CACCyf,KAAK,MACLzf,KAAK,0BAEN,CACCyf,KAAK,MACLzf,KAAK,WAEN,CACCyf,KAAK,QACLzf,KAAK,aAEN,CACCyf,KAAK,MACLzf,KAAK,oBAEN,CACCyf,KAAK,QACLzf,KAAK,aAEN,CACCyf,KAAK,OACLzf,KAAK,aAEN,CACCyf,KAAK,QACLzf,KAAK,uCAEN,CACCyf,KAAK,OACLzf,KAAK,WAEN,CACCyf,KAAK,MACLzf,KAAK,0CAEN,CACCyf,KAAK,QACLzf,KAAK,wBAEN,CACCyf,KAAK,OACLzf,KAAK,8BAEN,CACCyf,KAAK,OACLzf,KAAK,sBAEN,CACCyf,KAAK,QACLzf,KAAK,0BAEN,CACCyf,KAAK,QACLzf,KAAK,YAEN,CACCyf,KAAK,QACLzf,KAAK,0BAEN,CACCyf,KAAK,QACLzf,KAAK,uBAEN,CACCyf,KAAK,OACLzf,KAAK,2BAEN,CACCyf,KAAK,QACLzf,KAAK,kBAEN,CACCyf,KAAK,OACLzf,KAAK,+CAEN,CACCyf,KAAK,QACLzf,KAAK,iBAEN,CACCyf,KAAK,QACLzf,KAAK,8BAEN,CACCyf,KAAK,QACLzf,KAAK,SAEN,CACCyf,KAAK,QACLzf,KAAK,UAEN,CACCyf,KAAK,MACLzf,KAAK,UAEN,CACCyf,KAAK,QACLzf,KAAK,sBAEN,CACCyf,KAAK,QACLzf,KAAK,2BAEN,CACCyf,KAAK,QACLzf,KAAK,yBAEN,CACCyf,KAAK,QACLzf,KAAK,wBAEN,CACCyf,KAAK,QACLzf,KAAK,qCAEN,CACCyf,KAAK,QACLzf,KAAK,SAEN,CACCyf,KAAK,QACLzf,KAAK,uCAEN,CACCyf,KAAK,MACLzf,KAAK,6BAEN,CACCyf,KAAK,OACLzf,KAAK,aAEN,CACCyf,KAAK,OACLzf,KAAK,0CAEN,CACCyf,KAAK,OACLzf,KAAK,oDAEN,CACCyf,KAAK,QACLzf,KAAK,wBAEN,CACCyf,KAAK,QACLzf,KAAK,oBAEN,CACCyf,KAAK,OACLzf,KAAK,+CAEN,CACCyf,KAAK,QACLzf,KAAK,0BAEN,CACCyf,KAAK,OACLzf,KAAK,WAEN,CACCyf,KAAK,MACLzf,KAAK,8BAEN,CACCyf,KAAK,MACLzf,KAAK,gCAEN,CACCyf,KAAK,QACLzf,KAAK,YAEN,CACCyf,KAAK,QACLzf,KAAK,oBAEN,CACCyf,KAAK,OACLzf,KAAK,oCAEN,CACCyf,KAAK,OACLzf,KAAK,qBAEN,CACCyf,KAAK,MACLzf,KAAK,WAEN,CACCyf,KAAK,OACLzf,KAAK,WAEN,CACCyf,KAAK,QACLzf,KAAK,4BAEN,CACCyf,KAAK,QACLzf,KAAK,aAEN,CACCyf,KAAK,OACLzf,KAAK,UAEN,CACCyf,KAAK,OACLzf,KAAK,aAEN,CACCyf,KAAK,OACLzf,KAAK,uBAEN,CACCyf,KAAK,OACLzf,KAAK,UAEN,CACCyf,KAAK,QACLzf,KAAK,qBAEN,CACCyf,KAAK,OACLzf,KAAK,kCAEN,CACCyf,KAAK,MACLzf,KAAK,0BAEN,CACCyf,KAAK,QACLzf,KAAK,YAEN,CACCyf,KAAK,QACLzf,KAAK,sBAEN,CACCyf,KAAK,MACLzf,KAAK,UAEN,CACCyf,KAAK,QACLzf,KAAK,SAEN,CACCyf,KAAK,OACLzf,KAAK,WAEN,CACCyf,KAAK,OACLzf,KAAK,iBAEN,CACCyf,KAAK,QACLzf,KAAK,SAEN,CACCyf,KAAK,QACLzf,KAAK,kBAEN,CACCyf,KAAK,MACLzf,KAAK,6BAEN,CACCyf,KAAK,OACLzf,KAAK,aAEN,CACCyf,KAAK,MACLzf,KAAK,kCAEN,CACCyf,KAAK,QACLzf,KAAK,aAEN,CACCyf,KAAK,MACLzf,KAAK,gCAEN,CACCyf,KAAK,OACLzf,KAAK,gCAEN,CACCyf,KAAK,QACLzf,KAAK,qBAEN,CACCyf,KAAK,QACLzf,KAAK,cAEN,CACCyf,KAAK,WACLzf,KAAK,2CAEN,CACCyf,KAAK,KACLzf,KAAK,uBAEN,CACCyf,KAAK,WACLzf,KAAK,4CAEN,CACCyf,KAAK,KACLzf,KAAK,0BAEN,CACCyf,KAAK,OACLzf,KAAK,WAEN,CACCyf,KAAK,QACLzf,KAAK,YAEN,CACCyf,KAAK,QACLzf,KAAK,UAEN,CACCyf,KAAK,QACLzf,KAAK,YAEN,CACCyf,KAAK,QACLzf,KAAK,UAEN,CACCyf,KAAK,QACLzf,KAAK,qBAEN,CACCyf,KAAK,QACLzf,KAAK,WAEN,CACCyf,KAAK,MACLzf,KAAK,OAEN,CACCyf,KAAK,QACLzf,KAAK,iBAEN,CACCyf,KAAK,OACLzf,KAAK,eAEN,CACCyf,KAAK,QACLzf,KAAK,cAEN,CACCyf,KAAK,QACLzf,KAAK,0BAEN,CACCyf,KAAK,QACLzf,KAAK,4BAEN,CACCyf,KAAK,QACLzf,KAAK,YAEN,CACCyf,KAAK,QACLzf,KAAK,SAEN,CACCyf,KAAK,OACLzf,KAAK,eAEN,CACCyf,KAAK,MACLzf,KAAK,2BAEN,CACCyf,KAAK,QACLzf,KAAK,0BAEN,CACCyf,KAAK,OACLzf,KAAK,8BAEN,CACCyf,KAAK,QACLzf,KAAK,6BAEN,CACCyf,KAAK,MACLzf,KAAK,iBAEN,CACCyf,KAAK,OACLzf,KAAK,2CAEN,CACCyf,KAAK,MACLzf,KAAK,+BAEN,CACCyf,KAAK,QACLzf,KAAK,oBAEN,CACCyf,KAAK,OACLzf,KAAK,aAEN,CACCyf,KAAK,QACLzf,KAAK,sCAEN,CACCyf,KAAK,MACLzf,KAAK,qBAEN,CACCyf,KAAK,MACLzf,KAAK,+BAEN,CACCyf,KAAK,QACLzf,KAAK,yBAEN,CACCyf,KAAK,QACLzf,KAAK,SAEN,CACCyf,KAAK,QACLzf,KAAK,UAEN,CACCyf,KAAK,OACLzf,KAAK,0CAEN,CACCyf,KAAK,MACLzf,KAAK,wBAEN,CACCyf,KAAK,QACLzf,KAAK,gBAEN,CACCyf,KAAK,QACLzf,KAAK,aAEN,CACCyf,KAAK,OACLzf,KAAK,WAEN,CACCyf,KAAK,QACLzf,KAAK,wCAEN,CACCyf,KAAK,QACLzf,KAAK,WAEN,CACCyf,KAAK,OACLzf,KAAK,wCAEN,CACCyf,KAAK,OACLzf,KAAK,cAEN,CACCyf,KAAK,QACLzf,KAAK,yBAEN,CACCyf,KAAK,QACLzf,KAAK,oBAEN,CACCyf,KAAK,QACLzf,KAAK,yBAEN,CACCyf,KAAK,OACLzf,KAAK,qBAEN,CACCyf,KAAK,QACLzf,KAAK,UAEN,CACCyf,KAAK,OACLzf,KAAK,cAEN,CACCyf,KAAK,QACLzf,KAAK,cAEN,CACCyf,KAAK,MACLzf,KAAK,+BAEN,CACCyf,KAAK,QACLzf,KAAK,WAEN,CACCyf,KAAK,QACLzf,KAAK,6BAEN,CACCyf,KAAK,QACLzf,KAAK,uCAEN,CACCyf,KAAK,QACLzf,KAAK,+BAEN,CACCyf,KAAK,MACLzf,KAAK,YAEN,CACCyf,KAAK,OACLzf,KAAK,WAEN,CACCyf,KAAK,QACLzf,KAAK,UAEN,CACCyf,KAAK,QACLzf,KAAK,uBAEN,CACCyf,KAAK,QACLzf,KAAK,wBAEN,CACCyf,KAAK,MACLzf,KAAK,yBAEN,CACCyf,KAAK,OACLzf,KAAK,4BAEN,CACCyf,KAAK,QACLzf,KAAK,UAEN,CACCyf,KAAK,MACLzf,KAAK,aAEN,CACCyf,KAAK,QACLzf,KAAK,eAEN,CACCyf,KAAK,OACLzf,KAAK,WAEN,CACCyf,KAAK,OACLzf,KAAK,sBAEN,CACCyf,KAAK,OACLzf,KAAK,cAEN,CACCyf,KAAK,QACLzf,KAAK,uBAEN,CACCyf,KAAK,QACLzf,KAAK,wBAEN,CACCyf,KAAK,QACLzf,KAAK,WAEN,CACCyf,KAAK,OACLzf,KAAK,WAEN,CACCyf,KAAK,QACLzf,KAAK,oBAEN,CACCyf,KAAK,OACLzf,KAAK,qBAEN,CACCyf,KAAK,QACLzf,KAAK,WAEN,CACCyf,KAAK,QACLzf,KAAK,YAEN,CACCyf,KAAK,OACLzf,KAAK,cAEN,CACCyf,KAAK,MACLzf,KAAK,wCAEN,CACCyf,KAAK,OACLzf,KAAK,sCAEN,CACCyf,KAAK,MACLzf,KAAK,sCAEN,CACCyf,KAAK,OACLzf,KAAK,QAEN,CACCyf,KAAK,OACLzf,KAAK,QAEN,CACCyf,KAAK,MACLzf,KAAK,0BAEN,CACCyf,KAAK,QACLzf,KAAK,UAEN,CACCyf,KAAK,MACLzf,KAAK,yCAEN,CACCyf,KAAK,OACLzf,KAAK,WAEN,CACCyf,KAAK,OACLzf,KAAK,2BAEN,CACCyf,KAAK,OACLzf,KAAK,cAEN,CACCyf,KAAK,QACLzf,KAAK,SAEN,CACCyf,KAAK,OACLzf,KAAK,YCpxBA,MAAM0f,WAA8BjL,gBAC1CK,SAAU,MAAD,EAKJjV,KAAKqS,MAFRgM,EAHO,EAGPA,UACAE,EAJO,EAIPA,SAIAle,EAEGge,EAFHhe,MACA+D,EACGia,EADHja,MAIA0b,EAMG1b,EANH0b,WACAC,EAKG3b,EALH2b,QACAC,EAIG5b,EAJH4b,QACAjB,EAGG3a,EAHH2a,SACAkB,EAEG7b,EAFH6b,UACAC,EACG9b,EADH8b,UAlBO,EAyBJ7f,EAHHqP,cAtBO,MAsBE,GAtBF,IAyBJrP,EAFHoP,eAvBO,MAuBG,GAvBH,IAyBJpP,EADHsP,kBAxBO,MAwBM,GAxBN,EA2BFwQ,EAAiB1Q,EAAQ7L,IAAIC,IAAI,CACtC5D,GAAI4D,EAAK5D,GACTmgB,WAAYvc,EAAKic,WACjBO,QAASxc,EAAKyc,cACdC,QAAS1c,EAAK2c,iBAGTC,EAAgB/Q,EAAO9L,IAAIC,IAAI,CACpC5D,GAAI4D,EAAK5D,GACT6W,KAAMjT,EAAK1D,KACX0W,MAAOhT,EAAK3D,SACZ8W,MAAOnT,EAAKzD,SAGPsgB,EAAoB/Q,EAAW/L,IAAIC,IAAI,CAC5C5D,GAAI4D,EAAK5D,GACT6W,KAAMjT,EAAK1D,KACX0W,MAAOhT,EAAK3D,SACZ8W,MAAOnT,EAAKzD,SAGb,OACC,kBAAC,GAAD,KAEC,uCAEA,0BAAMue,SAAUJ,EAAS/Q,WACxB,kBAACoR,GAAD,CAAkB9W,MAAOgY,EAAY7H,SAAUsG,EAASoC,wBACvD,4BAAQ7Y,MAAM,IAAIiX,UAAQ,GAA1B,qBACCY,GAAY/b,IAAI,CAACC,EAAM4T,IACvB,4BAAQ3P,MAAOjE,EAAK+b,KAAMvY,IAAKoQ,GAA/B,UACK5T,EAAK+b,KADV,cACoB/b,EAAK1D,SAI3B,kBAAC0e,GAAD,CAAc+B,IAAI,IAAI3I,SAAUsG,EAASsC,oBAAqB/Y,MAAOiY,EAASzB,YAAY,uBAAuBS,SAAUA,EAASgB,UACpI,kBAACf,GAAD,CAAc4B,IAAI,IAAI3I,SAAUsG,EAASuC,oBAAqBhZ,MAAOkY,EAAS1B,YAAY,uBAAuBS,SAAUA,EAASiB,UACpI,kBAACf,GAAD,CAAW/V,KAAK,SAAS6V,SAAUA,EAASgC,QAA5C,QAGD,kBAAC,GAAD,CAAiBzC,YAAW,iBAAoBpb,KAAMid,EAAgBxD,WAAY4B,EAAS5Q,eAE3F,4CAEA,kBAAC,GAAD,CAAQgR,SAAUJ,EAASyC,cAC1B,2BAAO9X,KAAK,SAASoV,YAAW,cAAiBrG,SAAUsG,EAAS0C,sBAAuBnZ,MAAOmY,IAClG,kBAAChB,GAAD,CAAW/V,KAAK,SAAS6V,SAAUA,EAASkB,WAA5C,QAGD,kBAAC,GAAD,CAAiB/c,KAAMud,EAAe9D,WAAY4B,EAAS2C,gBAE3D,gDAEA,kBAAC,GAAD,CAAQvC,SAAUJ,EAAS7Q,cAC1B,2BAAOxE,KAAK,SAASoV,YAAW,cAAiBrG,SAAUsG,EAAS4C,sBAAuBrZ,MAAOoY,IAClG,kBAACjB,GAAD,CAAW/V,KAAK,SAAS6V,SAAUA,EAASmB,WAA5C,QAGD,kBAAC,GAAD,CAAiBhd,KAAMwd,EAAmB/D,WAAY4B,EAAS6C,oBAOpDvB,U,+0BC9DAvK,OAlCDjB,IAAOC,IAAV,MAoCJ,MAAM+M,GAAahN,IAAOqB,OAAV,KACJrD,GAASA,EAAMC,cAAgBgP,KAAWC,MChC9C,MAAMjL,WAAoB1B,gBAExCK,SAAU,MAAD,EAQJjV,KAAKqS,MAAMgM,UALdmD,EAHO,EAGPA,OACAC,EAJO,EAIPA,QACAnP,EALO,EAKPA,cACA3M,EANO,EAMPA,YACApB,EAPO,EAOPA,WAIAmO,EACG1S,KAAKqS,MAAMkM,SADd7L,yBAGD,OACC,kBAAC,GAAD,KACC,gCACC,6BACC,4CAED,8BAEG8O,GAAUC,IACX,kBAAC,KAAD,CAAM/H,GAAE,YAAR,sBAED,kBAAC2H,GAAD,CAAY/O,cAAeA,EAAe8C,QAAS1C,MAGrD,yBAAKiH,UAAU,QACbrH,EACA/K,OAAO4H,KAAKxJ,GAAa/B,IAAIyD,GAAO,kBAAC,GAAD,CAAiBA,IAAKA,EAAKlE,WAAYwC,EAAY0B,GAAM9C,WAAYA,KAEzGgD,OAAO4H,KAAKxJ,GAAa/B,IAAIyD,GAAO,kBAAC,GAAD,CAAgBA,IAAKA,EAAKlE,WAAYwC,EAAY0B,GAAM9C,WAAYA,Q,gyFClC/F+Q,OAJDjB,IAAOC,IAAV,MAMX,MAAMyF,GAAUC,YAAH,MASA0H,GAAUrN,IAAOC,IAAV,MAyCPqN,GAAatN,IAAOqB,OAAV,MASV8F,GAAOnH,IAAOoH,GAAV,KAOGC,KACPrJ,GAASA,EAAMsF,QAAN,eAIFgE,KACPtJ,GAASA,EAAMsF,QAAN,eAIFiE,KACPvJ,GAASA,EAAMsF,QAAN,gBAwBTiK,IApBcvN,IAAOC,IAAV,KAOVyF,IAIW1F,IAAOC,IAAV,KAMGjC,GAASA,EAAMqC,KAGfL,IAAOyK,MAAV,OAOT+C,GAAgBxN,IAAOqB,OAAV,KAChBrD,GAASA,EAAMpR,UAAN,qBAeNyb,GAAerI,IAAOqB,OAAV,MCpHzB,MAAMoM,WAAwBlN,gBAC7BK,SAECjQ,QAAQC,IAAIjF,KAAKqS,OACjBrN,QAAQC,IAAI,cAHJ,QASJjF,KAAKqS,MAAMgM,UAHd0D,EANO,EAMPA,QACAte,EAPO,EAOPA,QACAue,EARO,EAQPA,QARO,EAkBJhiB,KAAKqS,MAAMkM,SANd0D,EAZO,EAYPA,iBACAC,EAbO,EAaPA,oBACAC,EAdO,EAcPA,iBACAC,EAfO,EAePA,oBACAC,EAhBO,EAgBPA,gBACAC,EAjBO,EAiBPA,WAjBO,EAwBJ7e,EAAQhC,SAHXO,EArBO,EAqBPA,iBACAD,EAtBO,EAsBPA,aACAoP,EAvBO,EAuBPA,gBAKKoN,EAAW,CAChB8D,kBACAC,cAGD,OACC,kBAAC,GAAD,KACC,kBAACZ,GAAD,KACC,6BACC,kBAAC,GAAD,CAAWhN,IAAKjR,EAAQrC,UAAWwZ,OAAO,SAASC,MAAM,WAE1D,6BACEkH,EACA,kBAACH,GAAD,CAAW1Y,KAAK,OAAOpB,MAAOrE,EAAQtD,KAAM8X,SAAUgK,IAEtD,4BAAKxe,EAAQtD,MACd,4BACC,kBAAC,GAAD,CAAMwZ,UAAU,cAAchC,QAAS3V,IACvC,kBAAC,GAAD,CAAM2X,UAAU,WAAWhC,QAAS5V,IACpC,kBAAC,GAAD,CAAM4X,UAAU,cAAchC,QAASxG,KAEvC4Q,EACA,6BACC,kBAACF,GAAD,CAAe5gB,UAAWwC,EAAQxC,UAAWmU,QAASgN,GAAsB3e,EAAQxC,UAAR,uBAC5E,kBAAC,GAAD,CAAcmU,QAAS8M,GAAvB,WAGD,4BAAKze,EAAQxC,UAAR,4BAGP,6BACC,kBAAC0gB,GAAD,CAAYvM,QAAS+M,GAAmBJ,EAAO,iBAGhDA,GACA,kBAAC,GAAD,CAA0Bte,QAASA,EAASue,QAASA,EAASzD,SAAUA,MAO7E,MAIMgE,GAAqB,CAC1BjP,aAAcX,EAAgBW,aAC9BrC,cAAerB,EAAeqB,eAGhBwL,mBATSrY,IAAK,CAC5Boe,cAAepe,EAAMoe,gBAQkBD,GAAzB9F,CAA6CqF,I,y0CC3F7CxM,OAPDjB,IAAOC,IAAV,KAIIjC,GAASA,EAAML,OAAN,aAKjB,MAAMyQ,GAAiBpO,IAAOC,IAAV,MAcdoO,GAASrO,IAAOC,IAAV,MAgBNqO,GAAUtO,IAAOC,IAAV,MAcPsO,GAAYvO,IAAOC,IAAV,MCjDf,MAAMuO,WAAwBjO,gBAEpCK,SAAU,MAAD,EAOJjV,KAAKqS,MAAMgM,UAJd2D,EAHO,EAGPA,QACAve,EAJO,EAIPA,QACAqf,EALO,EAKPA,IACA1Y,EANO,EAMPA,QANO,EAeJ3G,EAAQhC,SALXO,EAVO,EAUPA,iBACAD,EAXO,EAWPA,aACAoP,EAZO,EAYPA,gBACAzP,EAbO,EAaPA,YACAG,EAdO,EAcPA,aAdO,EAoBJ4B,EAAQlC,SAFXC,EAlBO,EAkBPA,SACAZ,EAnBO,EAmBPA,YAGDoE,QAAQC,IAAIxB,EAAQlC,UAtBZ,QA+BJvB,KAAKqS,MAAMkM,SANdzJ,EAzBO,EAyBPA,aACAiO,EA1BO,EA0BPA,kBACAC,EA3BO,EA2BPA,YACAC,EA5BO,EA4BPA,OACAC,EA7BO,EA6BPA,UACAC,EA9BO,EA8BPA,UAGD,OAAI/Y,EAAgB,kBAAC,GAAD,MAGnB,kBAAC,GAAD,CAAO4H,OAAQgQ,GACd,kBAACS,GAAD,KACC,kBAACC,GAAD,KACC,uCACA,kBAACC,GAAD,KACC,0DACA,kBAAC,GAAD,CAAcvF,GAAIpb,EAAkBub,UAAWzI,EAAc2I,SAAS,sBAEvE,kBAACkF,GAAD,KACC,6CACA,kBAAC,GAAD,CAAcvF,GAAIvb,EAAc0b,UAAWzI,EAAc2I,SAAS,mBAIpE,kBAACiF,GAAD,KACC,oCACA,yBAAK/I,UAAU,QACbnY,EAASoC,IAAI,CAACC,EAAM4T,IAAc,KAAJ5T,EAAc,KAAO,kBAAC,GAAD,CAAKwD,IAAKoQ,EAAOrC,QAAS8N,GAAYrf,KAE3F,0BAAM8a,SAAUsE,GACf,2BAAO/Z,KAAK,OAAOoV,YAAY,cAAcrG,SAAUkL,EAAWrb,MAAOgb,EAAKnJ,UAAU,gBAI1F,kBAAC+I,GAAD,KACC,2CACA,8BAAUU,KAAM,EAAGnL,SAAU8K,EAAmBjb,MAAOlH,KAGxD,kBAAC8hB,GAAD,KACC,oCAEC,kBAAC,GAAD,CAActF,GAAIjM,EAAiBoM,UAAWzI,EAAc2I,SAAS,sBAIvE,kBAACiF,GAAD,KACC,uCAEC,kBAAC,GAAD,CAActF,GAAIrb,EAAcwb,UAAWzI,EAAc2I,SAAS,mBAIpE,kBAACiF,GAAD,KACC,4CACA,kBAACE,GAAD,KACC,6BACC,kBAAC,GAAD,CAAa3iB,GAAI,EAAG+X,MAAM,OAAOC,SAAU+K,EAAatU,UAAWjL,EAAQxD,GAAI8X,SAAqB,SAAXrW,GAAzF,YACA,kBAAC,GAAD,CAAazB,GAAI,EAAG+X,MAAM,OAAOC,SAAU+K,EAAatU,UAAWjL,EAAQxD,GAAI8X,SAAqB,SAAXrW,GAAzF,cACA,kBAAC,GAAD,CAAazB,GAAI,EAAG+X,MAAM,OAAOC,SAAU+K,EAAatU,UAAWjL,EAAQxD,GAAI8X,SAAqB,SAAXrW,GAAzF,uBACA,kBAAC,GAAD,CAAazB,GAAI,EAAG+X,MAAM,OAAOC,SAAU+K,EAAatU,UAAWjL,EAAQxD,GAAI8X,SAAqB,SAAXrW,GAAzF,iBACA,kBAAC,GAAD,CAAazB,GAAI,EAAG+X,MAAM,SAASC,SAAU+K,EAAatU,UAAWjL,EAAQxD,GAAI8X,SAAqB,WAAXrW,GAA3F,gBAED,6BACC,kBAAC,GAAD,CAAazB,GAAI,EAAG+X,MAAM,MAAMC,SAAU+K,EAAatU,UAAWjL,EAAQxD,GAAI8X,SAAqB,QAAXrW,GAAxF,gBACA,kBAAC,GAAD,CAAazB,GAAI,EAAG+X,MAAM,MAAMC,SAAU+K,EAAatU,UAAWjL,EAAQxD,GAAI8X,SAAqB,QAAXrW,GAAxF,eACA,kBAAC,GAAD,CAAazB,GAAI,EAAG+X,MAAM,OAAOC,SAAU+K,EAAatU,UAAWjL,EAAQxD,GAAI8X,SAAqB,SAAXrW,GAAzF,YACA,kBAAC,GAAD,CAAazB,GAAI,EAAG+X,MAAM,QAAQC,SAAU+K,EAAatU,UAAWjL,EAAQxD,GAAI8X,SAAqB,UAAXrW,GAA1F,gBAUOmhB,U,k/BCzGR,MAAMQ,GAAShP,IAAOC,IAAV,KAGAgP,MA2BNC,GAAQlP,YAAOqG,KAAPrG,CAAH,MC7BlB,MAAMmP,WAAc5O,gBAAe,eAAD,oBACjC0F,kBAAoB,KACnBta,KAAKqS,MAAMJ,SAAQ,GACnBjS,KAAKqS,MAAMN,iBAAgB,IAHK,KAMjC0R,qBAAuB,KACtBzjB,KAAKqS,MAAMJ,SAAQ,GACnBjS,KAAKqS,MAAMN,iBAAgB,IAG5BkD,SAAU,MAAD,EACmBjV,KAAKqS,MAAxB3M,EADA,EACAA,MAAOsF,EADP,EACOA,QACf,OACC,kBAACqY,GAAD,KACC,4BAAK3d,GACL,4BAAKsF,GACL,kBAACuY,GAAD,CAAO7J,GAAE,KAAT,kBAMJ,MAAM6I,GAAqB,CAC1BtQ,QAASb,EAAiBa,QAC1BF,gBAAiBX,EAAiBW,iBAGpB0K,mBAAQ,KAAM8F,GAAd9F,CAAkC+G,I,4rDC7B1C,MAAM1H,GAAUzH,IAAOC,IAAV,KASHjC,GAASA,EAAMqR,OAAN,2BAGNrR,GAASA,EAAMH,KAAN,uBAehByR,GAActP,YAAOqG,KAAPrG,CAAH,MAWXyC,GAAOzC,IAAOuP,GAAV,MAcJC,GAASxP,IAAOuP,GAAV,MAeNE,GAAOzP,IAAOC,IAAV,KACEyP,MCtEJ,MAAM1L,WAAezD,gBACnCK,SAAU,MAAD,EAKJjV,KAAKqS,MAAMgM,UAFdnM,EAHO,EAGPA,KACAwR,EAJO,EAIPA,OAGD,OACC,kBAAC,GAAD,CAASxR,KAAMA,EAAMwR,OAAQA,GAC5B,kBAACC,GAAD,CAAajK,GAAG,KACf,kBAACoK,GAAD,MACA,kBAAChN,GAAD,eACA,kBAAC+M,GAAD,kB,0+BCKUvO,OAlBDjB,IAAOC,IAAV,MAoBJ,MAAMwJ,GAASzJ,IAAO0J,KAAV,MAwBNC,GAAa3J,IAAO4J,KAAV,KAKJC,MC/CZ,MAAM8F,WAAqBpP,gBACjCK,SAAU,MAAD,EAMJjV,KAAKqS,MAAMgM,UAHdnb,EAHO,EAGPA,KACAob,EAJO,EAIPA,YACA7b,EALO,EAKPA,YALO,EAWJzC,KAAKqS,MAAMkM,SAFdE,EATO,EASPA,gBACAC,EAVO,EAUPA,aAGD,OACC,kBAAC,GAAD,KACC,uDACA,kBAAC,GAAD,CAAQC,SAAUD,GACjB,kBAAC,GAAD,MACA,2BAAOxV,KAAK,SAASoV,YAAaA,EAAarG,SAAUwG,EAAiB3W,MAAOrF,KAElF,kBAAC,GAAD,CAAmBS,KAAMA,MAMd8gB,U,48DC3BR,MAAMlI,GAAUzH,IAAOC,IAAV,MAMP2P,GAAS5P,IAAOC,IAAV,KAWC4P,KAIAC,MAIPC,GAAU/P,IAAOC,IAAV,MAoCPwP,GAAOzP,IAAOC,IAAV,KACEyP,MAMNM,GAAShQ,IAAOqB,OAAV,MCpEnB,MAAM4O,WAAgB1P,gBACrBK,SAAU,MAGRsP,EACGvkB,KAAKqS,MAAMgM,UADdkG,QAHO,EASJvkB,KAAKqS,MAAMkM,SAFdiG,EAPO,EAOPA,cACAC,EARO,EAQPA,YAGD,OACC,kBAAC,GAAD,KACC,kBAACR,GAAD,CAAQtK,UAAU,SAClB,kBAACsK,GAAD,CAAQtK,UAAU,UAElB,kBAACyK,GAAD,KAEC,6BACC,kBAAC,GAAD,MACA,uCAGD,yBAAKzK,UAAU,kBACd,kBAAC0K,GAAD,CAAQ1K,UAAU,UAAUvE,QAASqP,GAArC,WACA,kBAACJ,GAAD,CAAQ1K,UAAU,YAAYvE,QAASoP,GAAvC,WAKAD,GAAW,kBAAC,GAAD,CAASC,cAAeA,MAO1BF,U,6iCCzCf,MAAMI,GAAS1K,YAAH,MASN2K,GAAU3K,YAAH,MASA8B,GAAUzH,IAAOC,IAAV,KAeNqQ,GAICD,IAQT3H,GAAS/C,YAAH,MASCiD,GAAU5I,IAAOC,IAAV,KACD0I,KAKLD,IC1Dd,MAAM6H,WAAa7L,YAAW,eAAD,oBAa5BkD,mBAAqBC,IAGpB,QAAoBha,IAAjBlC,KAAKoZ,QAAsB,CAE7B,IAAKpZ,KAAKoZ,QAAQC,QAAS,QAEtB6C,EAAU9R,SAAWpK,KAAKqS,MAAMjI,UACrCpK,KAAKoZ,QAAQC,QAAQ8C,UAAUC,IAA/B,UACApc,KAAKoZ,QAAQC,QAAQ8C,UAAU7X,OAA/B,WAGI4X,EAAU9R,UAAYpK,KAAKqS,MAAMjI,SACpC+O,WAAW,KACVnZ,KAAKoZ,QAAQC,QAAQ8C,UAAU7X,OAA/B,UACA6U,WAAW,KACVnZ,KAAKoZ,QAAQC,QAAQ8C,UAAUC,IAA/B,WACE,MACD,OA7BNnH,SACC,OAAOqH,IAASC,aAEd,kBAAC,GAAD,CAAS1C,IAAK7Z,KAAKoZ,QAASO,UAAU,UACrC,kBAAC,GAAD,OAGFjT,SAAS8V,eAAT,UA6BYoI,U,gmFCpBAtP,OArBDjB,IAAOC,IAAV,MAuBJ,MAAMuQ,GAAQxQ,IAAOC,IAAV,MAKLsN,GAAYvN,IAAOyK,MAAV,MAMTgG,GAAkBzQ,IAAOC,IAAV,KACjBjC,GAASA,EAAM0P,QAAN,sBAOPF,GAAgBxN,IAAOqB,OAAV,KAGJrD,GAASA,EAAMpR,UAAN,qBAclB8jB,GAAgB1Q,IAAOqB,OAAV,MAcbsP,GAAM3Q,IAAOC,IAAV,MAWH2Q,GAAY5Q,IAAOC,IAAV,MAoBT4Q,GAAW7Q,IAAOC,IAAV,KAIXjC,GAASA,EAAM8S,UAAN,gBAUNC,GAAa/Q,IAAOqB,OAAV,MAmBV8F,GAAOnH,IAAOC,IAAV,KACGjC,GAASA,EAAMqC,K,wBCtHpB,MAAM2Q,WAAyBzQ,gBAC7CK,SAAU,MAAD,EAQJjV,KAAKqS,MAAMgM,UANdhc,EAFO,EAEPA,MACAc,EAHO,EAGPA,WACAmM,EAJO,EAIPA,eACAgW,EALO,EAKPA,wBACAH,EANO,EAMPA,UACA1hB,EAPO,EAOPA,QAPO,EAkBJzD,KAAKqS,MAAMkM,SAPdgH,EAXO,EAWPA,UACAC,EAZO,EAYPA,WACAvD,EAbO,EAaPA,iBACAwD,EAdO,EAcPA,cACAC,EAfO,EAePA,QACAC,EAhBO,EAgBPA,OACAja,EAjBO,EAiBPA,cAKD,OAFA1G,QAAQC,IAAI5C,GAGX,kBAAC,GAAD,KACC,gCACC,kBAACwiB,GAAD,KACES,EAEA,kBAAC,GAAD,CACCpc,KAAK,OACLpB,MAAOwH,EACPsW,gBAAgB,OAChB3N,SAAUgK,EACV4D,WAAYC,IACP,UAAAA,EAAMze,KAAiBme,KAE5BtI,KAAM5N,EAAepI,OAAS,EAAIoI,EAAepI,OAAS,EAC1D6e,WAAS,IAGV,wBAAI3Q,QAASoQ,GAAariB,EAAWhD,MAEtC,kBAAC2kB,GAAD,CACC/C,QAASuD,EACTlQ,QAASoQ,GAERF,EAAuB,gBAG1B,6BACEniB,EAAW2L,SACX,oCAAG,UAAAzM,EAAM,IAAkB,cAAAA,EAAM,GAChC,kBAAC0iB,GAAD,CAAe3P,QAASmQ,GAAxB,aACK,gDAGN,oCACC,kBAAC,GAAD,CACCtkB,UAAWkC,EAAWlC,UACtBmU,QAASqQ,GAERtiB,EAAWlC,UAAX,uBAEF,kBAAC8jB,GAAD,CAAe3P,QAASsQ,GAAxB,cAKJ,kBAACT,GAAD,KACC,4BAAQ7P,QAASuQ,GAAO,IAAxB,WACA,4BAAQvQ,QAASuQ,GAAO,IAAxB,eACA,kBAACT,GAAD,CAAUC,UAAWA,KAEtB,kBAACH,GAAD,KACEG,EACA1hB,EAAQG,IAAIC,GACX,kBAAC,GAAD,CAA0BwD,IAAKxD,EAAK5D,GAAIwD,QAASI,KAGjD,kBAAC,GAAD,CAAgCV,WAAYA,IAG7CgiB,GACA,kBAACC,GAAD,CAAYhQ,QAAS1J,GACpB,kBAAC,GAAD,CAAMgJ,IAAKiJ,W,2xCCzGX,MAAMvJ,GAAYC,IAAOC,IAAV,MAKT0R,GAAW3R,IAAOC,IAAV,MAsBR8G,GAAO/G,IAAOC,IAAV,MAKJ2R,GAAe5R,IAAOqB,OAAV,MAmBZwQ,GAAO7R,IAAOC,IAAV,KAMEjC,GAASA,EAAMqC,KAIrByR,GAAe9R,IAAOC,IAAV,M,wBC7CV,MAAM4B,WAAgBtB,gBACpCK,SAAU,MAAD,EAQJjV,KAAKqS,MAAMgM,UALdhc,EAHO,EAGPA,MACAc,EAJO,EAIPA,WACAkD,EALO,EAKPA,KACA+f,EANO,EAMPA,UACA5gB,EAPO,EAOPA,KAIA6gB,EACGrmB,KAAKqS,MAAMkM,SADd8H,UAGD,OACC,kBAAC,GAAD,KACC,kBAACL,GAAD,KAEC,4BAAKxgB,EAAI,UAAMA,EAAKrF,KAAKmmB,SAAV,eAA6B9gB,EAAKrF,KAAlC,eAA+CqF,EAAKrF,KAApD,MAAN,kCAET,kBAAComB,EAAD,CAAWrR,OAAM,YAAelD,QAAM,GACpCoU,EAAUnlB,UAAU2C,IAAI,EAAG3D,KAAIE,QAAQsX,IAAU,kBAAC,KAAD,CAAMpQ,IAAKoQ,EAAOiC,GAAE,WAAMrT,EAAN,YAAcpG,IAAOE,KAG5F,kBAAComB,EAAD,CAAWrR,OAAM,cAAiBlD,QAAM,GACtCoU,EAAUI,YAAY5iB,IAAI,EAAG3D,KAAIE,QAAQsX,IAAU,kBAAC,KAAD,CAAMpQ,IAAKoQ,EAAOiC,GAAE,WAAMrT,EAAN,YAAcpG,IAAOE,KAI7FkC,GAAS,kBAACkkB,EAAD,CAAWrR,OAAM,YACxBkR,EAAUtX,SAASlL,IAAI,EAAG3D,KAAIE,QAAQsX,IAAU,kBAAC,KAAD,CAAMpQ,IAAKoQ,EAAOiC,GAAE,WAAMrT,EAAN,YAAcpG,IAAOE,KAI5F,kBAAC8lB,GAAD,CAAc7Q,QAASiR,GAAW,kBAACH,GAAD,CAAMxR,IAAKiJ,OAA7C,0BAGD,kBAAC,GAAD,KACExa,EACAqC,EACC,kBAAC,GAAD,CAAuCrC,WAAYA,EAAYlC,UAAWkC,EAAWlC,UAAW6N,SAAU3L,EAAW2L,WAErH,kBAAC,GAAD,CAA2B3L,WAAYA,EAAYlC,UAAWkC,EAAWlC,UAAW6N,SAAU3L,EAAW2L,WAE1G,kBAACqX,GAAD,+C,83DC5DC,MAAMrK,GAAUzH,IAAOC,IAAV,MAgDPmS,GAAapS,YAAOqG,KAAPrG,CAAH,MAYVgE,GAAShE,IAAOqS,GAAV,MAKNC,GAAUtS,IAAOqB,OAAV,MA4BPkR,GAAevS,IAAOqB,OAAV,MC7FzB,MAAMmR,WAAajS,gBAClBK,SAAU,MAAD,EAQJjV,KAAKqS,MAAMgM,UALd7Y,EAHO,EAGPA,KACA4Z,EAJO,EAIPA,SACAjN,EALO,EAKPA,WACAqP,EANO,EAMPA,OACAC,EAPO,EAOPA,QAPO,EAaJzhB,KAAKqS,MAAMkM,SAFd/L,EAXO,EAWPA,WACAsU,EAZO,EAYPA,aAGD,OACC,kBAAC,GAAD,CAASnN,UAAWxH,GAAU,SAAciD,QAAS5C,GAEpD,kBAACmU,GAAD,KAAUvH,GACV,4BAAK5Z,EAAKrF,MAEV,6BAKCqhB,GAAUC,GACV,kBAACgF,GAAD,CAAY/M,GAAG,gBAAf,eAIA+H,GACA,oCACC,kBAACgF,GAAD,CAAY/M,GAAG,UAAf,mBACA,kBAAC+M,GAAD,CAAY/M,GAAG,kBAAf,4BAIF,kBAACkN,GAAD,CAAcxR,QAAS0R,GAAvB,aAGEtF,GAAUC,IACX,oCACC,kBAAC,GAAD,oBACA,6BACA,kBAACgF,GAAD,CAAY/M,GAAG,KAAf,oBACA,kBAAC+M,GAAD,CAAY/M,GAAG,YAAf,sBACA,kBAAC+M,GAAD,CAAY/M,GAAI,CAAEqN,SAAS,WAAaxb,kBAAkB,IAA1D,4BASSsb,U,0zCC1Df,MAAMG,GAAShN,YAAH,MAUXiN,GAAUjN,YAAH,MAUK8B,GAAUzH,IAAOC,IAAV,KAKLjC,GAASA,EAAM6U,IAAN,mBACV7U,GAASA,EAAM6U,IAAMD,GAAUD,ICzB7C,MAAMG,WAAgBvS,gBAAe,eAAD,oBAEnCxQ,MAAQ,CACPgjB,SAAS,GAHyB,KAMnCC,WAAa3f,IACZA,EAAEqN,iBAEF/U,KAAKgV,SAAS,CACboS,SAAS,IAGVjO,WAAW,KACVnZ,KAAKqS,MAAMmS,iBACT,MAf+B,KAyCnClK,kBAAoB,KACnBta,KAAKgV,SAAS,CACboS,SAAS,KAxBXnS,SACC,OACC,kBAAC,GAAD,CAASmS,QAASpnB,KAAKoE,MAAMgjB,QAASF,KAAMlnB,KAAKoE,MAAMgjB,SACtD,6BACC,6BACC,+CACA,yPAED,6BACC,0CACA,0TAED,6BACC,0CACA,uQAED,4BAAQhS,QAASpV,KAAKqnB,YAAtB,YAaUF,U,SC6SAG,OAhWf,MACCxnB,YAAYynB,EAAQ/hB,EAAMgiB,GAAM,IAAD,YAU/BC,KAV+B,uCAUxB,WAAMC,GAAN,qBAAAhlB,EAAA,yDACEilB,EAAkC,EAAlCA,OAAQniB,EAA0B,EAA1BA,KAAMoiB,EAAoB,EAApBA,QAASL,EAAW,EAAXA,OAE1BI,EAHC,iDAgBFD,EAAKG,aACRH,EAAKG,WAAL,UAAmBD,EAAnB,cAAyCL,EAAOtnB,KAAO,EACvDynB,EAAKG,WAAL,UAAmBD,EAAnB,eAA0CpiB,EAAKsiB,YAlB1C,2CAVwB,2DAsC/BC,SAAW,KACV/nB,KAAKynB,KAAK,CAAEO,KAAK,UAAYH,WAAY,MAvCX,KA0C/BI,MAAQnd,IACP9K,KAAKynB,KAAK,CACTO,KAAK,QACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,eACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,eAA+B9c,MA/CH,KAoD/Bod,UAAYpd,IACX9K,KAAKynB,KAAK,CACTO,KAAK,SACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,eACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,eAA+B9c,MAzDH,KA8D/Bqd,WAAard,IACZ9K,KAAKynB,KAAK,CACTO,KAAK,SACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,eACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,eAA+B9c,MAnEH,KAwE/Bsd,WAAa,CAACtd,EAAMud,KACnBroB,KAAKynB,KAAK,CACTO,KAAK,mBACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,eACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,eAA+B9c,EAC/B,CAAC,GAAD,OAAI9K,KAAK4nB,QAAT,aAA6BS,MA9ED,KAmF/BC,aAAe,CAACxd,EAAMyd,KACrBvoB,KAAKynB,KAAK,CACTO,KAAK,iBACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,eACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,eAA+B9c,EAC/B,CAAC,GAAD,OAAI9K,KAAK4nB,QAAT,WAA2BW,MAzFC,KA8F/BC,SAAW,CAACC,EAASC,KACpB1oB,KAAKynB,KAAK,CACTO,KAAK,SACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,eACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,YAA4Ba,EAC5B,CAAC,GAAD,OAAIzoB,KAAK4nB,QAAT,YAA4Bc,MApGA,KAyG/BC,cAAgB7d,IACf9K,KAAKynB,KAAK,CACTO,KAAK,mBACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,eACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,eAA+B9c,MA9GH,KAmH/B8d,mBAAqB,CAACC,EAAgBC,EAAWhe,KAChD9K,KAAKynB,KAAK,CACTO,KAAK,yBACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,iBACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,eAA+B9c,EAC/B,CAAC,GAAD,OAAI9K,KAAK4nB,QAAT,cAA8BkB,EAC9B,CAAC,GAAD,OAAI9oB,KAAK4nB,QAAT,mBAAmCiB,MA1HP,KA+H/BE,mBAAqB,CAACF,EAAgBG,EAAMle,KAC3C9K,KAAKynB,KAAK,CACTO,KAAK,kBACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,WACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,eAA+B9c,EAC/B,CAAC,GAAD,OAAI9K,KAAK4nB,QAAT,mBAAmCiB,EACnC,CAAC,GAAD,OAAI7oB,KAAK4nB,QAAT,oBAA6BoB,EAA7B,SAtI4B,KA2I/BC,yBAA2B,CAACJ,EAAgBC,EAAWE,EAAMle,KAC5D9K,KAAKynB,KAAK,CACTO,KAAK,mBACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,WACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,mBAAmCiB,EACnC,CAAC,GAAD,OAAI7oB,KAAK4nB,QAAT,cAA8BkB,EAC9B,CAAC,GAAD,OAAI9oB,KAAK4nB,QAAT,eAA+B9c,EAC/B,CAAC,GAAD,OAAI9K,KAAK4nB,QAAT,oBAA6BoB,EAA7B,SAnJ4B,KAwJ/BE,mBAAqB,CAACC,EAAiBH,EAAMle,KAC5C9K,KAAKynB,KAAK,CACTO,KAAK,oBACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,cACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,eAA+B9c,EAC/B,CAAC,GAAD,OAAI9K,KAAK4nB,QAAT,SAAyBoB,EACzB,CAAC,GAAD,OAAIhpB,KAAK4nB,QAAT,oBAAoCuB,MA/JR,KAoK/BC,gBAAkBte,IACjB9K,KAAKynB,KAAK,CACTO,KAAK,mBACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,eACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,eAA+B9c,MAzKH,KA8K/Bue,eAAiBve,IAChB9K,KAAKynB,KAAK,CACTO,KAAK,kBACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,eACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,eAA+B9c,MAnLH,KAwL/Bwe,mBAAqB,CAAC3nB,EAAcmJ,KACnC9K,KAAKynB,KAAK,CACTO,KAAK,yBACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,eACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,eAA+B9c,EAC/B,CAAC,GAAD,OAAI9K,KAAK4nB,QAAT,iBAAiCjmB,EAAa4nB,UA9LlB,KAmM/BC,oBAAsB,CAAC7nB,EAAcmJ,KACpC9K,KAAKynB,KAAK,CACTO,KAAK,0BACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,eACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,eAA+B9c,EAC/B,CAAC,GAAD,OAAI9K,KAAK4nB,QAAT,iBAAiCjmB,EAAa4nB,UAzMlB,KA8M/BE,YAAc,CAACC,EAAY5e,KAC1B9K,KAAKynB,KAAK,CACTO,KAAK,gBACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,eACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,eAA+B9c,EAC/B,CAAC,GAAD,OAAI9K,KAAK4nB,QAAT,eAA+B8B,MApNH,KAyN/BC,KAAO7e,IACN9K,KAAKynB,KAAK,CACTO,KAAK,QACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,eACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,eAA+B9c,MA9NH,KAmO/B8e,OAAS9e,IACR9K,KAAKynB,KAAK,CACTO,KAAK,UACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,eACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,eAA+B9c,MAxOH,KA6O/B+e,kBAAoB/e,IACnB9K,KAAKynB,KAAK,CACTO,KAAK,qBACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,eACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,eAA+B9c,MAlPH,KAuP/Bgf,QAAUhf,IACT9K,KAAKynB,KAAK,CACTO,KAAK,UACL9e,KAAK,GAAD,OAAKlJ,KAAK4nB,QAAV,eACJC,WAAY,CACX,CAAC,GAAD,OAAI7nB,KAAK4nB,QAAT,eAA+B9c,MA5PH,KAiQ/Bif,aAAeC,IAEdhqB,KAAKiqB,SAAW,CAACC,EAAMC,KACtB,IAAIC,EACJ,OAAO1C,IACD0C,IACJA,EAAUjR,WAAW,KACpBiR,EAAU,KACVF,EAAKG,MAAMrqB,KAAM0nB,IACfyC,MAKNH,EAAOM,iBAAP,OAAgCtqB,KAAKiqB,SAAS,KAC7CjqB,KAAKkoB,UAAL,UAAkB8B,EAAOO,eACvB,MAEHP,EAAOM,iBAAP,QAAiC,KAChCtqB,KAAKmoB,WAAL,UAAmB6B,EAAOO,gBAG3BP,EAAOM,iBAAP,QAAiC,KAChCtqB,KAAKioB,MAAL,UAAc+B,EAAOO,gBAGtBP,EAAOM,iBAAP,WAAoC5iB,IACnC1H,KAAKwoB,SAAL,UAAiB9gB,EAAE8iB,OAAOC,SAA1B,OAAoC/iB,EAAE8iB,OAAOE,YAG9CV,EAAOM,iBAAP,cAAuC,KACtCtqB,KAAK2oB,cAAL,UAAsBqB,EAAOO,gBAG9BP,EAAOM,iBAAP,aAAsCtqB,KAAKiqB,SAAS,KACnDjqB,KAAKooB,WAAL,UAAmB4B,EAAOO,aAA1B,UAA4CP,EAAOW,gBACjD,MAEHX,EAAOM,iBAAP,eAAwCtqB,KAAKiqB,SAAS,IAC9CD,EAAOY,OAAS5qB,KAAKsoB,aAAL,UAAqB0B,EAAOO,aAA5B,UAA8CP,EAAOzB,SAC1E,MAEHyB,EAAOM,iBAAP,OAAgC,KAC/BtqB,KAAK2pB,KAAL,UAAaK,EAAOO,aAApB,OAGDP,EAAOM,iBAAP,SAAkC,KACjCtqB,KAAK4pB,OAAL,UAAeI,EAAOO,aAAeP,EAAOzB,UAG7CyB,EAAOM,iBAAP,kBAA2C,KAC1CtqB,KAAKopB,gBAAL,UAAwBY,EAAOO,gBAGhCP,EAAOM,iBAAP,iBAA0C,KACzCtqB,KAAKqpB,eAAL,UAAuBW,EAAOO,gBAG/BP,EAAOM,iBAAP,cAAuC5iB,IACtC1H,KAAKspB,mBAAmB5hB,EAAE8iB,OAAOK,SAGlCb,EAAOM,iBAAP,eAAwC5iB,IACvC1H,KAAKwpB,oBAAoB9hB,EAAE8iB,OAAOK,SAGnCb,EAAOM,iBAAP,UAAmC,KAClCtqB,KAAK8pB,QAAL,UAAgBE,EAAOO,iBApUM,KAwU/BO,aAAepD,IACd1nB,KAAK+qB,KAAOrD,EAAKqD,KACjB/qB,KAAKunB,OAASG,EAAKH,OAASG,EAAKH,OAASvnB,KAAKunB,OAC/CvnB,KAAKwF,KAAOkiB,EAAKliB,KACjBxF,KAAKgrB,aACJtD,EAAKnmB,SACJmmB,EAAKnmB,SAASgoB,MAEd7B,EAAKjkB,QACJikB,EAAKjkB,QAAQtD,KAEbH,KAAKgrB,aAERhrB,KAAK+pB,aAAarC,EAAKsC,SArVO,KAwV/BvN,QAAU,OAxVqB,KA0V/BkL,OAASsD,IACRjrB,KAAK2nB,SAAWsD,GA1VhBjrB,KAAKunB,OAASA,EACdvnB,KAAKwF,KAAOA,EACZxF,KAAKwnB,IAAMA,EAEXxnB,KAAK2nB,QAAS,EAEd3nB,KAAK4nB,QAAL,UAAkBnoB,OAAOC,SAASwrB,OAAlC,OCWaC,OAjBf,MAAoB,cAAD,KAClBnhB,MAAQ,GAERohB,KAAKnrB,EAAIorB,GACJrrB,KAAKgK,MAAM/J,GACdorB,EAASrrB,KAAKgK,MAAM/J,IAEpB0C,IAAM,GAAD,OAAIC,wBAAJ,oBAAmD3C,EAAnD,UACH+C,KAAKC,GAAOA,EAAIqoB,QAChBtoB,KAAME,IACNlD,KAAKgK,MAAM/J,GAAMiD,EACjBmoB,EAASnoB,OCiKCqoB,OAzKU7D,IAExB,IAAI6C,EAAc,EAClB,MAAMzkB,EAAU4hB,EAAK8D,OACfC,EAAS/D,EAAKgE,cAAcrgB,OAAOwf,GACjC,aAAAA,EAAMc,MACZ,cAAAd,EAAMc,MACN,iBAAAd,EAAMc,MAIR,IAAIC,EAAOlE,EAAKkE,OAAQ,EACpBC,EAAc,EAiFlBtkB,OAAOukB,sBAAiB,EAAM,CAC7BF,KAAM,CACL3lB,IAAI6B,IACH8jB,IAAS9jB,EACF8jB,GAERrpB,IAAG,IACKqpB,GAGTG,iBAAkB,CACjB9lB,IAAI6B,GACH+jB,EAAc/jB,GAEfvF,IAAG,IACKspB,GAGTvB,iBAAkB,CACjBxiB,MAAMge,EAAOuF,EAAUW,GACtBlmB,EAAQwkB,iBAAiBxE,EAAOuF,EAAUW,IAAW,KAGvDC,SAAU,CACTnkB,MAAM+iB,GACL,IAAI,aAAAA,EAAMc,MACT,cAAAd,EAAMc,MACN,iBAAAd,EAAMc,SAEFF,EAAOxkB,QAAQ4jB,GAEpB,OADAY,EAAO1lB,KAAK8kB,GAhEEqB,KAChB,GAAIT,EAAOvkB,OAASglB,EAAK,EAAG,OAAO,EACnC,MAAMC,EAAmBzlB,SAAS0lB,cAAT,UACxBC,EAAoB3lB,SAAS0lB,cAAT,OACpBE,EAAab,EAAOS,GAwBrB,OAtBAC,EAAiBI,UAAYD,EAAW/C,MAExC8C,EAAkBG,MAAMC,QAAUZ,IAAgBK,EAAhB,eAClCG,EAAkBK,aAAlB,kBAAkDR,GAClDG,EAAkBlQ,UAAUC,IAA5B,qBAEAkQ,EAAWK,KAAK9mB,QAAQ,CAAC+mB,EAAKC,KAC7B,MAAMC,EAAIpmB,SAAS0lB,cAAT,OACTW,EAAWH,EAAII,eAEhBF,EAAE3Q,UAAUC,IAAZ,iBACA0Q,EAAE3Q,UAAUC,IAAI6Q,UAAOxW,KAAKyW,aAAaH,EAASI,cAClDL,EAAEJ,aAAF,kBAAkCR,GAClCY,EAAEJ,aAAF,gBAAgCG,GAChCC,EAAEM,YAAYL,GACdD,EAAExC,iBAAF,QAA6B5iB,IAC5B5B,EAAQunB,cAAc,IAAIC,YAAJ,WAA4B,CAAEC,SAAS,EAAM/C,OAAQ,CAAEK,MAAOyB,EAAYM,YAEjGP,EAAkBe,YAAYN,MAIxB,GAqCEb,CAASR,EAAOxkB,QAAQ4jB,MAGjC2C,YAAa,CACZ1lB,MAAM+iB,IACKY,EAAOxkB,QAAQ4jB,IACjB7lB,QAAQC,IAAR,4FAGVslB,YAAa,CACZhoB,IAAG,IACKgoB,EAERtkB,IAAI6B,GACH,IAAI2lB,EAAM,IACNC,GAAS,IACb,MAAM7C,EAAQY,EAAOI,GASrB,GAPAtB,GAAeziB,EACf,GAAGjC,QAAQ8nB,KAAKjnB,SAASknB,iBAAT,8CAAiE/B,EAAjE,wBACdgC,IACA,MAAMjB,EAAM/B,EAAM8B,KAAKkB,EAAKC,QAAQC,UACpCF,EAAK1R,UAAUoO,GAAeqC,EAAIoB,WAAazD,GAAeqC,EAAIqB,QAAnD,gBAAf,aAGGrC,EAAM,OACX,MAAMsC,EAAaxnB,SAASknB,iBAAT,8CAAiE/B,EAAjE,iBACnB,GAA0B,IAAtBqC,EAAWhnB,OAAc,OAC7B,GAAGrB,QAAQ8nB,KAAKO,EAAaC,IAC5BV,EAAMW,KAAKxN,IAAI6M,EAAKU,EAAUE,WAC9BX,EAASU,KAAKE,IAAIZ,EAAQS,EAAUE,UAAYF,EAAUI,gBAG3D,MAAMC,EAAS9nB,SAAS+nB,cAAT,4BACfD,EAAOE,WAAajB,EAAMe,EAAOD,aAAeb,GAAU,EAAIc,EAAOH,YAGvEM,OAAQ,CACP7mB,QACC9C,QAAQC,IAAR,uH,oBChKJ,MAAM2pB,GAAO,GAEPC,GAAkB,CAKvB5Z,OAAO,WAAD,4BAAE,WAAMyS,GAAN,mBAAAhlB,EAAA,0DAUDosB,EAAYpoB,SAAS0lB,cAAT,QAERnsB,GAAV,SAEAynB,EAAK8D,OAAO4B,YAAY0B,GAdjB,KAkBGpH,EAAKjkB,QAlBR,KAmBMikB,EAAKqH,WAnBX,KAoBUrH,EAAKsH,eApBf,KAqBItH,EAAKnmB,SArBT,KAsBKmmB,EAAKsG,UAtBV,KAuBGtG,EAAKuG,QAvBR,KAwBKvG,EAAKuH,UAxBV,KAyBEH,EAzBF,KA0BK9sB,GAAiB0lB,EAAKjkB,UACpB1B,GAAa2lB,EAAKjkB,WAAYyrB,GAAexH,EAAKjkB,SA3BzD,kCA4BC0rB,GAAcC,uBAAuB,CAC1C7tB,SAAUmmB,EAAKnmB,SACf8tB,SAAU3H,EAAK2H,SACf3gB,UAAWgZ,EAAKhZ,UAChB4gB,WAAY5H,EAAK4H,aAhCb,iDAiCA,GAjCA,yBAmCLne,GAAgBuW,EAAKjkB,SACpB0rB,GAAcI,uBAAuB,CACpChuB,SAAUmmB,EAAKnmB,SACf8tB,SAAU3H,EAAK2H,SACf3gB,UAAWgZ,EAAKhZ,UAChB4gB,WAAY5H,EAAK4H,aACb,GAzCD,MA0CI5H,EAAK2D,SAzBVmE,EAjBC,CAkBN/rB,QAlBM,KAmBNsrB,WAnBM,KAoBNC,eApBM,KAqBNztB,SArBM,KAsBNysB,UAtBM,KAuBNC,QAvBM,KAwBNgB,UAxBM,KAyBNzD,OAzBM,KA0BNiE,UA1BM,KA2BNC,YA3BM,MAkCN9T,YAlCM,MA0CNyP,SA1CM,QA6CDrB,EAAS2F,GAAgBH,IAExBxsB,KAAK,KAEXvD,OAAO4tB,cAAc,IAAIuC,MAAJ,SAAoB,CAAErC,SAAS,OAIrD7mB,SAAS4jB,iBAAT,gBAA2C5iB,IAC1CA,EAAEmoB,kBACFnpB,SAAS8V,eAAT,iBAAyC6Q,cAAc,IAAIC,YAAJ,aAA8B,CACpFC,SAAS,EACT/C,OAAQ,CAAED,YAAaP,EAAOO,kBAE7B,GA3DI,4CAAF,mDAAC,IA+DF2E,GAAiBzrB,GACf,SAAAA,EAAQhC,SAASG,gBAGnBG,GAAe0B,GACb,SAAAA,EAAQhC,SAASM,aAGnBoP,GAAkB1N,GAChB,SAAAA,EAAQhC,SAAS0P,gBAGnBnP,GAAmByB,GACjB,SAAAA,EAAQhC,SAASO,iBAiLnB8tB,GAAqB,CAACC,EAAK/F,KAChC,MAAMyC,EAAU/lB,SAAS0lB,cAAT,OAEhB,IAAIlpB,EAAO,KACV8sB,EAAY,KA4Db,OA1DAvD,EAAQD,MAAMyD,SAAd,SACAxD,EAAQD,MAAM5R,OAAd,OACAoP,EAAOM,iBAAP,aAAuCxE,IAGtC,GAFAkE,EAAOkG,QAEHhtB,IAAS4iB,EAAM0E,OAAOtnB,KAOzB,OANAA,EAAO4iB,EAAM0E,OAAOtnB,KAChB8sB,IACHA,EAAUG,UACVH,EAAY,MAGLlK,EAAM0E,OAAOtnB,KAAKgG,MAC1B,IAAI,OACHujB,EAAQF,UAAYzG,EAAM0E,OAAOtnB,KAAK4E,MACtC,GAAGjC,QAAQ8nB,KAAKlB,EAAQmB,iBAAR,KAAgCwC,IAC/CA,EAAKnX,OAAL,WAED,MACD,IAAI,QACHwT,EAAQF,UAAR,oBAAiCzG,EAAM0E,OAAOtnB,KAAK4E,MAAnD,MACA,MACD,IAAI,UACHqjB,GAAaC,KAAKtF,EAAM0E,OAAOtnB,KAAK4E,MAAOrE,IAC1CgpB,EAAQF,UAAR,GAEA9oB,EAAQhC,SAASG,gBAAjB,QACA6B,EAAQhC,SAAS0P,gBAAjB,QACA1N,EAAQhC,SAASO,iBAAjB,QAEAmtB,GAAcla,OAAO,CACpBxR,UACA+nB,OAAQiB,EACR4D,UAAU,EACVrB,eAAgB,CACfsB,KAAK,GAEN5uB,YAAajC,OAAOwtB,OAAOsD,aAAaC,QACxCzB,WAAY,CACXpW,KAAM,CAAC,QACPH,MAAO,CAAC,WAAD,aAER6S,SAAS3D,GACRsI,EAAYtI,EAAK+I,gBAUtBnJ,GAAKoJ,WAAWxH,mBADK,UAC+BpD,EAAM0E,OAAOxB,MAEjE+G,EAAI3R,WAGEqO,GAGFkE,GAAoB,CAACZ,EAAK/F,KAC/B,MAAMyC,EAAU/lB,SAAS0lB,cAAT,OAYhB,OAXAzpB,IAAM,GAAD,OAAIC,wBAAJ,cAEHI,KAAKC,GAAOA,EAAIqoB,QAAQtoB,KAAKsoB,IAC7BA,EAAKsF,SAAS/qB,QAAQgrB,IACrB,MAAM/qB,EAAUY,SAAS0lB,cAAT,KAEhBtmB,EAAQqnB,YAAc0D,EAAOC,KAC7BrE,EAAQW,YAAYtnB,OAEnBirB,MAAMrrB,GAASV,QAAQU,MAAR,0BAAyCA,IAErD+mB,GAKFkD,GAAkBjI,IAEvB,IAAIsC,EACJ,MAAMvmB,EAAUikB,EAAKjkB,QACpButB,EAAiB,IAAIC,IACrBC,EAAa,IAAID,IAEjBlC,EAAarH,EAAKqH,YAAc,CAC/BpW,KAAM,CAAC,OAAD,iDACNH,MAAO,CAAC,OAAD,uCAGJzW,GAAa2lB,EAAKjkB,SAOX0N,GAAgBuW,EAAKjkB,UAChC,CAAC,OAAD,SAAkBoC,QAASsrB,IAC1B,MAAM1Z,EAAQsX,EAAWoC,GAAMlqB,QAAjB,gBACTwQ,GAAOsX,EAAWoC,GAAMC,OAAO3Z,EAAO,KAT5C,CAAC,OAAD,SAAkB5R,QAAQsrB,IACzB,CAAC,cAAD,0BAA2CtrB,QAAQwrB,IAClD,MAAM5Z,EAAQsX,EAAWoC,GAAMlqB,QAAQoqB,IAClC5Z,GAAOsX,EAAWoC,GAAMC,OAAO3Z,EAAO,OAW9ChY,OAAOwtB,OAAOqE,mBAAmBC,MAAQ,CAAC,QAAD,iDACzC9xB,OAAOwtB,OAAOqE,mBAAmBE,MAAQ,CAAC,SAI1C9J,EAAK8D,OAAOgB,MAAMiF,cAAlB,OAGAhyB,OAAO6qB,iBAAP,UAAmC5iB,IAChB,KAAdA,EAAEgqB,SAAsF,IAApEhrB,SAASknB,iBAAT,+BAAyD1mB,SAChF8iB,EAAOA,EAAO2H,OAAP,kBACPjqB,EAAEqN,oBAIJtV,OAAO6qB,iBAAiB7qB,OAAOwtB,OAAO2E,MAAMC,WAAWC,gBAAiBhM,IACnErmB,OAAOwtB,OAAO2E,MAAMC,WAAWE,cAElC/H,EAAOlkB,QAAQ0mB,MAAMwF,eAArB,SACAhI,EAAOlkB,QAAQ0mB,MAAMwF,eAArB,WAGAvyB,OAAO4tB,cAAc,IAAIuC,MAAJ,SAAoB,CAAErC,SAAS,EAAM0E,YAAY,OAErE,GAEHxyB,OAAO6qB,iBAAP,SAAkCxE,IAC5B4B,EAAKsH,gBAAmBtH,EAAKsH,eAAesB,MACjDtG,EAAOkI,UAAYxrB,SAASyrB,gBAAgBC,gBAC1C,GAEH,MAAMC,EAAO,GAwEb,OAvEIrwB,GAAiByB,IACpB4uB,EAAKtsB,KAAK,CACTmL,MAAM,cACNzN,QAAO,CAACssB,EAAK/F,IArTY,EAAC+F,EAAK/F,EAAQvmB,EAAS6uB,KAClD,IAAIC,GAAS9uB,EAAQhC,SAASK,iBAAjB,IACXK,MADW,KACAkJ,OAAQmnB,KACVA,GAEX,MAAMC,EAAe/rB,SAAS0lB,cAAT,OACpBsG,EAAqBhsB,SAAS0lB,cAAT,OAGjBmG,EAAMrrB,SACVqrB,EAAQhrB,OAAO4H,KAAKwjB,aAAUC,OAC5BhvB,IAAKivB,GACEF,aAAUC,MAAMC,KAI1B,MAAM/wB,EAAkBywB,EAAM3uB,IAAKgc,IAC3B,CAAE9X,MAAO8X,EAAMoJ,KAAM2J,aAAUG,YAAYlT,MAChDmT,KAAK,CAACrwB,EAAGuoB,IACJvoB,EAAEsmB,KAAKgK,cAAc/H,EAAEjC,OAG/B0J,EAAmB/Y,UAAnB,qBACA,IAAIsZ,KAAcC,YAAY,CAC7BC,GAAIV,EACJxyB,GAAG,YACH6H,MAAO,EACoB,IAA1ByqB,EAAMtrB,QAAN,aACSsrB,EAAM,IAEhBa,KAAK,aACL1d,OAAO,OACPsT,KAAK,kBACLqK,QAASvxB,EACTwxB,UAAU,IACRhJ,iBAZH,cAYmC,KAClCN,EAAOuJ,iBAAa,GAAKzrB,MAAM,KAMhCkiB,EAAOM,iBAAP,YAAqCxE,IACpC,MAAM0E,EAAS1E,EAAM0E,OACpBtnB,EAAOsnB,EAAOtnB,KACf,IAAIswB,EACJ,OAAQtwB,EAAKuwB,YACb,IAAI,UAAYD,EAAY,qBAC3B,MACD,IAAI,aAAeA,EAAY,2BAC9B,MACD,QAAS,OAETlM,GAAKoJ,WAAW8C,GAAclB,EAAY/vB,IAAIW,EAAK0pB,IAAI/B,OAAO5qB,GAAIiD,EAAK0pB,IAAI3sB,GAAIuqB,EAAOxB,MACtFgB,EAAOkG,UAIRlG,EAAOM,iBAAP,cAAuCxE,IAEtC,IAAI4N,EACJ,MAAMlJ,EAAS1E,EAAM0E,OAEpBmJ,EAAQ,sHACRC,EAAOltB,SAAS0lB,cAAT,OACRwH,EAAKrH,UAAYqC,GAAKiF,aAAa/N,EAAM0E,QAAUmJ,EACnDjB,EAAmBtF,YAAYwG,GAC/B7D,EAAI3R,SAGHwV,EAAKnF,cAAL,UAA6BnE,iBAA7B,QAAuD,KACtD,MAAMwJ,QAAU,GAAKC,WACfC,EAAO,IAAIC,SACjBD,EAAKE,OAAL,UAAuB1J,EAAO9V,KAC9Bsf,EAAKE,OAAL,WAAwB1J,EAAO2J,KAC/BH,EAAKE,OAAL,OAAoB1J,EAAOxB,MAC3BrmB,IAAM,GAAD,OAAIC,wBAAJ,UAAiD,CACrDwxB,OAAO,OACPpqB,OAAO,EACPtJ,aAAa,EACb2zB,aAAa,EAEbnxB,KAAM8wB,EACNM,UACCR,EAAQvH,UAAR,uDAED7mB,QACC6uB,MAAM,6BACNT,EAAQC,WAAWS,YAAYV,QAO/BF,EAAKrF,aAAemE,EAAmBnE,cAC1CmF,EAAkBE,EAAKrF,aAAeqF,EAAKnF,cAAL,eAAkCF,aAAe,GACvFmE,EAAmBhE,UAAYgE,EAAmB+B,aAAef,GAEjEhB,EAAmBhE,UAAYgE,EAAmB+B,eAKpDzK,EAAOM,iBAAP,mBAA4CxE,IAC3CyO,MAAM,0BAAD,OAA2BzO,EAAM0E,OAAOxB,KAAxC,iBAGN,MAAM0L,EAAOhuB,SAAS0lB,cAAT,OAMb,OAJAsI,EAAK/a,UAAL,uBACA+a,EAAKtH,YAAYqF,GACjBiC,EAAKtH,YAAY1mB,SAAS0lB,cAAT,OACjBsI,EAAKtH,YAAYsF,GACVgC,GAoMGC,CAAoB5E,EAAK/F,EAAQvmB,EAASutB,KAKhDtJ,EAAKgI,YAAYxoB,QAAUgoB,GAAezrB,IAC7C4uB,EAAKtsB,KAAK,CACTmL,MAAM,cACNzN,QAAO,CAACssB,EAAK/F,IAzMY,EAAC+F,EAAK/F,EAAQvmB,EAASutB,EAAgBE,KAClE,MAAM0D,EAAMluB,SAASmuB,yBACpBC,EAAmB,IAAIvJ,GAAiB,CAEvCG,cAAe,GACfF,OAAQoJ,EACRhJ,MAAM,EACNmJ,UAAW,OAmCb,OA/BAD,EAAiBxK,iBAAjB,WAA8CxE,IAC7C,MAAMkP,EAAUhE,EAAezuB,IAAIujB,EAAM0E,OAAOK,OAAO5qB,GAEvD+pB,EAAOO,YAAczE,EAAM0E,OAAOoC,IAAIoB,UACtC1G,GAAKoJ,WAAW9H,mBAAmBoM,EAASlP,EAAM0E,OAAOoC,IAAI3sB,MAG9D+pB,EAAOM,iBAAP,aAAsC,KACrCwK,EAAiBvK,YAAcP,EAAOO,cAGvCP,EAAOM,iBAAP,eAAwCxE,IACvC,MAAM+E,EAAQ/E,EAAM0E,OAAOK,MAC3BiK,EAAiB7I,SAASpB,GAC1BmG,EAAe/qB,IAAI4kB,EAAO/E,EAAM0E,OAAOjpB,UACvC2vB,EAAWjrB,IAAI4kB,EAAO/E,EAAM0E,OAAOyK,QACjC,GAEHjL,EAAOM,iBAAP,eAAwC,KACvCwK,EAAiBnG,WAGlB3E,EAAOM,iBAAP,gBAAyC,KACxCwK,EAAiBnG,WAGlB3E,EAAOkL,YAAYC,QAAQnyB,KAAK,KAC/B8xB,EAAiBM,aAAapL,EAAOkL,YAAYH,WACjDD,EAAiBnG,WAGXiG,GAgKGS,CAAoBtF,EAAK/F,EAAQvmB,EAASutB,EAAgBE,KAKhExJ,EAAK9L,YAAY1U,QACpBmrB,EAAKtsB,KAAK,CACTmL,MAAM,cACNzN,QAASqsB,KAnVSrsB,IACb,SAAAA,EAAQhC,SAASI,aAsVpBA,CAAa4B,IAChB4uB,EAAKtsB,KAAK,CACTmL,MAAM,YACNzN,QAASktB,KAIX3G,EAAS,IAAIsL,gBAAa,CACzBvG,aACAvD,OAAQ9D,EAAK8D,OACbjqB,SAAUmmB,EAAKnmB,SACfoa,SAAU,CACTsT,UAAWvH,EAAKuH,UAChBsG,UAAW7N,EAAKgI,aAEjB9T,YAAa,CACZO,UAAW,CAAC,cACZoZ,UAAW7N,EAAK9L,aAEjB4Z,WAAY9N,EAAK+H,UAAY,CAC5B/qB,SAAU+wB,cAAW/wB,SACrB2C,IAAKouB,cAAWpuB,IAChBksB,WAAW,OACR,KACJvF,UAAWtG,EAAKsG,UAChBC,QAASvG,EAAKuG,QACdwB,UAAW/H,EAAK+H,UAChB/tB,YAAag0B,WAAWhO,EAAKjkB,QAAQhC,SAASC,cAAgBjC,OAAOwtB,OAAOsD,aAAaC,QACzF6B,SAGDrI,EAAOM,iBAAP,OAAgC,KAC/BN,EAAO2L,gBACL,GAEC,oBAAOjO,EAAK2D,UACflS,WAAW,KACVuO,EAAK2D,SAAS,CACboF,WAAYzG,EACZ8K,iBArHiB,KAsHjB9D,iBACAE,gBAEC,GAGGlH,GAGO6E,UCjef+G,mBAAgBC,WAAhB,UAA8BjzB,gCAA9B,MA+GeusB,OA7GO,MAErB,MAAM2G,EAAoB,uCAAG,WAAOpO,EAAMxe,EAAMtE,GAAnB,mBAAAlC,EAAA,yDAET,IAAfkC,EAAIsC,OAFoB,yCAECrC,QAAQkxB,QAAQ,KAFjB,cAItB7yB,EAAO,CACZmsB,SAAU3H,EAAK2H,UAAY,EAC3B3gB,UAAWgZ,EAAKhZ,UAChB4gB,WAAY5H,EAAK4H,YAAL,OACZ0G,aAAc9sB,EACdtE,IAAKA,EAAIqxB,KAAJ,MAGAC,EAAW3uB,OAAO4H,KAAKjM,GAAMU,IAAIyD,GAAG,UAAO8uB,mBAAmB9uB,GAA1B,YAAkC8uB,mBAAmBjzB,EAAKmE,MAAS4uB,KAA5F,KAEjBjxB,QAAQC,IAAIixB,GAdgB,kBAkBRvzB,IAAMW,KAAN,UAAcV,wBAAd,mCAA4EszB,GAAY,CAC1GpzB,QAAS,CACR,eAAe,uCApBU,cAkBrBszB,EAlBqB,OAwB3BpxB,QAAQC,IAAR,QAxB2B,kBA0BpBmxB,GA1BoB,kCA4B3BpxB,QAAQU,MAAR,MA5B2B,0DAAH,0DAiCpB0pB,EAAyB1H,GACvBoO,EAAqBpO,EAAD,eAE1BA,EAAKnmB,SAAS80B,oBAIV9G,EAAyB7H,GACvBoO,EAAqBpO,EAAD,qBAE1BA,EAAKnmB,SAAS+0B,oBAGVC,EAAa,uCAAG,WAAM7O,GAAN,eAAAhlB,EAAA,2DAGjB,CAAC,QAAD,wBAAoCuE,QAAQygB,EAAKjkB,QAAQ/C,cAAgB,GAHxD,wBAIpBk1B,mBAAgBC,WAAhB,kCAJoB,kBAQID,mBAAgBxK,KAAK1D,EAAKjkB,QAAQtC,YARtC,OAQbI,EARa,OAUnBmmB,EAAKnmB,SAAWA,EAEhBstB,GAAgB5Z,OAAO,CACtBma,yBACAG,yBACAhuB,WACAkC,QAASikB,EAAKjkB,QACd4rB,SAAU3H,EAAK2H,SACf3gB,UAAWgZ,EAAKjkB,QAAQxD,GACxBurB,OAAQ9D,EAAK8D,OACbuD,WAAYrH,EAAKqH,WACjBC,eAAgBtH,EAAKsH,eACrBhB,UAAWtG,EAAKsG,UAChBC,QAASvG,EAAKuG,QACdgB,UAAWvH,EAAKuH,UAChBK,WAAY5H,EAAK4H,WACjBjE,SAAU3D,EAAK2D,WA1BG,kDA8BnBrmB,QAAQU,MAAR,MA9BmB,gCAiCV,aAAAgiB,EAAKjkB,QAAQ/C,aACvBsE,QAAQU,MAAR,gCAlCoB,0DAAH,sDAqCb8wB,EAAoB/yB,IACzB,cAAeA,GACf,IAAI,SACH,OAAOd,IAAM,YAAD,OAAac,EAAb,iBAA6B4B,KAAKC,MAAMC,SAAS,MAC9D,IAAI,SACH,OAAOV,QAAQkxB,QAAQtyB,GACxB,QACC,OAAOoB,QAAQ4xB,OAAO,IAAIjT,MAAJ,2BAIxB,MAAO,CACN4L,yBACAG,yBACAiH,oBACAvhB,OAAOyS,GACN8O,EAAkB9O,EAAKjkB,SAAST,KAAhC,uCAAqC,WAAME,GAAN,SAAAR,EAAA,6DACpCglB,EAAKjkB,QAAUP,EADqB,SAE9BqzB,EAAc7O,GAFgB,2CAArC,0DArGmB,G,uYCaPpS,OAlBMjB,IAAOC,IAAV,M,OCSH,MAAMoiB,WAAe3d,YAAW,eAAD,iCAW7CkD,mBAX6C,sBAWxB,kCAAAvZ,EAAA,wDAKhB,EAAK2P,MAAMgM,UAHd5a,EAFmB,EAEnBA,QACAkzB,EAHmB,EAGnBA,OACA9c,EAJmB,EAInBA,IAGD,IAECsV,GAAcla,OAAO,CACpBka,iBACA1rB,UACAkzB,SACAxf,OAAO,EACPyf,SAAS,EACTn2B,aAAc,EACd+qB,OAAQ3R,EAAIR,QACZgX,UAAU,EACVwG,MAAM,EACN7H,gBAAgB,EAChBttB,YAAaurB,UAAOsD,aAAaC,QACjCxC,UAAU,IACVC,QAAQ,OAER,MAAOvoB,GACRV,QAAQU,MAAMA,GAzBK,2CAVrBuP,SAAU,MACD4E,EAAQ7Z,KAAKqS,MAAMgM,UAAnBxE,IACR,OACC,kBAAC,GAAD,KACC,yBAAKA,IAAKA,IACV,kBAAC,GAAD,Q,aCOJ,MAAMid,WAAaliB,gBAElBK,SAAU,MAAD,EAMJjV,KAAKqS,MAAMgM,UAHd7Y,EAHO,EAGPA,KACA4E,EAJO,EAIPA,QACAgI,EALO,EAKPA,MAGD,OACC,kBAAC,KAAD,KACE5M,EACA,oCACC,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,KAAD,KAEC,kBAAC,KAAD,CAAOuxB,OAAK,EAAC1wB,KAAK,KACjB,kBAAC,GAAD,OAGD,kBAAC,KAAD,CAAOA,KAAK,UACX,kBAAC,GAAD,OAGD,kBAAC,KAAD,CAAOA,KAAK,gBACX,kBAAC,GAAD,OAGD,kBAAC,KAAD,CAAOA,KAAK,kBACX,kBAAC,GAAD,OAGD,kBAAC,KAAD,CAAOA,KAAK,sDACX,kBAAC,GAAD,OAGD,kBAAC,KAAD,CAAOA,KAAK,iBACX,kBAAC,GAAD,OAGD,kBAAC,KAAD,CAAOA,KAAK,eACX,kBAAC,GAAD,OAGD,kBAAC,KAAD,KACC,kBAAC,GAAD,CAAOX,MAAM,MAAMsF,QAAO,+BAM7B,kBAAC,GAAD,MAGD,kBAAC,GAAD,CAAMZ,QAASA,IACf,kBAAC,GAAD,CAAO4H,OAAQI,EAAMJ,WAMV8kB,UChFf,MA6EMvU,GAAqB,CAC1BjgB,OAAQ6F,EAAa7F,OACrBsJ,MAAOzD,EAAayD,MACpBmG,gBAAiBX,EAAiBW,iBAGpB0K,mBAVS1S,IAAK,CAC5B7G,KAAM6G,EAAMgB,WAAW7H,OASgBqf,GAAzB9F,CAnFQpK,IAAU,MAG/BnP,EAIGmP,EAJHnP,KACAZ,EAGG+P,EAHH/P,OACAsJ,EAEGyG,EAFHzG,MACAmG,EACGM,EADHN,gBAGK4E,EAAW,CAChBd,MAAO,CACN1V,KAAK,QACLme,YAAY,oBACZhd,IAAI,QAELgV,YAAa,CACZnW,KAAK,cACLme,YAAY,0BACZhd,IAAI,cAELf,QAAS,CACRJ,KAAK,UACLme,YAAY,qBACZhd,IAAI,YAvByB,EA2BO01B,mBAAS,IA3BhB,mBA2BxBv0B,EA3BwB,KA2BXw0B,EA3BW,OA4BaD,mBAASrgB,EAASd,MAAM1V,MA5BrC,mBA4BxBqC,EA5BwB,KA4BR00B,EA5BQ,OA6BOF,mBAASrgB,EAASd,MAAMyI,aA7B/B,mBA6BxBA,EA7BwB,KA6BX6Y,EA7BW,KA+B/BC,oBAAU,KACTrlB,GAAgB,GACT,KACNA,GAAgB,KAEf,CAACA,IAEJ,MAkBMsM,EAAY,CACjB5b,cACAD,iBACAmU,WACAzT,OACAob,eAGKC,EAAW,CAChBC,eA3BsB9W,IACtBA,EAAEqN,iBACFnJ,IACAqrB,EAAe,IACfC,EAAkBxvB,EAAEuR,OAAOnR,OAC3BqvB,EAAexgB,EAASjP,EAAEuR,OAAOnR,OAAOwW,cAuBxCG,gBApBuB/W,IAAM,MACrBI,EAAUJ,EAAEuR,OAAZnR,MACRmvB,EAAenvB,GACXA,EAAMZ,OAAS,GAAG5E,EAAOqU,EAASnU,GAAgBlB,IAAKwG,GAAO,IAkBlE4W,aAfoBhX,IACpBA,EAAEqN,mBAiBH,OAAO,kBAAC,GAAD,CAAOsJ,UAAWA,EAAWE,SAAUA,MCpE/C,MAyDMgE,GAAqB,CAC1BhU,eAAgB3B,EAAkB2B,eAClCsC,WAAYjB,EAAeiB,WAC3B6B,yBAA0BtB,EAAiBsB,yBAC3CX,gBAAiBX,EAAiBW,iBAGpB0K,mBAfS,EAAG3I,YAAWC,iBAAgBvF,kBAAiBsC,mBAA/C,CACvB0Q,OAAiC,IAAzB1N,EAAUtO,KAAKnF,MACvBohB,QAAkC,IAAzB3N,EAAUtO,KAAKnF,MACxBiS,cAAeyB,EAAezB,cAC9B3M,YAAa6I,EAAgBxE,MAC7BvG,QAASqN,EAAa9G,QAUiBuY,GAAzB9F,CAhEcpK,IAAU,MAGrCmP,EASGnP,EATHmP,OACAC,EAQGpP,EARHoP,QACAnP,EAOGD,EAPHC,cAEAzB,GAKGwB,EANH5O,QAMG4O,EALHxB,YACAlL,EAIG0M,EAJH1M,YACA4I,EAGG8D,EAHH9D,eACAmE,EAEGL,EAFHK,yBACAX,EACGM,EADHN,gBAKDqlB,oBAAU,KACT7oB,IACAwD,GAAgB,GAQT,KACNA,GAAgB,KAEf,CAACpM,EAAa4I,EAAgBsC,EAAYkB,IAE7C,MAAMsM,EAAY,CACjBmD,SACAC,UACAnP,gBAGA3M,YAAaA,GAKR4Y,EAAW,CAChB7L,4BAGD,OAAO,kBAAC,GAAD,CAAa2L,UAAWA,EAAWE,SAAUA,MCzCrD,MAiEMgE,GAAqB,CAC1B9T,wBAAyB7B,EAAkB6B,wBAC3CwC,cAAerB,EAAeqB,eAGhBwL,mBAAQ,KAAM8F,GAAd9F,CAtEkBpK,IAAU,MAGzC5O,EAGG4O,EAHH5O,QACAgL,EAEG4D,EAFH5D,wBACAwC,EACGoB,EADHpB,cALwC,EAQX+lB,oBAAS,GARE,mBAQlCjV,EARkC,KAQzBsV,EARyB,OASXL,oBAAS,GATE,mBASlChV,EATkC,KASzBM,EATyB,OAWD0U,mBAASvzB,GAXR,mBAWlC6zB,EAXkC,KAWpBjV,EAXoB,KAazC,GAAI7C,GAAc/b,GAAU,OAAO,KAEnC,MAgCM4a,EAAY,CACjB5a,QAAS6zB,EACTtV,UACAD,WAGKxD,EAAW,CAChB0D,iBA7BwBva,IACxB2a,EAAgB,eACZiV,EADW,CAEdn3B,KAAMuH,EAAEuR,OAAOnR,MACfvG,SAAS,eACL+1B,EAAa/1B,SADT,CAEP2P,MAAOxJ,EAAEuR,OAAOnR,YAwBlBoa,oBAnB2Bxa,IAC3B+G,EAAwBhL,EAAQhD,aAAcgD,EAAQxD,KAmBtDkiB,iBAzCqB,uCAAG,sBAAAzf,EAAA,0DACpBqf,EADoB,gCAEjB9Q,EAAcqmB,GAFG,OAGvBhV,GAAW,GACXnJ,WAAW,KACVke,GAAW,IACT,KANoB,sBAOjBA,GAAW,GAPM,2CAAH,qDA0CrBjV,oBAjB2B1a,IAC3B2a,EAAgB,eACZiV,EADW,CAEdr2B,WAAYq2B,EAAar2B,cAe1BohB,kBACAC,cAGD,OAAO,kBAAC,GAAD,CAAiBjE,UAAWA,EAAWE,SAAUA,MCrEzD,MAsMMgE,GAAqB,CAC1BvT,mBAAoB2E,EAAS/G,kBAAkBoC,mBAC/CO,sBAAuBoE,EAAS/G,kBAAkB2C,uBAGpCkN,mBATS1S,IAAK,CAC5B1J,MAAO0J,EAAMyE,gBAAgBnO,QAQUkiB,GAAzB9F,CA3MwBpK,IAAU,MAExC9E,EAAkBoG,EAAS/G,kBAA3BW,cAGPpK,EAIGkP,EAJHlP,WACA9C,EAGGgS,EAHHhS,MACA2O,EAEGqD,EAFHrD,mBACAO,EACG8C,EADH9C,sBAGKgoB,EAAkBl3B,EAAM8C,EAAWlD,IAXM,EAarB+2B,mBAAS,CAClClX,WAAW,IACXC,QAAQ,GACRC,QAAQ,GACRC,UAAU,GACVC,UAAU,GACVnB,SAAU,CACTgB,SAAS,EACTC,SAAS,EACTe,QAAQ,EACRd,WAAW,EACXC,WAAW,KAxBkC,mBAaxC9b,EAbwC,KAajC4Q,EAbiC,KAmC/C,GAPAoiB,oBACC,KACMG,GAAiBvoB,EAAmB7L,EAAWlD,KAErD,CAACkD,EAAWlD,GAAIs3B,EAAiBvoB,KAG7BuoB,EAAiB,OAAO,KAE7B,MAAMhZ,EAAW,CAChBoC,uBAAwBjZ,IACvBsN,EAAS,eACL5Q,EADI,CAEP0b,WAAYpY,EAAEuR,OAAOnR,MACrBiY,QAAQ,GACRC,QAAQ,GACRjB,SAAS,eACL3a,EAAM2a,SADF,CAEPgB,QAAS,MAAArY,EAAEuR,OAAOnR,MAClBkY,SAAS,EACTe,OAAQ,MAAArZ,EAAEuR,OAAOnR,YAIpB+Y,oBAAqBnZ,IACpBsN,EAAS,eACL5Q,EADI,CAEP2b,QAASrY,EAAEuR,OAAOnR,MAClBkY,QAAQ,GACRjB,SAAS,eACL3a,EAAM2a,SADF,CAEPgB,SAAS,EACTC,QAAS,KAAAtY,EAAEuR,OAAOnR,MAClBiZ,QAAQ,QAIXD,oBAAqBpZ,IACpBsN,EAAS,eACL5Q,EADI,CAEP4b,QAAStY,EAAEuR,OAAOnR,MAClBiX,SAAS,eACL3a,EAAM2a,SADF,CAEPgB,SAAS,EACTC,SAAS,EACTe,QAAQ,QAIXE,sBAAuBvZ,IACtBsN,EAAS,eACL5Q,EADI,CAEP6b,UAAWvY,EAAEuR,OAAOnR,MACpBiX,SAAS,eACL3a,EAAM2a,SADF,CAEPkB,UAAW,KAAAvY,EAAEuR,OAAOnR,YAIvBqZ,sBAAuBzZ,IACtBsN,EAAS,eACL5Q,EADI,CAEP8b,UAAWxY,EAAEuR,OAAOnR,MACpBiX,SAAS,eACL3a,EAAM2a,SADF,CAEPmB,UAAW,KAAAxY,EAAEuR,OAAOnR,YAIvB0F,UAAW9F,IACVA,EAAEqN,iBADa,MAId+K,EAGG1b,EAHH0b,WACAC,EAEG3b,EAFH2b,QACAC,EACG5b,EADH4b,QAGKrb,EAAO,CACZmb,cAGGC,IAASpb,EAAK2b,cAAgBP,GAC9BC,IAASrb,EAAK6b,cAAgBR,GAElCzQ,EAAsBpM,EAAWlD,GAAIsN,EAAcC,UAAW,CAAC7I,IAE/DqQ,EAAS,eACL5Q,EADI,CAEP0b,WAAW,IACXC,QAAQ,GACRC,QAAQ,GACRjB,SAAS,eACL3a,EAAM2a,SADF,CAEPgB,SAAS,EACTC,SAAS,QAIZrS,aAAcjG,IACbA,EAAEqN,iBAEF,MAAM7R,EAAOK,KAAKkE,MAAMC,EAAEuR,OAAO6U,QAAQjqB,MAEnCc,EAAO,CACZ1E,GAAIiD,EAAKjD,IAAM,KACf6f,WAAY5c,EAAKkd,YAAc,MAG5Bld,EAAKmd,UAAS1b,EAAK2b,cAAgBpd,EAAKmd,SACxCnd,EAAKqd,UAAS5b,EAAK6b,cAAgBtd,EAAKqd,SAEpB,OAApB5b,EAAKmb,YAAmC,OAAZnb,EAAK1E,GACpCsP,EAAsBpM,EAAWlD,GAAIsN,EAAcI,aAAc,CAAChJ,IAC9D4vB,MAAM,gCAEZvT,aAActZ,IACb1C,QAAQC,IAAIb,EAAM6b,WAClBvY,EAAEqN,iBACF,MAAMpQ,EAAO,CACZ,SAAYP,EAAM6b,UAClB,eAAgB,GAEjB1Q,EAAsBpM,EAAWlD,GAAIsN,EAAcE,MAAO9I,GAC1DqQ,EAAS,eACL5Q,EADI,CAEP6b,UAAU,OAGZiB,cAAexZ,IACdA,EAAEqN,iBAEF,MACMpQ,EADOpB,KAAKkE,MAAMC,EAAEuR,OAAO6U,QAAQjqB,MACvBgT,OAAS,KAEd,OAATlS,EAAe4K,EAAsBpM,EAAWlD,GAAIsN,EAAcK,WAAYjJ,GAE7E4vB,MAAM,2BAEZ7mB,aAAchG,IACbA,EAAEqN,iBACFxF,EAAsBpM,EAAWlD,GAAIsN,EAAcG,mBAAc,GAAKtJ,MAAM8b,WAC5ElL,EAAS,eACL5Q,EADI,CAEP8b,UAAU,OAGZkB,gBAAiB1Z,IAChBA,EAAEqN,iBACF,MACMpQ,EADOpB,KAAKkE,MAAMC,EAAEuR,OAAO6U,QAAQjqB,MACvBgT,OAAS,KACd,OAATlS,EACH4K,EAAsBpM,EAAWlD,GAAIsN,EAAcK,WAAYjJ,GAC3D4vB,MAAM,4BAIPlW,EAAY,CACjBlb,aACA9C,MAAOk3B,EACPnzB,SAGD,OAAO,kBAAC,GAAD,CAAuBia,UAAWA,EAAWE,SAAUA,MChM/D,MAiHMgE,GAAqB,CAC1BjP,aAAcK,EAAShB,gBAAgBW,cAGzBmJ,mBATS1S,IAAK,CAC5B3E,UAAW2E,EAAMwJ,cAAcvJ,MAC/BI,QAASL,EAAM+G,aAAa1G,UAOWmY,GAAzB9F,CArHkBpK,IAAU,MAGzC2P,EAKG3P,EALH2P,QACAve,EAIG4O,EAJH5O,QACA2B,EAGGiN,EAHHjN,UACAgF,EAEGiI,EAFHjI,QACAkJ,EACGjB,EADHiB,aAPwC,EAarCjB,EAAMkM,SAFT8D,EAXwC,EAWxCA,gBACAC,EAZwC,EAYxCA,WAZwC,EAenB0U,mBAAS,IAfU,mBAelClU,EAfkC,KAe7B0U,EAf6B,KA8BzC,GAbAJ,oBACC,KACMhyB,EAAU3B,EAAQtC,YACbsC,EAAQlC,SAKX+gB,GAAW,GAJjBD,EAAgB,eACZ5e,EADW,CAEdlC,SAAU6D,EAAU3B,EAAQtC,eAJMmS,EAAa7P,EAAQtC,aAQ1D,CAACsC,EAAS6P,EAAclO,EAAWid,EAAiBC,KAGhD7e,IAAYA,EAAQlC,SAAU,OAAO,KAE1C,MAyDM8c,EAAY,CACjB2D,UACAve,UACAqf,MACA1Y,WAGKmU,EAAW,CAChBzJ,aAjEoBpN,IAAM,MAClBL,EAAQK,EAAEuR,OAAO6U,QAAjBzmB,IACRgb,EAAgB,eACZ5e,EADW,CAEdhC,SAAS,eACLgC,EAAQhC,SADJ,CAEP,CAAC4F,IAAO5D,EAAQhC,SAAS4F,SA4D3B2b,YAvDmBtb,IACnB2a,EAAgB,eACZ5e,EADW,CAEdhC,SAAS,eACLgC,EAAQhC,SADJ,CAEPC,YAAagG,EAAEuR,OAAOnR,YAmDxBib,kBA9CyBrb,IACzB2a,EAAgB,eACZ5e,EADW,CAEdlC,SAAS,eACLkC,EAAQlC,SADJ,CAEPX,YAAa8G,EAAEuR,OAAOnR,YA0CxBmb,OArCc,KACd,MAAMwU,EAAU3U,EAAI3gB,MAAM,SAC1BkgB,EAAgB,eACZ5e,EADW,CAEdlC,SAAS,eACLkC,EAAQlC,SADJ,CAEPC,SAAU,IAAIi2B,KAAYh0B,EAAQlC,SAASC,eAG7Cg2B,EAAO,KA6BPtU,UA1BiBxb,IACjB2a,EAAgB,eACZ5e,EADW,CAEdlC,SAAS,eACLkC,EAAQlC,SADJ,CAEPC,SAAUiC,EAAQlC,SAASC,SAAS6J,OAAOxH,GAAQA,IAAS6D,EAAEuR,OAAO6U,QAAQhmB,aAsB/Eqb,UAjBiBzb,IACjB8vB,EAAO9vB,EAAEuR,OAAOnR,SAmBjB,OAAO,kBAAC,GAAD,CAAiBuW,UAAWA,EAAWE,SAAUA,MC1GlD,MAAMmZ,WAAwB3e,YACpC9D,SAAU,MAAD,EAKJjV,KAAKqS,MAEHgM,EAAY,CACjBnM,KARO,EAGPA,KAMAwR,OATO,EAIPA,QAQD,OAAO,kBAAC,GAAD,CAAQrF,UAAWA,KASb5B,mBALS1S,IAAK,CAC5BmI,KAAMnI,EAAMgK,eAAe7B,KAC3BwR,OAAQ3Z,EAAMgK,eAAexB,eAGfkK,CAAyBib,IClBxC,MAwDMnV,GAAqB,CAC1BtX,iBAAkB9C,EAAa8C,iBAC/B8G,gBAAiBX,EAAiBW,iBAGpB0K,mBATS1S,IAAK,CAC5BE,WAAYF,EAAMgB,WAAWd,aAQUsY,GAAzB9F,CA7DepK,IAAU,MAGtCpI,EAGGoI,EAHHpI,WACAgB,EAEGoH,EAFHpH,iBACA8G,EACGM,EADHN,gBALqC,EAgBAilB,mBAAS,IAhBT,mBAgB/Bv0B,EAhB+B,KAgBlBw0B,EAhBkB,KAkBtCG,oBAAU,KACTrlB,GAAgB,GACT,KACNA,GAAgB,KAEf,CAACA,IAEJ,MAYMsM,EAAY,CACjB5b,cAEAS,KAAM+G,EAAaA,EAAWoB,OAAOxH,GAAuB,IAAfA,EAAKxD,OAA8B,IAAfwD,EAAKxD,OAAe,GACrFie,YA9Ba,0BAiCRC,EAAW,CAChBE,gBApBuB/W,IAAM,MACrBI,EAAUJ,EAAEuR,OAAZnR,MACRmvB,EAAenvB,GACXA,EAAMZ,OAAS,GAAG+D,EAAiBnD,GAAO,IAkB9C4W,aAfoBhX,IACpBA,EAAEqN,mBAiBH,OAAO,kBAAC,GAAD,CAAcsJ,UAAWA,EAAWE,SAAUA,M,uoFCtD/C,MAAMoZ,GAAOtjB,IAAO0J,KAAV,MAkDJsG,GAAShQ,IAAOqB,OAAV,KAETrD,GAASA,EAAMulB,OAAN,SAkBNC,IAXaxjB,IAAO4J,KAAV,KAKJC,MAMU7J,IAAOqB,OAAV,KAGPrD,GAASA,EAAMqC,MAUrBojB,GAAiBzjB,IAAOC,IAAV,MAKdiB,GAAQlB,IAAOmB,MAAV,MAwBLuiB,GAAO1jB,IAAOC,IAAV,MAKJ0Q,GAAM3Q,IAAOqB,OAAV,KACArD,GAASA,EAAM0F,SAAN,YACf1F,GAASA,EAAM0F,SAAN,kBAKJ1F,GAASA,EAAM0F,SAAN,yBAMXigB,GAAa3jB,IAAOqB,OAAV,KAMPrD,GAASA,EAAM0F,SAAN,YACf1F,GAASA,EAAM0F,SAAN,mBC9HJ,MAAMkgB,WAAsBrjB,gBAE1CK,SAAU,MAAD,EAMJjV,KAAKqS,MAAMgM,UAHd6Z,EAHO,EAGPA,aACAz1B,EAJO,EAIPA,YACAstB,EALO,EAKPA,IALO,EAcJ/vB,KAAKqS,MAAMgM,UAAUnb,KALxBgO,EATO,EASPA,MACAxQ,EAVO,EAUPA,YACAY,EAXO,EAWPA,IACAV,EAZO,EAYPA,YACAW,EAbO,EAaPA,SAbO,EA2BJvB,KAAKqS,MAAMkM,SAVd4Z,EAjBO,EAiBPA,UACAC,EAlBO,EAkBPA,wBACAC,EAnBO,EAmBPA,uBACAC,EApBO,EAoBPA,2BACA5Z,EArBO,EAqBPA,aACA6Z,EAtBO,EAsBPA,iBACAC,EAvBO,EAuBPA,iBACA3S,EAxBO,EAwBPA,WACAvhB,EAzBO,EAyBPA,OACAmO,EA1BO,EA0BPA,YAGD,OACC,oCACC,kDAEA,kBAACslB,GAAD,KACC,kBAAC,GAAD,CAAKhgB,SAAa,QAAHgY,EAAe3a,QAAS+iB,EAAWh4B,KAAI,OAAtD,YACA,kBAAC,GAAD,CAAK4X,SAAa,aAAHgY,EAAoB3a,QAAS+iB,EAAWh4B,KAAI,YAA3D,qBAGG,QAAH4vB,GACA,kBAAC4H,GAAD,CAAM9R,WAAYA,EAAYlH,SAAUD,EAAcze,GAAG,uBACxD,2BAAOkY,QAAQ,wBACd,uCACA,2BAAOlY,GAAG,uBAAuBiJ,KAAK,OAAO/I,KAAK,QAAQ2H,MAAOoJ,EAAO+G,SAAUsgB,EAAkBE,UAAQ,KAG7G,2BAAOtgB,QAAQ,uBACd,sCACA,yBAAKqU,MAAO,CAAEkM,KAAK,IAAMjM,QAAQ,OAASkM,eAAe,kBACxD,kBAACX,GAAD,CAAY9uB,KAAK,SAAS6O,SAAqB,UAAXrX,EAAyB0U,QAASojB,EAAkBI,YAAU,SAAlG,SACA,kBAACZ,GAAD,CAAY9uB,KAAK,SAAS6O,SAAqB,UAAXrX,EAAyB0U,QAASojB,EAAkBI,YAAU,SAAlG,SACA,kBAACZ,GAAD,CAAY9uB,KAAK,SAAS6O,SAAqB,UAAXrX,EAAyB0U,QAASojB,EAAkBI,YAAU,SAAlG,SACA,kBAACZ,GAAD,CAAY9uB,KAAK,SAAS6O,SAAqB,SAAXrX,EAAwB0U,QAASojB,EAAkBI,YAAU,QAAjG,UAIF,2BAAOzgB,QAAQ,sBACd,qCACA,2BAAOlY,GAAG,qBAAqBiJ,KAAK,OAAO/I,KAAK,MAAM2H,MAAOxG,EAAK2W,SAAUsgB,EAAkBE,UAAQ,KAGvG,2BAAOtgB,QAAQ,8BACd,8CAED,8BAAUlY,GAAG,6BAA6BE,KAAK,cAAc2H,MAAOlH,EAAaqX,SAAUsgB,EAAkBnV,KAAM,EAAGqV,UAAQ,IAE9H,2BAAOtgB,QAAQ,2BACd,uCAGD,yBAAKwB,UAAU,iBACbpY,EAASC,SAASoC,IAAI,CAACi1B,EAASphB,IAAU,0BAAMpQ,IAAKoQ,GAAQohB,EAAQ,kBAAChB,GAAD,CAAenjB,IAAKiJ,KAAMvI,QAAS9Q,EAAQ4E,KAAK,SAAS4vB,eAAcD,OAG9I,2BAAO54B,GAAG,yBAAyBiJ,KAAK,OAAO/I,KAAK,WAAW44B,KAAK,0BAA0Bza,YAAY,iBAC1G,8BAAUre,GAAG,2BACXsB,EAASC,SAASoC,IAAI,CAACi1B,EAASphB,IAAU,4BAAQpQ,IAAKoQ,EAAO3P,MAAO+wB,MAGvE,6BACC,kBAAC,GAAD,CAAQ3vB,KAAK,SAASkM,QAAS3C,GAA/B,UACA,kBAAC,GAAD,CAAQvJ,KAAK,SAAS0uB,MAAK,WAA3B,YAKC,aAAH7H,GACA,kBAAC4H,GAAD,CAAMhZ,SAAUyZ,GACdpzB,QAAQC,IAAIizB,GACb,2BAAO/f,QAAQ,kCACd,uCACA,2BAAOjP,KAAK,OAAO/I,KAAK,cAAc2H,MAAOrF,EAAawV,SAAUogB,KAErE,kBAACP,GAAD,KACC,kBAAC,GAAD,KACC,+BAEEI,GACDA,EAAat0B,IAAIH,GAChB,wBAAI4D,IAAK5D,EAAQxD,IAChB,4BACC,2BAAOiJ,KAAK,QAAQpB,MAAOrE,EAAQtC,WAAYhB,KAAK,WAAW8X,SAAUqgB,IACzE,+BAAQ70B,EAAQtD,YAStB,6BACC,kBAAC,GAAD,CAAQ+I,KAAK,SAASkM,QAAS3C,GAA/B,UACA,kBAAC,GAAD,CAAQvJ,KAAK,SAAS0uB,MAAK,WAA3B,cCpHP,MAqKMrV,GAAqB,CAC1BjZ,mBAAoBnB,EAAauD,cACjCstB,+BAAgC7wB,EAAawD,0BAC7CD,cAAekE,EAAelE,cAC9B+G,YAAarB,EAAiBqB,YAC9BnQ,OAAQ6F,EAAa7F,QAGPma,mBAfS1S,IAAK,CAC5B1H,MAAsC,IAA/B0H,EAAM+J,UAAUtO,KAAKnF,MAC5B63B,aAAcnuB,EAAMgB,WAAW7H,KAC/BkP,MAAOrI,EAAMgK,eAAe3B,MAC5BzM,YAAaoE,EAAMyE,gBAAgBxE,QAWIuY,GAAzB9F,CA7KgBpK,IAAU,MAGvC6lB,EAOG7lB,EAPH6lB,aACA5uB,EAMG+I,EANH/I,mBACA0vB,EAKG3mB,EALH2mB,+BACAttB,EAIG2G,EAJH3G,cACA0G,EAGGC,EAHHD,MACA9P,EAEG+P,EAFH/P,OACAmQ,EACGJ,EADHI,YATsC,EAYjBukB,mBAAS,OAZQ,mBAYhCjH,EAZgC,KAY3BpK,EAZ2B,OAaDqR,mBAAS,IAbR,mBAahCv0B,EAbgC,KAanBw0B,EAbmB,OAcSD,mBAAS,IAdlB,mBAchCiC,EAdgC,KAcdC,EAdc,OAeflC,mBAAS,CAChC11B,IAAI,GACJH,WAAW,GACXT,YAAY,QACZwQ,MAAM,GACNtQ,YAAY,GACZW,SAAU,CACTC,SAAU,MAtB2B,mBAehC0B,EAfgC,KAe1Bi2B,EAf0B,KAgEjCC,EAAatzB,IACd,2BAAAA,EAAQ7F,IAAmC,KAAA6F,EAAQgC,QAEvDqxB,EAAQ,eACJj2B,EADG,CAEN3B,SAAU,CACTC,SAAU,IAAI0B,EAAK3B,SAASC,SAAUsE,EAAQgC,WAIhDpB,SAAS8V,eAAT,uBAA+C6c,UA6D1Chb,EAAY,CACjB6Z,eACAh1B,OACAT,cACAstB,OAGKxR,EAAW,CAChB4Z,UArHiBzwB,IACjBie,EAAOje,EAAEuR,OAAO9Y,OAqHhBi4B,wBAzB+B1wB,IAC/BA,EAAEqN,iBACFikB,EAA+B5mB,EAAM3R,aAAcw4B,GACnDxmB,KAuBA4lB,uBArG8B3wB,IAAM,MAC5BI,EAAUJ,EAAEuR,OAAZnR,MACRmvB,EAAenvB,GACXA,EAAMZ,OAAS,GAAG5E,EAAO,UAAWwF,GAAO,IAmG/CwwB,2BAhGkC5wB,IAAM,MAChCuR,EAAWvR,EAAXuR,OAERigB,EAAoBjgB,EAAOnR,QA8F3B4W,aAtEoBhX,IACpBA,EAAEqN,iBAEF,IAAIukB,EAAO,GAE0B,IAAlCp2B,EAAK3B,SAASC,SAAS0F,QAEzBhE,EAAK3B,SAASC,SAASqE,QAAQ,CAACC,EAAS+mB,KAErCA,IAAM3pB,EAAK3B,SAASC,SAAS0F,OAAQ,EACvCoyB,GAAI,UAAOxzB,EAAP,MAGJwzB,GAAI,UAAOxzB,KAKd,IAAIF,EAAO,CAEV,qBAAqB,EACrB,IAAO1C,EAAK5B,IACZ,kBAAkB,EAClB,eAAgB4B,EAAKxC,YACrB,cAAe,uCACf,KAAQ44B,EACR,UAAa,GACb,eAAgB,GAChB,gBAAiBlnB,EAAM3R,aACvB,MAAS,EACT,YAAe,GACf,MAASyC,EAAKgO,MACd,eAAe,EACf,YAAehO,EAAKtC,aAIlBwR,EAAMP,oBAAqBvI,EAAmB1D,GAC5C8F,EAAc9F,GACnB6M,KAgCA8lB,iBA/GwB7wB,IACxByxB,EAAQ,eACJj2B,EADG,CAEN,CAACwE,EAAEuR,OAAO9Y,MAAOuH,EAAEuR,OAAOnR,UA6G3B0wB,iBA7FwB9wB,IACxB,MAAMhH,EAAcgH,EAAEuR,OAAO6U,QAAQ5kB,KACrCiwB,EAAQ,eACJj2B,EADG,CAENxC,kBA0FDmlB,WAxHkBne,IACF,KAAZA,EAAE6xB,QACL7xB,EAAEqN,iBACFqkB,EAAW1xB,EAAEuR,UAsHd3U,OA1BcoD,IACd,MAAM8xB,EAAa9xB,EAAEuR,OAAO6U,QAAQ+K,QACpCM,EAAQ,eACJj2B,EADG,CAEN3B,SAAU,CACTC,SAAU0B,EAAK1B,SAAS6J,OAAOwtB,GAAWA,IAAYW,QAsBxD/mB,eAGD,OAAO,kBAAC,GAAD,CAAe4L,UAAWA,EAAWE,SAAUA,MC1JvD,MA2DMgE,GAAqB,CAC1BjX,qBAAsBnD,EAAamD,qBACnCmH,YAAarB,EAAiBqB,YAC9B9D,uBAAwB/B,EAAkB+B,wBAG5B8N,mBAVS1S,IAAK,CAC5BtG,QAASsG,EAAMgB,WAAWZ,wBASaoY,GAAzB9F,CAjE+BpK,IAAU,MAGtDlP,EAIGkP,EAJHlP,WACAM,EAGG4O,EAHH5O,QACA6H,EAEG+G,EAFH/G,qBACAqD,EACG0D,EADH1D,uBANqD,EASpBqoB,oBAAS,GATW,mBAS/C7R,EAT+C,KASpCsU,EAToC,KAWtDrC,oBAAU,KACT9rB,EAAqBnI,EAAWlD,IAAI,IAClC,CAACkD,EAAYmI,IAwBhB,IAAI7H,EAAS,OAAO,KAEpB,MAAM4a,EAAY,CACjBlb,aACAM,QAAS8D,OAAO4H,KAAK1L,GAASG,IAAIyD,GAAO5D,EAAQ4D,IACjD8d,aAGK5G,EAAW,CAChBkH,cA/BqB/d,IACrBA,EAAEqN,iBACFpG,EAAuBxL,EAAWlD,GAAIkD,EAAWlC,UAAX,wBA8BtCyK,cA3BqB,KACrB2G,EAAMI,YAAY,CACjBb,UAAW8nB,GACXj5B,aAAc0C,EAAWlD,GACzB4R,qBAAqB,KAwBtB6T,QApBehe,IACfA,EAAEqN,iBACFpG,EAAuBxL,EAAWlD,GAAZ,YAmBtB0lB,OAhBcR,GAAawU,IAC3BF,EAAatU,KAkBd,OAAO,kBAAC,GAAD,CAAkB9G,UAAWA,EAAWE,SAAUA,M,uhBChEnD,MAAMzC,GAAUzH,IAAO0J,KAAV,MAmBPsG,GAAShQ,IAAOqB,OAAV,KAETrD,GAASA,EAAMulB,OAAN,SChBJ,MAAMgC,WAAyBhlB,gBAE7CK,SAAU,MAGR9U,EACGH,KAAKqS,MAAMgM,UADdle,KAHO,EAUJH,KAAKqS,MAAMkM,SAHd0D,EAPO,EAOPA,iBACAvD,EARO,EAQPA,aACAjM,EATO,EASPA,YAGD,OACC,kBAAC,GAAD,CAASkM,SAAUD,GAClB,qDACA,2BAAOxV,KAAI,OAAU/I,KAAI,OAAU2H,MAAO3H,EAAM8X,SAAUgK,EAAkB3D,YAAW,uBACvF,6BACC,kBAAC,GAAD,CAAQpV,KAAK,SAASkM,QAAS3C,GAA/B,UACA,kBAAC,GAAD,CAAQvJ,KAAK,SAAS0uB,MAAK,WAA3B,aCpBL,MAiDMrV,GAAqB,CAC1BlZ,sBAAuBlB,EAAaoD,iBACpCA,iBAAkBqB,EAAkBrB,iBACpCkH,YAAarB,EAAiBqB,aAGhBgK,mBAXS1S,IAAK,CAC5B4sB,OAAQ5sB,EAAM+J,UAAUtO,KAAKvF,GAC7B4R,oBAAqB9H,EAAMgK,eAAe3B,MAAMP,sBAST0Q,GAAzB9F,CAvDmBpK,IAAU,MAG1CskB,EAKGtkB,EALHskB,OACAttB,EAIGgJ,EAJHhJ,sBACAkC,EAGG8G,EAHH9G,iBACAsG,EAEGQ,EAFHR,oBACAY,EACGJ,EADHI,YAPyC,EAUlBukB,mBAAS,IAVS,mBAUnC72B,EAVmC,KAU7B05B,EAV6B,KA+BpCxb,EAAY,CACjBle,QAGKoe,EAAW,CAChB0D,iBAxBwBva,IACxBmyB,EAAQnyB,EAAEuR,OAAOnR,QAwBjB4W,aArBiB,uCAAG,WAAMhX,GAAN,eAAAhF,EAAA,sDACpBgF,EAAEqN,iBAEI+kB,EAAW,CAChB,WAAa,EACb,UAAY,EACZ,MAASnD,EACT,kBAAmBx2B,GAGjB0R,EAAqBxI,EAAsBywB,GACzCvuB,EAAiBuuB,GACtBrnB,IAZoB,2CAAH,sDAsBjBA,eAGD,OAAO,kBAAC,GAAD,CAAkB4L,UAAWA,EAAWE,SAAUA,MCrC1D,MAmFMgE,GAAqB,CAC1B9W,kBAAmBtD,EAAasD,kBAChCsG,gBAAiBX,EAAiBW,gBAClC5G,aAAchD,EAAagD,aAC3BsH,YAAarB,EAAiBqB,aAGhBgK,mBAbS1S,IAAK,CAC5BF,UAAWE,EAAMgB,WAAWlB,UAC5BlE,YAAaoE,EAAMgB,WAAWb,qBAC9B7H,MAAsC,IAA/B0H,EAAM+J,UAAUtO,KAAKnF,QAUWkiB,GAAzB9F,CA1FsBpK,IAAU,MAG7ChQ,EAOGgQ,EAPHhQ,MACAsD,EAMG0M,EANH1M,YACAkE,EAKGwI,EALHxI,UACA4B,EAIG4G,EAJH5G,kBACAsG,EAGGM,EAHHN,gBACA5G,EAEGkH,EAFHlH,aACAsH,EACGJ,EADHI,YAT4C,EAYPsnB,eAA9B3uB,EAZqC,EAYrCA,YAAa3K,EAZwB,EAYxBA,aAiBrB,GAfA22B,oBAAU,KACTrlB,GAAgB,GAEbyN,GAAc3V,KAChBsB,EAAaC,GAERzF,EAEAX,QAAQC,IAAIU,GADhB8F,EAAkBL,GAAa,IAG1B,KACN2G,GAAgB,KAEf,CAACpM,EAAakE,EAAWuB,EAAaK,EAAmBsG,EAAiB5G,KAEzEtB,GAAa2V,GAAc3V,KAAelE,EAAa,OAAO,KAElE,MAAMuE,EAAuBvE,EAAYhC,OAAO,CAACq2B,EAAa72B,IACzDA,EAAWgU,QAAU3L,SAAS3B,EAAU5J,IACpC,2BACH+5B,GADJ,IAEC,CAAC72B,EAAWlD,IAAKkD,IAGZ62B,EACL,IAEG5T,EAAY,CACjBnlB,UAAW,GACXulB,YAAa,GACb1X,SAAU,IAGXvH,OAAO4H,KAAKjF,GAAsBrE,QAAQ5F,IAAO,MAAD,EACTiK,EAAqBjK,GAAnD6O,EADuC,EACvCA,SAAU7N,EAD6B,EAC7BA,UAAWd,EADkB,EAClBA,KAEzB2O,EAAUsX,EAAUtX,SAAS/I,KAAK,CAAE9F,KAAIE,SACnCc,EAAWmlB,EAAUnlB,UAAU8E,KAAK,CAAE9F,KAAIE,SAC9CimB,EAAUI,YAAYzgB,KAAK,CAAE9F,KAAIE,WAGvC,MAOMke,EAAY,CACjBhc,QACAc,WAAY+G,EAAqBzJ,GACjC4F,KAAK,yBAAD,OAA2BwD,EAAU5J,IACzCmmB,YACA5gB,KAAMqE,GAGD0U,EAAW,CAChB8H,UAhBiB,KACjB5T,EAAY,CACXb,UAAWqoB,GACXpoB,qBAAqB,MAgBvB,OAAO,kBAAC,GAAD,CAASwM,UAAWA,EAAWE,SAAUA,MC9EjD,MA8BMgE,GAAqB,CAC1B7V,MAAOb,EAAYa,OAGL+P,mBAAQ,KAAM8F,GAAd9F,CAlCUpK,IAAU,MAGjC3F,EACG2F,EADH3F,MAHgC,EAMHsqB,oBAAS,GANN,mBAM1BzS,EAN0B,KAMjB2V,EANiB,KAiB3B7b,EAAY,CACjBkG,WAGKhG,EAAW,CAChBiG,cAdqB,KACrB0V,GAAY3V,IAcZE,YAXmB/c,IACnBA,EAAEqN,iBACFrI,MAYD,OAAO,kBAAC,GAAD,CAAS2R,UAAWA,EAAWE,SAAUA,MC3BjD,MAAM4b,WAAuBphB,YAsB5B9D,SACC,OAAO,MAYT,MAKMsN,GAAqB,CAC1B7V,MAAOb,EAAYa,OAGL+P,YATS,EAAG3I,YAAWC,qBAAd,CACvBvO,KAAMsO,EAAUtO,KAChB4E,QAAS0J,EAAU1J,UAOoBmY,GAAzB9F,CAA6C0d,ICtC5D,MA8FM5X,GAAqB,CAC1B1R,WAAYjB,EAAeiB,WAC3B4B,YAAarB,EAAiBqB,YAC9BpD,qBAAsBzC,EAAkByC,qBACxCV,uBAAwB/B,EAAkB+B,wBAG5B8N,mBAZS1S,IAAK,CAC5BtG,QAASsG,EAAM+G,aAAa9G,MAC5B3H,MAAO0H,EAAM+J,UAAUtO,KAAKnF,QAUWkiB,GAAzB9F,CArGmBpK,IAAU,MAG1ChQ,EAMGgQ,EANHhQ,MACAc,EAKGkP,EALHlP,WACAM,EAIG4O,EAJH5O,QACAoN,EAGGwB,EAHHxB,WACAxB,EAEGgD,EAFHhD,qBACAV,EACG0D,EADH1D,uBARyC,EAWRqoB,oBAAS,GAXD,mBAWnC7R,EAXmC,KAWxBsU,EAXwB,OAYoBzC,oBAAS,GAZ7B,mBAYnC1R,EAZmC,KAYV8U,EAZU,OAaEpD,mBAAS7zB,EAAWhD,MAbtB,mBAanCmP,EAbmC,KAanB+qB,EAbmB,KAe1CjD,oBAAU,KACT,MAAMxyB,EAAMzB,EAAWM,QAAQG,IAAIC,GAASA,EAAK5D,IACjD4Q,EAAWjM,GACXy1B,EAAkBl3B,EAAWhD,OAC3B,CAACgD,EAAWM,QAASN,EAAWhD,KAAMsD,EAASoN,IAuClD,GAAI2O,GAAc/b,IAAYN,EAAWM,QAAQyD,OAAQ,OAAO,KAGhE,MAAMozB,EAAen3B,EAAWM,QAAQG,IAAIC,GAAQJ,EAAQI,EAAK5D,KACjE,GAAIq6B,EAAapzB,OAAS,SACJhF,IAApBo4B,EAAa,SAA8Dp4B,IAA1Co4B,EAAaA,EAAapzB,OAAS,IACrE,OAAO,KAER,MAAMmX,EAAY,CACjBhc,QACAijB,0BACAniB,aACAmM,iBACA7L,QAASN,EAAWM,QAAQG,IAAIC,GAAQJ,EAAQI,EAAK5D,KACrDklB,aAGK5G,EAAW,CAChBgH,UA3BiB7d,IACjBA,EAAEqN,iBACFpG,EAAuBxL,EAAWlD,GAAZ,cA0BtBulB,WAxDkB9d,IAClB0yB,GAA4B9U,GACxBA,GACHjW,EAAqBlM,EAAWlD,GAAIqP,IAsDrC2S,iBAnDwBva,IAAM,MACtBI,EAAUJ,EAAEuR,OAAZnR,MACRuyB,EAAkBvyB,IAkDlB2d,cA/CqB/d,IACrBA,EAAEqN,iBACFpG,EAAuBxL,EAAWlD,GAAIkD,EAAWlC,UAAX,wBA8CtCyK,cA3CqB,KACrB2G,EAAMI,YAAY,CACjBb,UAAW8nB,GACXj5B,aAAc0C,EAAWlD,MAyC1BylB,QArCehe,IACfA,EAAEqN,iBACFpG,EAAuBxL,EAAWlD,GAAZ,YAoCtB0lB,OA5BcR,GAAawU,IAC3BF,EAAatU,KA8Bd,OAAO,kBAAC,GAAD,CAAkB9G,UAAWA,EAAWE,SAAUA,MCrF1D,MAkEMgE,GAAqB,CAC1BhU,eAAgB3B,EAAkB2B,eAClCwD,gBAAiBX,EAAiBW,gBAClCU,YAAarB,EAAiBqB,aAGhBgK,mBAXS1S,IAAK,CAC5BpE,YAAaoE,EAAMyE,gBAAgBxE,MACnC3H,MAAsC,IAA/B0H,EAAM+J,UAAUtO,KAAKnF,QASWkiB,GAAzB9F,CAxEUpK,IAAU,MAGjChQ,EAKGgQ,EALHhQ,MACAsD,EAIG0M,EAJH1M,YACA4I,EAGG8D,EAHH9D,eACAwD,EAEGM,EAFHN,gBACAU,EACGJ,EADHI,YAGK+c,EAASuK,eACTr6B,EAAW66B,eAcjB,GAZAnD,oBAAU,KACTrlB,GAAgB,GAChBxD,IAEG7O,EAAS6L,kBACXkH,EAAY,CACXb,UAAWqoB,GACXO,MAAM,aAGN,CAAC70B,EAAa4I,EAAgBwD,EAAiBrS,EAAS6L,iBAAkBkH,IAEzE+M,GAAc7Z,GAAc,OAAO,KAEvC,MAAMygB,EAAY,CACjBnlB,UAAW,GACXulB,YAAa,GACb1X,SAAU,IAGXvH,OAAO4H,KAAKxJ,GAAaE,QAAQ5F,IAAO,MAAD,EACA0F,EAAY1F,GAA1C6O,EAD8B,EAC9BA,SAAU7N,EADoB,EACpBA,UAAWd,EADS,EACTA,KAEzB2O,EAAUsX,EAAUtX,SAAS/I,KAAK,CAAE9F,KAAIE,SACnCc,EAAWmlB,EAAUnlB,UAAU8E,KAAK,CAAE9F,KAAIE,SAC9CimB,EAAUI,YAAYzgB,KAAK,CAAE9F,KAAIE,WAGvC,MAMMke,EAAY,CACjBhc,QACAc,WAAYwC,EAAY6pB,EAAOvvB,IAC/BoG,KAAK,UACL+f,aAGK7H,EAAW,CAChB8H,UAdiB,KACjB5T,EAAY,CACXb,UAAWqoB,OAeb,OAAO,kBAAC,GAAD,CAAS5b,UAAWA,EAAWE,SAAUA,MC7DjD,MA0CMgE,GAAqB,CAC1Bre,OAAQyP,EAAS9H,YAAY3H,OAC7BsO,WAAYmB,EAASvC,iBAAiBoB,YAGxBiK,mBAbS,EAAG3I,YAAWC,qBAAd,CACvBvO,KAAMsO,EAAUtO,KAChBgc,OAAiC,IAAzB1N,EAAUtO,KAAKnF,MACvBohB,QAAmC,IAA1B3N,EAAUtO,KAAKnF,MACxBo6B,UAAqC,IAA1B3mB,EAAUtO,KAAKnF,MAC1B8R,WAAY4B,EAAe5B,aAQYoQ,GAAzB9F,CA/COpK,IAAU,MAG9B7M,EAMG6M,EANH7M,KACAgc,EAKGnP,EALHmP,OACAC,EAIGpP,EAJHoP,QACAtP,EAGGE,EAHHF,WACAjO,EAEGmO,EAFHnO,OACAsO,EACGH,EADHG,WAGKsU,EAAY,uCAAG,WAAMpf,GAAN,SAAAhF,EAAA,6DACpBgF,EAAEqN,iBADkB,SAEd7Q,IAFc,2CAAH,sDAKlBc,QAAQC,IAAIO,GAEZ,MAAM6Y,EAAY,CACjB7Y,OACA4Z,SAAUF,GAAY1Z,EAAKrF,MAC3BgS,aACAqP,SACAC,WAGKlD,EAAW,CAChB/L,aACAsU,gBAGD,OAAO,kBAAC,GAAD,CAAMzI,UAAWA,EAAWE,SAAUA,MC9B9C,MAmCMgE,GAAqB,CAC1B1R,WAAYjB,EAAeiB,WAC3B3L,QAAS0K,EAAe1K,SAGVuX,mBAZS,EAAG3I,YAAWhD,mBAAd,CACvB0Q,OAAiC,IAAzB1N,EAAUtO,KAAKnF,MACvBohB,QAAkC,IAAzB3N,EAAUtO,KAAKnF,MACxBs2B,OAAQ7iB,EAAUtO,KAAKvF,GACvBwD,QAASqN,EAAa9G,QAQiBuY,GAAzB9F,CAxCSpK,IAAU,MAGhCskB,EAIGtkB,EAJHskB,OACAlzB,EAGG4O,EAHH5O,QACAoN,EAEGwB,EAFHxB,WACA3L,EACGmN,EADHnN,QAGKsqB,EAASuK,eACTlgB,EAAM6gB,iBAAO,MAEnBtD,oBAAU,KACTvmB,EAAW,CAAC2e,EAAOvvB,MACjB,CAAC4Q,EAAY2e,EAAOvvB,KAEnBuf,GAAc/b,IAAUyB,EAAQsqB,EAAOvvB,IAE3C,MAAMoe,EAAY,CACjBxE,MACA8c,SACAgE,QAASnL,EAAOvvB,GAChBwD,QAASA,EAAQ+rB,EAAOvvB,KAGzB,OAAO,kBAAC,GAAD,CAAQoe,UAAWA,MC1B3B,MA8BMkE,GAAqB,CAC1B/V,UAAWmH,EAAS9H,YAAYW,WAGlBiQ,mBAXS,EAAG3I,YAAWC,iBAAgBvF,kBAAiBsC,eAAcyC,oBAA7D,CACvB/N,KAAMsO,EAAUtO,KAChB4E,QAAS0J,EAAU1J,QACnBmC,MAAOuH,EAAUvH,MACjB6F,MAAO2B,EAAe3B,QAOiBmQ,GAAzB9F,CAlCOpK,IAAU,MAG9B7M,EAKG6M,EALH7M,KACA4E,EAIGiI,EAJHjI,QACAmC,EAGG8F,EAHH9F,MACA6F,EAEGC,EAFHD,MACA5F,EACG6F,EADH7F,UAGD4qB,oBAAU,KACJ5xB,GAAS+G,GAAOC,KACnB,CAACA,EAAWD,EAAO/G,IAEtB,MAAM6Y,EAAY,CACjB7Y,OACA4E,UACAgI,SAGD,OAAO,kBAAC,GAAD,CAAMiM,UAAWA,MCjBzB/B,IAASrH,OACR,kBAAC,IAAD,CAAUlL,MAAOA,GAChB,kBAAC,GAAD,OAEDrD,SAAS8V,eAAT,SxGyGI,kBAAmBoe,WACtBA,UAAUC,cAAcC,MAAM93B,KAAK+3B,IAClCA,EAAaC,gB,mByG3HhBC,EAAOC,QAAU,IAA0B,uC,mBCA3CD,EAAOC,QAAU,IAA0B,oC,mBCA3CD,EAAOC,QAAU,IAA0B,oC,mBCA3CD,EAAOC,QAAU,IAA0B,yC,mBCA3CD,EAAOC,QAAU,IAA0B,sC,mBCA3CD,EAAOC,QAAU,IAA0B,yC,mBCA3CD,EAAOC,QAAU,IAA0B,uC,mBCA3CD,EAAOC,QAAU,IAA0B,6C,mBCA3CD,EAAOC,QAAU,IAA0B,2C,mBCA3CD,EAAOC,QAAU,IAA0B,6C,mBCA3CD,EAAOC,QAAU,IAA0B,wC,mBCA3CD,EAAOC,QAAU,IAA0B,yC,mBCA3CD,EAAOC,QAAU,IAA0B,oC,mBCA3CD,EAAOC,QAAU,IAA0B,wC,mBCA3CD,EAAOC,QAAU,IAA0B,uC,mBCA3CD,EAAOC,QAAU,IAA0B,8C,mBCA3CD,EAAOC,QAAU,IAA0B,wC,mBCA3CD,EAAOC,QAAU,IAA0B,yC,mBCA3CD,EAAOC,QAAU,IAA0B,uC,mBCA3CD,EAAOC,QAAU,IAA0B,kC","file":"static/js/main.f87b287c.chunk.js","sourcesContent":["/* eslint-disable eqeqeq, no-mixed-operators */\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(window.location.hostname === `localhost` ||\n\t// [::1] is the IPv6 localhost address.\n\twindow.location.hostname === `[::1]` ||\n\t// 127.0.0.1/8 is considered localhost for IPv4.\n\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === `production` && `serviceWorker` in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn\n\t\t}\n\n\t\twindow.addEventListener(`load`, () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(`This web app is being served cache-first by a service ` +\n\t\t\t\t\t\t`worker. To learn more, visit http://bit.ly/CRA-PWA`)\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing\n\t\t\t\tif (installingWorker == null)\n\t\t\t\t\treturn\n\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === `installed`) {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(`New content is available and will be used when all ` +\n\t\t\t\t\t\t\t\t`tabs for this page are closed. See http://bit.ly/CRA-PWA.`)\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate)\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log(`Content is cached for offline use.`)\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess)\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error(`Error during service worker registration:`, error)\n\t\t})\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get(`content-type`)\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\tcontentType != null && contentType.indexOf(`javascript`) === -1\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload()\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(`No internet connection found. App is running in offline mode.`)\n\t\t})\n}\n\nexport function unregister() {\n\tif (`serviceWorker` in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister()\n\t\t})\n\t}\n}\n","export default class User {\n\n\tid\n\tusername\n\tname\n\temail\n\troles\n\tlastLogin\n\taccountName\n\n\tconstructor(obj) {\n\n\t\t// type checking\n\t\t// if (typeof obj.id !== `number`) console.error(`Error: id must be of type 'number'`)\n\t\t// if (typeof obj.username !== `string`) console.error(`Error: username must be of type 'string'`)\n\t\t// if (typeof obj.name !== `string`) console.error(`Error: name must be of type 'string'`)\n\t\t// if (typeof obj.email !== `string`) console.error(`Error: email must be of type 'string'`)\n\t\t// if (typeof obj.roles !== `number`) console.error(`Error: roles must be a number`)\n\t\t// if (typeof obj.lastLogin !== `string`) console.error(`Error: lastLogin must be of type 'string'`)\n\t\t// if (typeof obj.accountName !== `string`) console.error(`Error: lastLogin must be of type 'string'`)\n\n\t\tthis.id = obj['id']\n\t\tthis.username = obj['username']\n\t\tthis.name = obj['account-name']\n\t\tthis.email = obj['email']\n\t\tthis.roles = obj['account-type']\n\t\tthis.lastLogin = obj['last-login']\n\t}\n}\n","import Settings from './Settings'\n\nexport default class Content {\n\tauthKey = ``\n\tcollectionId = null\n\tcontentType = ``\n\tdateValidated = ``\n\tdescription = ``\n\texpired = false\n\tfullVideo = false\n\tid = null\n\tisCopyrighted = false\n\tname = ``\n\tphysicalCopyExists = false\n\tpublished = false\n\trequester = ``\n\tresourceId = ``\n\tthumbnail = ``\n\tviews = 0\n\turl = ``\n\tresource = {\n\t\tkeywords: [],\n\t}\n\n\tsettings = {\n\t\taspectRatio:`1.77`,\n\t\tcaptionTrack: [],\n\t\tshowTranscripts: false,\n\t\tshowWordList: false,\n\t\ttargetLanguages: [],\n\t\tshowCaptions: true,\n\t\tallowDefinitions: true,\n\t\tannotationDocument: [],\n\t}\n\n\t\n\n\tconstructor(obj){\n\n\t\tif(obj !== undefined){\n\t\t\tthis.id = obj['id']\n\t\t\tthis.views = obj['views']\n\t\t\tthis.collectionId = obj['collection-id']\n\t\t\tthis.url = obj['url']\n\t\t\tthis.contentType = obj['content-type']\n\t\t\tthis.thumbnail = obj['thumbnail']\n\t\t\tthis.description = obj['description']\n\t\t\tthis.resourceId = obj['resource-id']\n\t\t\tthis.resource.keywords = obj['tags'].split(\"; \")\n\t\t\tthis.name = obj['title']\n\n\n\t\t\tthis.settings = {\n\t\t\t\tallowDefinitions: obj['allow-definitions'],\n\t\t\t\tannotationDocument: obj['annotations'].split(\"; \"),\n\t\t\t\tshowCaptions: obj['allow-captions'],\n\t\t\t\ttargetLanguages: obj['file-version'].split(\"; \"),\n\t\t\t}\n\t\t}\n\n\t}\n}\n","import axios from 'axios'\nimport User from 'models/User'\nimport Content from 'models/Content'\n\nconst apiProxy = {\n\tadmin: {\n\t\tsearch: {\n\t\t\t/**\n\t\t\t * Retrieves an array of users, collections, or content depending on the category and search word\n\t\t\t */\n\t\t\tget: async (searchCategory, searchQuery) => await axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/admin/${searchCategory}/${searchQuery}`, { withCredentials: true, headers: {'session-id': window.clj_session_id}, }).then(res => res.data),\n\t\t},\n\t\tcollection: {\n\t\t\tget: async (id) => await axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/collection/${id}`, { withCredentials: true, headers: {'session-id': window.clj_session_id,} }).then(res => res.data),\n\t\t\t/**\n\t\t\t * Create a new collection\n\t\t\t *\n\t\t\t * @param name The name of the new collection\n\t\t\t * @param ownerId The id of the owner of the collection (null if owner is the user, defined if the owner is someone other than user)\n\t\t\t */\n\t\t\tcreate: async (name, ownerId) => axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/collection/create`, JSON.stringify({ name, ownerId }), {\n\t\t\t\twithCredentials: true ,\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t\t},\n\t\t\t}),\n\t\t\tcontent: {\n\t\t\t\t/**\n\t\t\t\t * Get content for collection\n\t\t\t\t *\n\t\t\t\t * @param id The id of a collection\n\t\t\t\t * @returns A map of { contentId: content } pairs for the collection\n\t\t\t\t */\n\t\t\t\tget: async (id) => {\n\t\t\t\t\tconst results = await axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/collection/${id}/content`, { withCredentials: true, headers: {'session-id': window.clj_session_id,} }).then(res => res.data)\n\n\t\t\t\t\treturn results.reduce((map, item) => {\n\t\t\t\t\t\tmap[item.id] = new Content(item)\n\t\t\t\t\t\treturn map\n\t\t\t\t\t}, {})\n\t\t\t\t},\n\t\t\t\t/**\n\t\t\t\t * Create content for collection\n\t\t\t\t *\n\t\t\t\t * @param data the content data\n\t\t\t\t * @param collectionId the collection id\n\t\t\t\t */\n\t\t\t\tpost: async (data, collectionId) => await axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/content/create/url?collectionId=${collectionId}&annotations=false`, JSON.stringify(data), {\n\t\t\t\t\twithCredentials: true,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\t/**\n\t\t\t\t * Create content from resource id\n\t\t\t\t *\n\t\t\t\t * @param collectionId the collection id\n\t\t\t\t * @param resourceId the resource id\n\t\t\t\t */\n\t\t\t\tcreateFromResource: async (collectionId, resourceId) => await axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/content/create/resource?collectionId=${collectionId}`, JSON.stringify({ resourceId }), {\n\t\t\t\t\twithCredentials: true,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t},\n\t\t},\n\n\t},\n\tauth: {\n\t\t/**\n\t\t * Sets the current URL to the OAuth2 BYU CAS Login page, then redirects back to the original URL\n\t\t */\n\t\tcas: () => {\n\t\t\twindow.location.href = `${process.env.REACT_APP_YVIDEO_SERVER}/auth/cas/redirect${window.location.href}`\n\t\t},\n\t\t/**\n\t\t * Sets the current URL to the OAuth2 BYU CAS Logout page, then redirects back to the original URL\n\t\t */\n\t\tlogout: () => {\n\t\t\twindow.location.href = `${process.env.REACT_APP_YVIDEO_SERVER}/auth/logout/redirect${window.location.href}`\n\t\t},\n\t},\n\tcollection: {\n\t\t/**\n\t\t * Create a new collection\n\t\t *\n\t\t * @param name The name of the new collection\n\t\t */\n\t\tcreate: async (obj) => axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/api/collection`, obj, {\n\t\t\twithCredentials: true ,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t},\n\t\t}),\n\t\t/**\n\t\t * Changes the name of a specified collection\n\t\t *\n\t\t * @param id The ID of the collection\n\t\t * @param name The new name of the collection\n\t\t */\n\t\tpost: async (id, name) => axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/collection/${id}`, { name }, { withCredentials: true, headers: {'session-id': window.clj_session_id,} }),\n\t\t/**\n\t\t * Publishes, Unpublishes, Archives, or Unarchives a collection\n\t\t *\n\t\t * @param id The ID of the collection\n\t\t * @param action The action to perform, must be one of `archive`, `unarchive`, `publish`, `unpublish`\n\t\t */\n\t\tedit: async (id, state) => axios.patch(`${process.env.REACT_APP_YVIDEO_SERVER}/api/collection/${id}`, state, { withCredentials: true, headers: {'session-id': window.clj_session_id,},}).then(res => res.data),\n\t\t/**\n\t\t * Removes a list of content ids from a collection\n\t\t *\n\t\t * @param id The ID of the collection\n\t\t * @param contentIds List of content ids\n\t\t */\n\t\tremove: async (id, contentIds) => axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/collection/${id}/removeContent`,\n\t\t\tJSON.stringify({ removeContent: contentIds}), {\n\t\t\t\twithCredentials: true,\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t\t},\n\t\t\t}),\n\t\tpermissions: {\n\t\t\t/**\n\t\t\t * Gets the current roles/permissions for the specified collection\n\t\t\t *\n\t\t\t * @param id the ID of the collection\n\t\t\t *\n\t\t\t * @returns a set of roles for a collection\n\t\t\t */\n\t\t\t//get: async id => axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/collection/${id}/permissions`, { withCredentials: true }),\n\t\t\tget: async id => axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/collections`, { withCredentials: true, headers: {'session-id': window.clj_session_id} }),\n\t\t\t/**\n\t\t\t * Edits a collections roles/permissions\n\t\t\t *\n\t\t\t * @param id the ID of the collection\n\t\t\t * @param endpoint which permissions endpoint you want to change, can be one of: ['linkCourses', 'addTA', 'addException', 'unlinkCourses', 'removeTA', 'removeException']\n\t\t\t * @param body contains the data which will overwrite the old data\n\t\t\t *\n\t\t\t * @returns nothing, idk\n\t\t\t */\n\t\t\tpost: async (id, endpoint, body) => axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/api/collection/${id}/${endpoint}`, JSON.stringify(body), {\n\t\t\t\twithCredentials: true,\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t\t},\n\t\t\t}),\n\t\t},\n\t},\n\tcontent: {\n\t\t/**\n\t\t * Retrieves content from a list of content IDs\n\t\t *\n\t\t * @param ids the set of IDs of content you wish to retrieve\n\t\t *\n\t\t * @returns a map of the content, where the key is the content's ID\n\t\t */\n\t\tget: async ids => {\n\n\t\t\tconst results = await Promise.all(ids.map(id => axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/content/${id}`,\n\t\t\t\t{\n\t\t\t\t\twithCredentials: true,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t\t\t},\n\t\t\t\t}).then(res => res.data)))\n\n\t\t\tconst returnMe = results.reduce((map, item) => {\n\t\t\t\titem = new Content(item)\n\t\t\t\tmap[item.id] = item\n\t\t\t\treturn map\n\t\t\t}, {})\n\t\t\tconsole.log(returnMe)\n\t\t\treturn returnMe\n\t\t},\n\t\t/**\n\t\t * Create content for collection\n\t\t *\n\t\t * @param data the content data\n\t\t * @param collectionId the collection id\n\t\t */\n\t\tpost: async (data, collectionId) => await axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/api/content`, data, {\n\t\t\twithCredentials: true,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t},\n\t\t}),\n\t\taddView: {\n\t\t\t/**\n\t\t\t * Increments number of views from a content ID\n\t\t\t *\n\t\t\t * @param id the ID of the content you wish to increment the number of views for\n\t\t\t */\n\t\t\tget: async id => axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/content/${id}/addview`, { withCredentials: true, headers: {'session-id': window.clj_session_id,} }),\n\t\t},\n\t\tmetadata: {\n\t\t\tpost: async (id, metadata) => axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/content/${id}/metadata`, JSON.stringify(metadata), {\n\t\t\t\twithCredentials: true,\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t\t},\n\t\t\t}),\n\t\t},\n\t\tsettings: {\n\t\t\tpost: async (id, settings) => axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/content/${id}/settings`, JSON.stringify(settings), {\n\t\t\t\twithCredentials: true,\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t\t},\n\t\t\t}),\n\t\t},\n\t},\n\tresources: {\n\t\t/**\n\t\t * Retrieves a single resource from a resource ID\n\t\t *\n\t\t * @param id the resource ID of the requested resource\n\t\t *\n\t\t * @returns a resource object\n\t\t */\n\t\tget: id => axios(`${process.env.REACT_APP_RESOURCE_LIB}/resources/${id}?${Date.now().toString(36)}`),\n\t},\n\tuser: {\n\t\t/**\n\t\t * Retrieves the currently logged-in user from the API\n\t\t *\n\t\t * @returns a User object\n\t\t */\n\t\tget: async () => {\n\t\t\ttry {\n\t\t\t\tif (window.clj_session_id === '{{ session-id }}') {\n\t\t\t\t\t//CALL TO GET SESSION ID FROM CLOJURE BACK END\n\t\t\t\t\tconst res = await axios.get(`${process.env.REACT_APP_YVIDEO_SERVER}/api/get-session-id/esdras/868a60ef-1bc3-440c-a4a8-70f4c89844ca`)\n\t\t\t\t\twindow.clj_session_id = res.data['session-id']\n\t\t\t\t}\n\t\t\t\t//CALL TO GET THE USER ONCE THE SESSION ID HAS BEEN SET\n\t\t\t\tconst url = `${process.env.REACT_APP_YVIDEO_SERVER}/api/user`\n\t\t\t\tconst result = await axios.get(url, {\n\t\t\t\t\twithCredentials: true,\n\t\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\treturn new User(result.data)\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error)\n\t\t\t}\n\t\t},\n\t\tcollections: {\n\t\t\t/**\n\t\t\t * Retrieves the collections for the current user\n\t\t\t *\n\t\t\t * @returns a map of the collections, where the key is the collection's ID\n\t\t\t */\n\t\t\tget: async () => {\n\n\t\t\t\t// const result = await axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/user/collections`, { withCredentials: true }).then(res => res.data)\n\t\t\t\tconst result = await axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/collections`, { withCredentials: true, headers: {'session-id': window.clj_session_id} }).then(res => res.data)\n\n\n\t\t\t\treturn result.reduce((map, item) => {\n\t\t\t\t\titem['name'] = item['collection-name']\n\n\t\t\t\t\tlet temp = []\n\t\t\t\t\titem['content'].forEach(element => {\n\t\t\t\t\t\ttemp.push(new Content(element))\n\t\t\t\t\t});\n\n\t\t\t\t\titem['content'] = temp\n\n\t\t\t\t\tdelete item['collection-name']\n\t\t\t\t\t//console.log(item)\n\t\t\t\t\tmap[item.id] = item\n\t\t\t\t\treturn map\n\t\t\t\t}, {})\n\t\t\t},\n\t\t},\n\t},\n}\n\nexport default apiProxy\n","const cookies = {\n\tset: (cookieName, cookieValue, maxDays, path = ``, domain = ``) => {\n\t\tconst date = new Date()\n\t\tdate.setTime(date.getTime() + maxDays * 24 * 60 * 60 * 1000)\n\t\tdocument.cookie = `${cookieName}=${cookieValue};path=${path};domain=${domain};expires=${date.toUTCString()}`\n\t},\n\n\tget: cookieName => {\n\t\tconst name = `${cookieName}=`\n\t\tconst decodedCookie = decodeURIComponent(document.cookie)\n\t\tconst ca = decodedCookie.split(`;`)\n\n\t\tca.forEach(c => {\n\t\t\twhile(c.charAt(0) === ` `)\n\t\t\t\tc = c.substring(1)\n\t\t\tif (c.indexOf(name) === 0)\n\t\t\t\treturn c.substring(name.length, c.length)\n\t\t})\n\n\t\treturn ``\n\t},\n\n\tgetAll: () => {\n\t\treturn document.cookie\n\t\t\t.split(`;`)\n\t\t\t.reduce((res, c) => {\n\t\t\t\tconst [key, val] = c.trim().split(`=`).map(decodeURIComponent)\n\t\t\t\ttry {\n\t\t\t\t\treturn Object.assign(res, { [key]: JSON.parse(val) })\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn Object.assign(res, { [key]: val })\n\t\t\t\t}\n\t\t\t}, {})\n\t},\n\n\tdelete: (cookieName, path, domain) => {\n\t\tif (this.get(cookieName))\n\t\t\tdocument.cookie = `${cookieName}=${path && `;path=${path}`}${domain && `;domain=${domain}`};expires=Thu, 01 Jan 1970 00:00:01 GMT`\n\t},\n}\n\nexport default cookies\n","class BrowserStorage {\n\n\tdisplayBlocksKey = `displayBlocks`\n\n\t/**\n\t * Sets the collection display type to either block or list\n\t *\n\t * @param type The type you want to set collectionDisplay to. Must be either `block` or `list`.\n\t */\n\tset displayBlocks(value) {\n\t\tlocalStorage.setItem(this.displayBlocksKey, value)\n\t}\n\n\t/**\n\t * Sets the collection display type to either block or list\n\t *\n\t * @returns either `block` or `list`\n\t */\n\tget displayBlocks() {\n\t\treturn localStorage.getItem(this.displayBlocksKey) === `true`\n\t}\n}\n\nconst browserStorage = new BrowserStorage()\n\nexport default browserStorage\n","import apiProxy from\n\t'./p/ApiProxy'\n// './p/test/ApiProxy'\n\nimport cookies from './p/Cookies'\nimport browserStorage from './p/BrowserStorage'\n\nexport {\n\tapiProxy,\n\tcookies,\n\tbrowserStorage,\n}\n\nconst proxies = {\n\tapiProxy,\n\tcookies,\n\tbrowserStorage,\n}\n\nexport default proxies\n","import AdminService from './s/admin.redux'\nimport AuthService from './s/auth.redux'\nimport CollectionService from './s/collections.redux'\nimport ContentService from './s/content.redux'\nimport InterfaceService from './s/interface.redux'\nimport ResourceService from './s/resources.redux'\n\nexport const adminService = new AdminService()\nexport const authService = new AuthService()\nexport const collectionService = new CollectionService()\nexport const contentService = new ContentService()\nexport const interfaceService = new InterfaceService()\nexport const resourceService = new ResourceService()\n\nconst services = {\n\tadminService,\n\tauthService,\n\tcollectionService,\n\tcontentService,\n\tinterfaceService,\n\tresourceService,\n}\n\nexport default services\n","import User from 'models/User'\n\nexport default class AdminService {\n\n\t// types\n\n\ttypes = {\n\t\tADMIN_START: `ADMIN_START`,\n\t\tADMIN_ABORT: `ADMIN_ABORT`,\n\t\tADMIN_CLEAN: `ADMIN_CLEAN`,\n\t\tADMIN_CREATE_COLLECTION: `ADMIN_CREATE_COLLECTION`,\n\t\tADMIN_CREATE_CONTENT: `ADMIN_CREATE_CONTENT`,\n\t\tADMIN_ERROR: `ADMIN_ERROR`,\n\t\tADMIN_GET_COLLECTION_CONTENT: `ADMIN_GET_COLLECTION_CONTENT`,\n\t\tADMIN_SEARCH: `ADMIN_SEARCH`,\n\t\tADMIN_SEARCH_PROFESSORS: `ADMIN_SEARCH_PROFESSORS`,\n\t\tADMIN_SET_PROFESSOR: `ADMIN_SET_PROFESSOR`,\n\t\tADMIN_SEARCH_COLLECTIONS: `ADMIN_SEARCH_COLLECTIONS`,\n\t}\n\n\t// action creators\n\n\tactions = {\n\t\tadminStart: () => ({ type: this.types.ADMIN_START }),\n\t\tadminAbort: () => ({ type: this.types.ADMIN_ABORT }),\n\t\tadminClean: () => ({ type: this.types.ADMIN_CLEAN }),\n\t\tadminCreateCollection: () => ({ type: this.types.ADMIN_CREATE_COLLECTION }),\n\t\tadminCreateContent: (content) => ({ type: this.types.ADMIN_CREATE_CONTENT, payload: { content } }),\n\t\tadminError: error => ({ type: this.types.ADMIN_ERROR, payload: { error } }),\n\t\tadminGetCollectionContent: content => ({ type: this.types.ADMIN_GET_COLLECTION_CONTENT, payload: { content }}),\n\t\tadminSearch: results => ({ type: this.types.ADMIN_SEARCH, payload: { results } }),\n\t\tadminSearchProfessors: results => ({ type: this.types.ADMIN_SEARCH_PROFESSORS, payload: { results }}),\n\t\tadminSetProfessor: professor => ({ type: this.types.ADMIN_SET_PROFESSOR, payload: { professor }}),\n\t\tadminSearchCollections: results => ({ type: this.types.ADMIN_SEARCH_COLLECTIONS, payload: { results }}),\n\t}\n\n\t// default store\n\n\tstore = {\n\t\tdata: null,\n\t\tcache: {},\n\t\tprofessors: [],\n\t\tprofessor: {},\n\t\tprofessorCollections: null,\n\t\tprofCollectionContent: null,\n\t\tloading: false,\n\t\tlastFetched: 0,\n\t\tlastFetchedProfContent: 0,\n\t\tlastFetchedProfessors: 0,\n\t\tlastFetchedCollections: 0,\n\t}\n\n\t// reducer\n\n\treducer = (store = this.store, action) => {\n\n\t\tconst {\n\t\t\tADMIN_START,\n\t\t\tADMIN_ABORT,\n\t\t\tADMIN_CLEAN,\n\t\t\tADMIN_CREATE_COLLECTION,\n\t\t\tADMIN_CREATE_CONTENT,\n\t\t\tADMIN_ERROR,\n\t\t\tADMIN_GET_COLLECTION_CONTENT,\n\t\t\tADMIN_SEARCH,\n\t\t\tADMIN_SEARCH_PROFESSORS,\n\t\t\tADMIN_SET_PROFESSOR,\n\t\t\tADMIN_SEARCH_COLLECTIONS,\n\t\t} = this.types\n\n\t\tswitch (action.type) {\n\n\t\tcase ADMIN_START:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: true,\n\t\t\t}\n\n\t\tcase ADMIN_ABORT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tdata: null,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase ADMIN_CLEAN:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tdata: null,\n\t\t\t\tcache: {},\n\t\t\t}\n\n\t\tcase ADMIN_CREATE_COLLECTION:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tprofessor: {},\n\t\t\t\tprofessorCollections: null,\n\t\t\t\tprofCollectionContent: null,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase ADMIN_CREATE_CONTENT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tprofCollectionContent: {\n\t\t\t\t\t...store.profCollectionContent,\n\t\t\t\t\t...action.payload.content,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase ADMIN_ERROR:\n\t\t\tconsole.error(action.payload.error)\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tdata: null,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase ADMIN_GET_COLLECTION_CONTENT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tprofCollectionContent: action.payload.content,\n\t\t\t\tlastFetchedProfContent: Date.now(),\n\t\t\t}\n\n\t\tcase ADMIN_SEARCH:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tdata: action.payload.results,\n\t\t\t\tcache: {\n\t\t\t\t\t...action.payload.results,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t\tlastFetched: Date.now(),\n\t\t\t}\n\n\t\tcase ADMIN_SEARCH_PROFESSORS:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tprofessors: action.payload.results,\n\t\t\t\tprofessor: {},\n\t\t\t\tprofessorCollections: null,\n\t\t\t\tprofCollectionContent: null,\n\t\t\t\tloading: false,\n\t\t\t\tlastFetchedProfessors: Date.now(),\n\t\t\t}\n\n\t\tcase ADMIN_SET_PROFESSOR:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tprofessor: action.payload.professor,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase ADMIN_SEARCH_COLLECTIONS:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tprofessors: [],\n\t\t\t\tprofessorCollections: action.payload.results,\n\t\t\t\tloading: false,\n\t\t\t\tlastFetchedCollections: Date.now(),\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn store\n\t\t}\n\t}\n\n\t// thunks\n\n\tsearch = (searchCategory, searchQuery, force = false) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tconst time = Date.now() - getState().adminStore.lastFetched\n\n\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\tif (stale || force) {\n\n\t\t\tdispatch(this.actions.adminStart())\n\n\t\t\ttry {\n\n\t\t\t\tconst results = await apiProxy.admin.search.get(searchCategory, searchQuery)\n\n\t\t\t\tdispatch(this.actions.adminSearch(results))\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error.message)\n\t\t\t\tdispatch(this.actions.adminError(error))\n\t\t\t}\n\n\t\t} else dispatch(this.actions.adminAbort())\n\t}\n\n\tsearchProfessors = (searchQuery, force = false) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tconst time = Date.now() - getState().adminStore.lastFetchedProfessors\n\n\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\tif (stale || force) {\n\n\t\t\tdispatch(this.actions.adminStart())\n\n\t\t\ttry {\n\n\t\t\t\tconst results = await apiProxy.admin.search.get(`user`, searchQuery)\n\t\t\t\t\n\t\t\t\tlet profArray = []\n\n\t\t\t\tresults.forEach(element => {\n\t\t\t\t\tprofArray.push(new User(element))\n\t\t\t\t});\n\n\t\t\t\t//console.log(profArray)\n\n\t\t\t\tdispatch(this.actions.adminSearchProfessors(profArray))\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error.message)\n\t\t\t\tdispatch(this.actions.adminError(error))\n\t\t\t}\n\n\t\t} else dispatch(this.actions.adminAbort())\n\t}\n\n\tsetProfessor = (professorId, force = false) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.adminStart())\n\n\t\ttry {\n\n\t\t\tconst results = await apiProxy.admin.search.get(`user`, professorId)\n\n\t\t\tconst professor = results.filter(user => user.id = professorId)[0] || {}\n\n\t\t\tdispatch(this.actions.adminSetProfessor(professor))\n\n\t\t} catch (error) {\n\t\t\tconsole.error(error.message)\n\t\t\tdispatch(this.actions.adminError(error))\n\t\t}\n\t}\n\n\tgetCollectionContent = (id, force = false) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tconst time = Date.now() - getState().adminStore.lastFetchedProfContent\n\n\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\tif (stale || force) {\n\n\t\t\tdispatch(this.actions.adminStart())\n\n\t\t\ttry {\n\n\t\t\t\tconst content = await apiProxy.admin.collection.content.get(id)\n\n\t\t\t\tdispatch(this.actions.adminGetCollectionContent(content))\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error.message)\n\t\t\t\tdispatch(this.actions.adminError(error))\n\t\t\t}\n\n\t\t} else dispatch(this.actions.adminAbort())\n\t}\n\n\tcreateCollection = (name) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.adminStart())\n\n\t\ttry {\n\n\t\t\tconst ownerId = getState().adminStore.professor.id\n\n\t\t\tawait apiProxy.admin.collection.create(name, parseInt(ownerId)) // maybe parseInt(ownerId) -> ownerId -Matthew\n\n\t\t\tdispatch(this.actions.adminCreateCollection())\n\n\t\t\tthis.searchCollections(ownerId)\n\n\t\t} catch (error) {\n\t\t\tconsole.log(error.message)\n\t\t\tdispatch(this.actions.adminError(error))\n\t\t}\n\t}\n\n\tcreateContent = (content, collectionId) => async (dispatch, { apiProxy }) => {\n\n\t\tdispatch(this.actions.adminStart())\n\n\t\ttry {\n\n\t\t\tconst result = await apiProxy.admin.collection.content.post(content, collectionId)\n\n\t\t\tconst data = { [result.data.id]: result.data }\n\n\t\t\tdispatch(this.actions.adminCreateContent(data))\n\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.adminError(error))\n\t\t}\n\t}\n\n\tcreateContentFromResource = (collectionId, resourceId) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.adminStart())\n\n\t\ttry {\n\n\t\t\tconsole.log(resourceId)\n\t\t\tconst result = await apiProxy.admin.collection.content.createFromResource(collectionId, resourceId)\n\n\t\t\tconsole.log(result.data)\n\n\t\t\t// const data = { [result.data.id]: result.data }\n\n\t\t\t// dispatch(this.actions.adminCreateContent(data))\n\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.adminError(error))\n\t\t}\n\t}\n\n\tsearchCollections = (searchQuery, force = false) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tconst time = Date.now() - getState().adminStore.lastFetchedCollections\n\n\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\tif (stale || force) {\n\n\t\t\tdispatch(this.actions.adminStart())\n\n\t\t\ttry {\n\n\t\t\t\tconst results = await apiProxy.admin.search.get(`collection`, searchQuery)\n\n\t\t\t\tdispatch(this.actions.adminSearchCollections(results))\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error.message)\n\t\t\t\tdispatch(this.actions.adminError(error))\n\t\t\t}\n\n\t\t} else dispatch(this.actions.adminAbort())\n\t}\n\n\tclean = () => async (dispatch) => {\n\t\tdispatch(this.actions.adminClean())\n\t}\n\n}\n","export default class AuthService {\n\n\t// types\n\n\ttypes = {\n\t\tAUTH_START: `AUTH_START`,\n\t\tAUTH_ABORT: `AUTH_ABORT`,\n\t\tAUTH_CLEAN: `AUTH_CLEAN`,\n\t\tAUTH_ERROR: `AUTH_ERROR`,\n\t\tAUTH_GET: `AUTH_GET`,\n\t}\n\n\t// action creators\n\n\tactions = {\n\t\tauthStart: () => ({ type: this.types.AUTH_START }),\n\t\tauthAbort: () => ({ type: this.types.AUTH_ABORT }),\n\t\tauthError: ({ message }) => ({\n\t\t\ttype: this.types.AUTH_ERROR,\n\t\t\tpayload: { message },\n\t\t}),\n\t\tauthGet: user => ({\n\t\t\ttype: this.types.AUTH_GET,\n\t\t\tpayload: { user },\n\t\t}),\n\t}\n\n\t// default store\n\n\tstore = {\n\t\tuser: null,\n\t\tloading: true,\n\t\tmessage: ``,\n\t\ttried: false,\n\t}\n\n\t// reducer\n\n\treducer = (store = this.store, { type, payload }) => {\n\t\tswitch (type) {\n\n\t\tcase this.types.AUTH_START:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: true,\n\t\t\t}\n\n\t\tcase this.types.AUTH_ERROR:\n\t\t\tconsole.error(payload.message)\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tuser: null,\n\t\t\t\tloading: false,\n\t\t\t\tmessage: payload.message,\n\t\t\t\ttried: true,\n\t\t\t}\n\n\t\tcase this.types.AUTH_ABORT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tuser: null,\n\t\t\t\tloading: false,\n\t\t\t\ttried: false,\n\t\t\t}\n\n\t\tcase this.types.AUTH_GET:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tuser: payload.user,\n\t\t\t\tloading: false,\n\t\t\t\ttried: true,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn store\n\t\t}\n\t}\n\n\t// thunks\n\n\t/**\n\t * Tries to get the current user from the API. If unsuccessful, we know the user isn't logged in.\n\t */\n\tcheckAuth = () => async (dispatch, _getState, { apiProxy }) => {\n\t\tdispatch(this.actions.authStart())\n\t\ttry {\n\t\t\tconst user = await apiProxy.user.get()\n\t\t\tdispatch(this.actions.authGet(user))\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.authError(error))\n\t\t}\n\t}\n\n\t/**\n\t * Redirects to the BYU CAS Login page\n\t */\n\tlogin = () => async (_dispatch, _getState, { apiProxy }) => {\n\t\tapiProxy.auth.cas()\n\t}\n\n\t/**\n\t * Redirects to the BYU CAS Logout page\n\t */\n\tlogout = () => async (_dispatch, _getState, { apiProxy }) => {\n\t\tapiProxy.auth.logout()\n\t}\n\n}\n","export default class CollectionService {\n\t// types\n\n\ttypes = {\n\t\tCOLLECTIONS_START: `COLLECTIONS_START`,\n\t\tCOLLECTIONS_ABORT: `COLLECTIONS_ABORT`,\n\t\tCOLLECTIONS_CLEAN: `COLLECTIONS_CLEAN`,\n\t\tCOLLECTIONS_ERROR: `COLLECTIONS_ERROR`,\n\t\tCOLLECTIONS_GET: `COLLECTIONS_GET`,\n\t\tCOLLECTIONS_REMOVE_CONTENT: `COLLECTION_REMOVE_CONTENT`,\n\t\tCOLLECTION_CREATE: `COLLECTION_CREATE`,\n\t\tCOLLECTION_EDIT: `COLLECTION_EDIT`,\n\t\tCOLLECTION_ROLES_GET: `COLLECTION_ROLES_GET`,\n\t\tCOLLECTION_ROLES_UPDATE: `COLLECTION_ROLES_UPDATE`,\n\t}\n\n\troleEndpoints = {\n\t\taddCourse: `add-course`,\n\t\taddTA: `add-user`,\n\t\taddException: `add-user`,\n\t\tremoveCourse: `remove-course`,\n\t\tremoveUser: `remove-user`,\n\t}\n\n\t// action creators\n\n\tactions = {\n\t\tcollectionsStart: () => ({ type: this.types.COLLECTIONS_START }),\n\t\tcollectionsAbort: () => ({ type: this.types.COLLECTIONS_ABORT }),\n\t\tcollectionsClean: () => ({ type: this.types.COLLECTIONS_CLEAN }),\n\t\tcollectionsError: error => ({ type: this.types.COLLECTIONS_ERROR, payload: { error } }),\n\t\tcollectionsGet: collections => ({ type: this.types.COLLECTIONS_GET, payload: { collections } }),\n\t\tcollectionsRemoveContent: () => ({ type: this.types.COLLECTIONS_REMOVE_CONTENT }),\n\t\tcollectionCreate: collection => ({ type: this.types.COLLECTION_CREATE, payload: { collection }}),\n\t\tcollectionEdit: collection => ({ type: this.types.COLLECTION_EDIT, payload: { collection }}),\n\t\tcollectionRolesGet: data => ({ type: this.types.COLLECTION_ROLES_GET, payload: { ...data }}),\n\t\tcollectionRolesUpdate: data => ({ type: this.types.COLLECTION_ROLES_UPDATE, payload: { ...data }}),\n\t}\n\n\t// default store\n\n\tstore = {\n\t\troles: {},\n\t\tcache: {},\n\t\tloading: false,\n\t\tlastFetched: 0,\n\t}\n\n\t// reducer\n\n\treducer = (store = this.store, action) => {\n\n\t\tconst {\n\t\t\tCOLLECTIONS_START,\n\t\t\tCOLLECTIONS_ABORT,\n\t\t\tCOLLECTIONS_CLEAN,\n\t\t\tCOLLECTIONS_ERROR,\n\t\t\tCOLLECTIONS_GET,\n\t\t\tCOLLECTIONS_REMOVE_CONTENT,\n\t\t\tCOLLECTION_CREATE,\n\t\t\tCOLLECTION_EDIT,\n\t\t\tCOLLECTION_ROLES_GET,\n\t\t\tCOLLECTION_ROLES_UPDATE,\n\t\t} = this.types\n\n\t\tswitch (action.type) {\n\n\t\tcase COLLECTIONS_START:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: true,\n\t\t\t}\n\n\t\tcase COLLECTIONS_ABORT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase COLLECTIONS_CLEAN:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {},\n\t\t\t}\n\n\t\tcase COLLECTION_CREATE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase COLLECTIONS_ERROR:\n\t\t\tconsole.error(action.payload.error)\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase COLLECTIONS_GET:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...store.cache,\n\t\t\t\t\t...action.payload.collections,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t\tlastFetched: Date.now(),\n\t\t\t}\n\n\t\tcase COLLECTIONS_REMOVE_CONTENT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase COLLECTION_EDIT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...store.cache,\n\t\t\t\t\t[action.payload.collection.id]: action.payload.collection,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase COLLECTION_ROLES_GET:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\troles: {\n\t\t\t\t\t...store.roles,\n\t\t\t\t\t...action.payload,\n\t\t\t\t},\n\t\t\t}\n\n\t\tcase COLLECTION_ROLES_UPDATE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\troles: {\n\t\t\t\t\t...store.roles,\n\t\t\t\t\t...action.payload,\n\t\t\t\t},\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn store\n\t\t}\n\t}\n\n\t// thunks\n\n\tgetCollections = (force = false) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tconst time = Date.now() - getState().collectionStore.lastFetched\n\n\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\tif (stale || force) {\n\n\t\t\tdispatch(this.actions.collectionsStart())\n\n\t\t\ttry {\n\n\t\t\t\tconst result = await apiProxy.user.collections.get()\n\n\t\t\t\tdispatch(this.actions.collectionsGet(result))\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error.message)\n\t\t\t\tdispatch(this.actions.collectionsError(error))\n\t\t\t}\n\n\t\t} else dispatch(this.actions.collectionsAbort())\n\t}\n\n\tremoveCollectionContent = (id, contentId) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.collectionsStart())\n\n\t\ttry {\n\n\t\t\tconst result = await apiProxy.collection.remove(id, [contentId.toString()])\n\t\t\tconsole.log(result)\n\n\t\t\t// TODO: Remove content from cache so that rerendering happens\n\t\t\t// You also have to be an admin to do this, I'm pretty sure\n\t\t\t// dispatch(this.actions.collectionsRemoveContent(contentId))\n\n\t\t} catch (error) {\n\t\t\tconsole.log(error)\n\t\t\tdispatch(this.actions.collectionsError(error))\n\t\t}\n\t}\n\n\tcreateCollection = (name) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.collectionsStart())\n\n\t\ttry {\n\n\t\t\tawait apiProxy.collection.create(name)\n\n\t\t\t// const results = await apiProxy.user.collections.get()\n\n\t\t\t// TODO: We need to update state\n\t\t\tdispatch(this.actions.collectionCreate())\n\n\t\t} catch (error) {\n\t\t\tconsole.log(error.message)\n\t\t\tdispatch(this.actions.collectionsError(error))\n\t\t}\n\n\t}\n\n\tupdateCollectionStatus = (id, action) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.collectionsStart())\n\n\t\tconst currentState = getState().collectionStore.cache[id]\n\n\t\tlet abort = false\n\t\t\n\n\t\tswitch (action) {\n\t\tcase `publish`:\n\t\t\tcurrentState.published = true\n\n\t\t\tbreak\n\n\t\tcase `unpublish`:\n\t\t\tcurrentState.published = false\n\t\t\tbreak\n\n\t\tcase `archive`:\n\t\t\tcurrentState.archived = true\n\t\t\tbreak\n\n\t\tcase `unarchive`:\n\t\t\tcurrentState.published = false\n\t\t\tcurrentState.archived = false\n\t\t\tbreak\n\n\t\tdefault:\n\t\t\tabort = true\n\t\t\tbreak\n\t\t}\n\n\t\tlet finalState = {\n\t\t\tpublished: currentState.published,\n\t\t\tarchived: currentState.archived\n\t\t}\n\n\t\tconsole.log('finalState: ', finalState)\n\n\t\tif (abort) dispatch(this.actions.collectionsAbort())\n\t\telse {\n\t\t\ttry {\n\t\t\t\tawait apiProxy.collection.edit(id, finalState)\n\t\t\t\tdispatch(this.actions.collectionEdit(currentState))\n\t\t\t} catch (error) {\n\t\t\t\tdispatch(this.actions.collectionsError(error))\n\t\t\t}\n\t\t}\n\t}\n\n\tgetCollectionRoles = (collectionId, force = false) => {\n\t\treturn async (dispatch, getState, { apiProxy }) => {\n\n\t\t\tconst store = getState().collectionStore\n\n\t\t\tconst time = Date.now() - store.lastFetched\n\n\t\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\t\tconst { roles } = store\n\t\t\tconst cached = Object.keys(roles).includes(collectionId)\n\n\t\t\tif (stale || !cached || force) {\n\n\t\t\t\tdispatch(this.actions.collectionsStart())\n\n\t\t\t\ttry {\n\n\t\t\t\t\tconst { data = {} } = await apiProxy.collection.permissions.get(collectionId)\n\t\t\t\t\tdispatch(this.actions.collectionRolesGet({ [collectionId]: data }))\n\n\t\t\t\t} catch (error) {\n\t\t\t\t\tdispatch(this.actions.collectionsError(error))\n\t\t\t\t}\n\n\t\t\t} else dispatch(this.actions.collectionsAbort())\n\t\t}\n\t}\n\n\tupdateCollectionName = (collectionId, collectionName) => {\n\t\treturn async (dispatch, getState, { apiProxy }) => {\n\t\t\tdispatch(this.actions.collectionsStart())\n\n\t\t\tconst currentState = getState().collectionStore.cache[collectionId]\n\n\t\t\ttry {\n\n\t\t\t\tcurrentState.name = collectionName\n\n\t\t\t\tawait apiProxy.collection.post(collectionId, collectionName)\n\n\t\t\t\tdispatch(this.actions.collectionEdit(currentState))\n\n\t\t\t} catch (error) {\n\t\t\t\tdispatch(this.actions.collectionsError(error))\n\t\t\t}\n\t\t}\n\t};\n\n\tupdateCollectionRoles = (collectionId, endpoint, body) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.collectionsStart())\n\n\t\ttry {\n\t\t\tconst { data = {} } = await apiProxy.collection.permissions.post(collectionId, endpoint, body)\n\n\t\t\tconst newRoles = getState().collectionStore.roles[collectionId]\n\n\t\t\tswitch (endpoint) {\n\t\t\tcase this.roleEndpoints.addCourse:\n\t\t\t\tnewRoles.courses = [...newRoles.courses, data[0]]\n\t\t\t\tbreak\n\t\t\tcase this.roleEndpoints.removeCourse:\n\t\t\t\tnewRoles.courses = newRoles.courses.filter(item => item.id !== body[0].id)\n\t\t\t\tbreak\n\t\t\tcase this.roleEndpoints.addTA:\n\t\t\t\tnewRoles.admins = [...newRoles.admins, data]\n\t\t\t\tnewRoles.exceptions = [...newRoles.exceptions, data]\n\t\t\t\tbreak\n\t\t\t\n\t\t\tcase this.roleEndpoints.addException:\n\t\t\t\tnewRoles.exceptions = [...newRoles.exceptions, data]\n\t\t\t\tbreak\n\t\t\tcase this.roleEndpoints.removeUser:\n\t\t\t\tnewRoles.admins = newRoles.admins.filter(item => item.username !== body)\n\t\t\t\tnewRoles.exceptions = newRoles.exceptions.filter(item => item.username !== body)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tdispatch(this.actions.collectionRolesUpdate({ [collectionId]: newRoles }))\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.collectionsError(error))\n\t\t}\n\n\t}\n}","export default class ContentService {\n\n\t// types\n\n\ttypes = {\n\t\tCONTENT_START: `CONTENT_START`,\n\t\tCONTENT_ABORT: `CONTENT_ABORT`,\n\t\tCONTENT_CLEAN: `CONTENT_CLEAN`,\n\t\tCONTENT_CREATE: `CONTENT_CREATE`,\n\t\tCONTENT_ERROR: `CONTENT_ERROR`,\n\t\tCONTENT_GET: `CONTENT_GET`,\n\t\tCONTENT_ADD_VIEW: `CONTENT_ADD_VIEW`,\n\t\tCONTENT_UPDATE: `CONTENT_UPDATE`,\n\t}\n\n\t// action creators\n\n\tactions = {\n\t\tcontentStart: () => ({ type: this.types.CONTENT_START }),\n\t\tcontentAbort: () => ({ type: this.types.CONTENT_ABORT }),\n\t\tcontentClean: () => ({ type: this.types.CONTENT_CLEAN }),\n\t\tcontentCreate: (content) => ({ type: this.types.CONTENT_CREATE, payload: { content }}),\n\t\tcontentError: error => ({ type: this.types.CONTENT_ERROR, payload: { error } }),\n\t\tcontentGet: content => ({ type: this.types.CONTENT_GET, payload: { content } }),\n\t\tcontentAddView: id => ({ type: this.types.CONTENT_ADD_VIEW, payload: { id } }),\n\t\tcontentUpdate: content => ({ type: this.types.CONTENT_UPDATE, payload: { content }}),\n\t}\n\n\t// default store\n\n\tstore = {\n\t\tcache: {},\n\t\tloading: false,\n\t\tlastFetched: 0,\n\t}\n\n\t// reducer\n\n\treducer = (store = this.store, action) => {\n\n\t\tconst {\n\t\t\tCONTENT_START,\n\t\t\tCONTENT_ABORT,\n\t\t\tCONTENT_CLEAN,\n\t\t\tCONTENT_CREATE,\n\t\t\tCONTENT_ERROR,\n\t\t\tCONTENT_GET,\n\t\t\tCONTENT_ADD_VIEW,\n\t\t\tCONTENT_UPDATE,\n\t\t} = this.types\n\n\t\tswitch (action.type) {\n\n\t\tcase CONTENT_START:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: true,\n\t\t\t}\n\n\t\tcase CONTENT_ABORT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase CONTENT_CLEAN:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {},\n\t\t\t}\n\n\t\tcase CONTENT_CREATE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...store.cache,\n\t\t\t\t\t...action.payload.content,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase CONTENT_ERROR:\n\t\t\tconsole.error(action.payload.error)\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase CONTENT_GET:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...store.cache,\n\t\t\t\t\t...action.payload.content,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t\tlastFetched: Date.now(),\n\t\t\t}\n\n\t\tcase CONTENT_UPDATE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...store.cache,\n\t\t\t\t\t[action.payload.content.id]: action.payload.content,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase CONTENT_ADD_VIEW:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t[action.payload.id]: {\n\t\t\t\t\t\t...store.cache[action.payload.id],\n\t\t\t\t\t\tviews: store.cache[action.payload.id].views + 1,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn store\n\t\t}\n\t}\n\n\t// thunks\n\n\tgetContent = (contentIds = [], force = false) => async (dispatch, getState, { apiProxy }) => {\n\t\tconsole.log(contentIds)\n\n\t\tconst time = Date.now() - getState().contentStore.lastFetched\n\n\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\tconst { cache } = getState().contentStore\n\t\tconst cachedIds = Object.keys(cache).map(id => (id))\n\t\tconst notCached = contentIds.filter(id => !cachedIds.includes(id))\n\n\t\tif (stale || notCached.length || force) {\n\n\t\t\tdispatch(this.actions.contentStart())\n\n\t\t\ttry {\n\n\t\t\t\tconst result = await apiProxy.content.get(notCached)\n\n\t\t\t\tdispatch(this.actions.contentGet(result))\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error.message)\n\t\t\t\tdispatch(this.actions.contentError(error))\n\t\t\t}\n\n\t\t} else dispatch(this.actions.contentAbort())\n\t}\n\n\taddView = (id, force = false) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tconst time = Date.now() - getState().contentStore.lastFetched\n\n\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\tif (stale || force) {\n\n\t\t\tdispatch(this.actions.contentStart())\n\n\t\t\ttry {\n\n\t\t\t\tawait apiProxy.content.addView.get(id)\n\n\t\t\t\t// TODO: This isn't a real function\n\t\t\t\tdispatch(this.actions.addView(id))\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error.message)\n\t\t\t\tdispatch(this.actions.contentError(error))\n\t\t\t}\n\n\t\t} else dispatch(this.actions.contentAbort())\n\t}\n\n\tcreateContent = (content, collectionId) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.contentStart())\n\n\t\ttry {\n\n\t\t\tconst result = await apiProxy.content.post(content, collectionId)\n\n\t\t\tconst data = { [result.data.id]: result.data }\n\n\t\t\t// TODO: Why doesn't this update to state cause it to rerender?\n\t\t\tdispatch(this.actions.contentCreate(data))\n\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.contentError(error))\n\t\t}\n\t}\n\n\tupdateContent = content => async (dispatch, _getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.contentStart())\n\n\t\ttry {\n\n\t\t\tconst { id, published } = content\n\n\t\t\tconst {\n\t\t\t\ttitle,\n\t\t\t\tdescription,\n\t\t\t\tkeywords,\n\t\t\t} = content.resource\n\n\t\t\tconst {\n\t\t\t\tcaptionTrack,\n\t\t\t\tannotationDocument,\n\t\t\t\ttargetLanguages,\n\t\t\t\taspectRatio,\n\t\t\t\tshowCaptions,\n\t\t\t\tshowAnnotations,\n\t\t\t\tallowDefinitions,\n\t\t\t\tshowTranscripts,\n\t\t\t\tshowWordList,\n\t\t\t} = content.settings\n\n\t\t\tconst settings = {\n\t\t\t\tcaptionTrack,\n\t\t\t\tannotationDocument,\n\t\t\t\ttargetLanguages,\n\t\t\t\taspectRatio,\n\t\t\t\tshowCaptions,\n\t\t\t\tshowAnnotations,\n\t\t\t\tallowDefinitions,\n\t\t\t\tshowTranscripts,\n\t\t\t\tshowWordList,\n\t\t\t}\n\n\t\t\tconst metadata = {\n\t\t\t\ttitle,\n\t\t\t\tdescription,\n\t\t\t\tkeywords,\n\t\t\t\tpublished,\n\t\t\t}\n\n\t\t\t// const settingsResult =\n\t\t\tawait apiProxy.content.settings.post(id, settings)\n\n\t\t\t// const metaResult =\n\t\t\tawait apiProxy.content.metadata.post(id, metadata)\n\n\t\t\t// console.log(settingsResult)\n\t\t\t// console.log(metaResult)\n\n\t\t\tdispatch(this.actions.contentUpdate(content))\n\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.contentError(error))\n\t\t}\n\t}\n\n\taddView = (id, force = false) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tconst time = Date.now() - getState().contentStore.lastFetched\n\n\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\tif (stale || force) {\n\n\t\t\tdispatch(this.actions.contentStart())\n\n\t\t\ttry {\n\n\t\t\t\tawait apiProxy.content.addView.get(id)\n\n\t\t\t\tdispatch(this.actions.contentAddView(id))\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error.message)\n\t\t\t\tdispatch(this.actions.contentError(error))\n\t\t\t}\n\n\t\t} else dispatch(this.actions.contentAbort())\n\t}\n\n}","import { browserStorage } from 'proxy'\n\nexport default class InterfaceService {\n\n\t// types\n\n\ttypes = {\n\t\tMENU_TOGGLE: `MENU_TOGGLE`,\n\t\tMODAL_TOGGLE: `MODAL_TOGGLE`,\n\t\tCOLLECTIONS_DISPLAY_TOGGLE: `COLLECTIONS_DISPLAY_TOGGLE`,\n\t\tSET_HEADER_BORDER: `SET_HEADER_BORDER`,\n\t\tSET_LOST: `SET_LOST`,\n\t}\n\n\t// action creators\n\n\tactions = {\n\t\tmenuToggle: () => ({ type: this.types.MENU_TOGGLE }),\n\t\tmodalToggle: (payload = { component: null, collectionId: -1, isLabAssistantRoute:false }) => ({ type: this.types.MODAL_TOGGLE, payload }),\n\t\tcollectionsDisplayToggle: () => ({ type: this.types.COLLECTIONS_DISPLAY_TOGGLE }),\n\t\tsetHeaderBorder: active => ({ type: this.types.SET_HEADER_BORDER, payload: { active }}),\n\t\tsetLost: lost => ({ type: this.types.SET_LOST, payload: { lost }}),\n\t}\n\n\t// default store\n\n\tstore = {\n\t\tmenuActive: false,\n\t\tmodal: {\n\t\t\tactive: false,\n\t\t\tcomponent: null,\n\t\t\tcollectionId: -1,\n\t\t\tisLabAssistantRoute: false,\n\t\t\tprops: {},\n\t\t},\n\t\tdisplayBlocks: browserStorage.displayBlocks,\n\t\theaderBorder: false,\n\t\tlost: false,\n\t}\n\n\t// reducer\n\n\treducer = (store = this.store, action) => {\n\t\tswitch (action.type) {\n\n\t\tcase this.types.MENU_TOGGLE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tmenuActive: !store.menuActive,\n\t\t\t}\n\n\t\tcase this.types.MODAL_TOGGLE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tmodal: {\n\t\t\t\t\t...store.modal,\n\t\t\t\t\tactive: !store.modal.active,\n\t\t\t\t\tcomponent: action.payload.component,\n\t\t\t\t\tcollectionId: action.payload.collectionId,\n\t\t\t\t\tisLabAssistantRoute: action.payload.isLabAssistantRoute,\n\t\t\t\t\tprops: action.payload.props,\n\t\t\t\t},\n\t\t\t}\n\n\t\tcase this.types.COLLECTIONS_DISPLAY_TOGGLE:\n\t\t\tbrowserStorage.displayBlocks = !store.displayBlocks\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tdisplayBlocks: !store.displayBlocks,\n\t\t\t}\n\n\t\tcase this.types.SET_HEADER_BORDER:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\theaderBorder: action.payload.active,\n\t\t\t}\n\n\t\tcase this.types.SET_LOST:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tlost: action.payload.lost,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn store\n\t\t}\n\t}\n\n\t// thunks\n\n\t/**\n\t * Toggles the side menu\n\t */\n\ttoggleMenu = () => async dispatch => {\n\t\tdispatch(this.actions.menuToggle())\n\t}\n\n\t/**\n\t * Toggles the Modal\n\t *\n\t * @param modal an object representing the modal you want to display. Takes the following properties: `component` (the component to display) and `id` (the id of the collection)\n\t */\n\ttoggleModal = modal => async dispatch => {\n\t\tdispatch(this.actions.modalToggle(modal))\n\t}\n\n\ttoggleCollectionsDisplay = () => async dispatch => {\n\t\tdispatch(this.actions.collectionsDisplayToggle())\n\t}\n\n\tsetHeaderBorder = active => async dispatch => {\n\t\tdispatch(this.actions.setHeaderBorder(active))\n\t}\n\n\tsetLost = lost => async dispatch => {\n\t\tdispatch(this.actions.setLost(lost))\n\t}\n}\n","export default class ResourceService {\n\n\t// types\n\n\ttypes = {\n\t\tRESOURCE_START: `RESOURCE_START`,\n\t\tRESOURCE_ABORT: `RESOURCE_ABORT`,\n\t\tRESOURCE_CLEAN: `RESOURCE_CLEAN`,\n\t\tRESOURCE_ERROR: `RESOURCE_ERROR`,\n\t\tRESOURCE_GET: `RESOURCE_GET`,\n\t}\n\n\t// action creators\n\n\tactions = {\n\t\tresourcesStart: () => ({ type: this.types.RESOURCE_START }),\n\t\tresourcesAbort: () => ({ type: this.types.RESOURCE_ABORT }),\n\t\tresourcesClean: () => ({ type: this.types.RESOURCE_CLEAN }),\n\t\tresourcesError: error => ({ type: this.types.RESOURCE_ERROR, payload: { error } }),\n\t\tresourcesGet: resource => ({ type: this.types.RESOURCE_GET, payload: { resource } }),\n\t}\n\n\t// default store\n\n\tstore = {\n\t\tcache: {},\n\t\tloading: false,\n\t\tlastFetched: 0,\n\t}\n\n\t// reducer\n\n\treducer = (store = this.store, action) => {\n\n\t\tconst {\n\t\t\tRESOURCE_START,\n\t\t\tRESOURCE_ABORT,\n\t\t\tRESOURCE_CLEAN,\n\t\t\tRESOURCE_ERROR,\n\t\t\tRESOURCE_GET,\n\t\t} = this.types\n\n\t\tswitch (action.type) {\n\n\t\tcase RESOURCE_START:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: true,\n\t\t\t}\n\n\t\tcase RESOURCE_ABORT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase RESOURCE_CLEAN:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {},\n\t\t\t}\n\n\t\tcase RESOURCE_ERROR:\n\t\t\tconsole.error(action.payload.error)\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase RESOURCE_GET:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...store.cache,\n\t\t\t\t\t[action.payload.resource.id]: action.payload.resource,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t\tlastFetched: Date.now(),\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn store\n\t\t}\n\t}\n\n\t// thunks\n\n\tgetResources = (id, force = false) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tconst { resourceStore } = getState()\n\n\t\tconst time = Date.now() - resourceStore.lastFetched\n\n\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\tconst { cache } = getState().resourceStore\n\t\tconst cachedIds = Object.keys(cache)\n\t\tconst cached = cachedIds.includes(id)\n\n\t\tif (stale || !cached || force) {\n\n\t\t\tdispatch(this.actions.resourcesStart())\n\n\t\t\ttry {\n\n\t\t\t\tconst result = await apiProxy.resources.get(id)\n\n\t\t\t\tconst { resource } = result.data\n\t\t\t\tresource.resources = {}\n\t\t\t\tresource.relations.forEach(item => resource.resources[item.type] = [])\n\n\t\t\t\tPromise.all(resource.relations.map(async item => {\n\t\t\t\t\tconst result = await apiProxy.resources.get(item.subjectId)\n\t\t\t\t\tresource.resources[item.type].push(result.data.resource)\n\t\t\t\t}))\n\n\t\t\t\tif (typeof resource.keywords === `string`) resource.keywords = resource.keywords.split(`,`)\n\n\t\t\t\tdispatch(this.actions.resourcesGet(resource))\n\n\t\t\t} catch (error) {\n\t\t\t\tdispatch(this.actions.resourcesError(error))\n\t\t\t}\n\n\t\t} else dispatch(this.actions.resourcesAbort())\n\t}\n\n\taddResource = resource => async dispatch => {\n\t\tdispatch(this.actions.resourcesGet(resource))\n\t}\n}","import { applyMiddleware, combineReducers, createStore } from 'redux'\n\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nimport thunk from 'redux-thunk'\n\nimport proxies from 'proxy'\n\nimport {\n\tadminService,\n\tauthService,\n\tcollectionService,\n\tinterfaceService,\n\tcontentService,\n\tresourceService,\n} from 'services'\n\n// Use this const to change the settings in Redux Dev Tools. Set\n// the options here, and then replace `composeWithDevTools` with\n// `composeEnhancers` down below.\n\n// const composeEnhancers = composeWithDevTools({\n// \ttrace: true,\n// })\n\nconst store = createStore(\n\n\t// This is what the store looks like\n\tcombineReducers({\n\t\tadminStore: adminService.reducer,\n\t\tauthStore: authService.reducer,\n\t\tcollectionStore: collectionService.reducer,\n\t\tcontentStore: contentService.reducer,\n\t\tinterfaceStore: interfaceService.reducer,\n\t\tresourceStore: resourceService.reducer,\n\t}),\n\n\t// This is the initial state of the store\n\t{\n\t\tadminStore: adminService.store,\n\t\tauthStore: authService.store,\n\t\tcollectionStore: collectionService.store,\n\t\tcontentStore: contentService.store,\n\t\tinterfaceStore: interfaceService.store,\n\t\tresourceStore: resourceService.store,\n\t},\n\n\tcomposeWithDevTools(\n\t\tapplyMiddleware(thunk.withExtraArgument(proxies)),\n\t),\n)\n\nexport default store","import styled from 'styled-components'\n\nexport const Container = styled.div`\n\t& > h6 {\n\t\tfont-size: 1.2rem;\n\t\tfont-weight: normal;\n\t\tpadding: .8rem 0;\n\n\t\tcursor: pointer;\n\t}\n`\n\nexport const List = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\n\theight: ${props => props.active ? `calc(4.16rem * ${props.numChildren})` : `0`};\n\n\ttransition: height .25s ease-in-out;\n\n\toverflow: hidden;\n\n\t& > a {\n\t\tpadding: 1.4rem;\n\t\tbackground-color: transparent;\n\n\t\tfont-weight: lighter;\n\n\t\tborder-radius: .3rem;\n\t}\n`\n\nexport const Arrow = styled.div`\n\tfloat: right;\n\n\theight: 1.2rem;\n\twidth: 1.2rem;\n\n\tbackground: url(${props => props.src}) center no-repeat;\n\tbackground-size: contain;\n\n\ttransform: ${props => props.active ? `rotate(-180deg)` : `rotate(0deg)`};\n\n\ttransition: transform .25s ease-in-out;\n`","import React, { PureComponent } from 'react'\n\nimport { Container, List, Arrow } from './styles'\n\nimport arrow from 'assets/carrot.svg'\n\nclass AccordionMenu extends PureComponent {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tactive: props.active,\n\t\t}\n\t}\n\n\thandleToggle = e => {\n\t\te.preventDefault()\n\n\t\tthis.setState({\n\t\t\tactive: !this.state.active,\n\t\t})\n\t}\n\n\trender() {\n\n\t\tconst { handleToggle } = this\n\t\tconst { header, children = [] } = this.props\n\t\tconst { active } = this.state\n\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<h6 onClick={handleToggle}>{header}<Arrow src={arrow} active={this.state.active} /></h6>\n\t\t\t\t<List numChildren={children.length} active={active}>\n\t\t\t\t\t{children}\n\t\t\t\t</List>\n\t\t\t</Container>\n\t\t)\n\t}\n\n}\n\nexport default AccordionMenu\n","import styled from 'styled-components'\n\nimport iconEdit from 'assets/admin-icon-edit.svg'\n\nconst Style = styled.div`\n\tpadding: 3rem 5rem;\n\tmargin: 0 2rem;\n\tmax-width: 100vw;\n\toverflow: scroll;\n`\n\nexport default Style\n\nexport const Table = styled.table`\n\tbackground: white;\n\tbox-shadow: 0 2px 5px -1px rgba(0,0,0,0.15);\n\n\t& th {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t}\n\n\t& td {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t}\n`\n\nexport const ItemEdit = styled.button`\n\tbackground: url(${iconEdit}) center no-repeat;\n\tborder: none;\n\twidth: 2.5rem;\n  height: .5rem;\n\tcursor: pointer;\n`","import React, { PureComponent } from 'react'\n\nimport Style, { Table, ItemEdit } from './styles'\n\nexport default class AdminTable extends PureComponent {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tUsers: {\n\t\t\t\tsortBy: ``,\n\t\t\t\tdescending: false,\n\t\t\t\tcolumns: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `ID`,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `NetID`,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Name`,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Roles`,\n\t\t\t\t\t\tfilter: {\n\t\t\t\t\t\t\tAdmin: false,\n\t\t\t\t\t\t\tManager: false,\n\t\t\t\t\t\t\tProfessor: false,\n\t\t\t\t\t\t\tTA: false,\n\t\t\t\t\t\t\tStudent: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Email`,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Last Login`,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\tCollections: {\n\t\t\t\tsortBy: ``,\n\t\t\t\tdescending: false,\n\t\t\t\tcolumns: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `ID`,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Name`,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Owner`,\n\t\t\t\t\t},\n\t\t\t\t\t// {\n\t\t\t\t\t// \ttitle: `# Students`,\n\t\t\t\t\t// },\n\t\t\t\t\t// {\n\t\t\t\t\t// \ttitle: `# Content`,\n\t\t\t\t\t// },\n\t\t\t\t\t// {\n\t\t\t\t\t// \ttitle: `Email`,\n\t\t\t\t\t// },\n\t\t\t\t],\n\t\t\t},\n\t\t\tContent: {\n\t\t\t\tsortBy: ``,\n\t\t\t\tdescending: false,\n\t\t\t\tcolumns: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `ID`,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Name`,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Collection`,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Requester`,\n\t\t\t\t\t},\n\t\t\t\t\t// {\n\t\t\t\t\t// \ttitle: `Language`,\n\t\t\t\t\t// \tfilter: {},\n\t\t\t\t\t// },\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Type`,\n\t\t\t\t\t\tfilter: {\n\t\t\t\t\t\t\tVideo: false,\n\t\t\t\t\t\t\tImage: false,\n\t\t\t\t\t\t\tText: false,\n\t\t\t\t\t\t\tAudio: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Expired`,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `ResourceID`,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(props, state) {\n\t\treturn {\n\t\t\t...state,\n\t\t\tdata: props.data ? props.data.map(item => {\n\t\t\t\tif (props.category === `Users`) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tID: item.id,\n\t\t\t\t\t\tNetID: item.username,\n\t\t\t\t\t\tName: item.name,\n\t\t\t\t\t\tRoles: item.roles,\n\t\t\t\t\t\tEmail: item.email,\n\t\t\t\t\t\t\"Last Login\": new Date(item.lastLogin).toDateString(),\n\t\t\t\t\t}\n\t\t\t\t} else if (props.category === `Collections`) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tID: item.id,\n\t\t\t\t\t\tName: item.name,\n\t\t\t\t\t\tOwner: item.owner,\n\t\t\t\t\t\t// \"# Students\",\n\t\t\t\t\t\t// \"# Content\",\n\t\t\t\t\t\t// Email,\n\t\t\t\t\t}\n\t\t\t\t} else if (props.category === `Content`){\n\n\t\t\t\t\t// const lang = item.settings.targetLanguages[0]\n\t\t\t\t\t// if (lang && !langs.includes(lang)) langs.push(lang)\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tID: item.id,\n\t\t\t\t\t\tName: item.name,\n\t\t\t\t\t\tCollection: item.collectionId,\n\t\t\t\t\t\tRequester: item.requester,\n\t\t\t\t\t\t// Language: lang || ``,\n\t\t\t\t\t\tType: item.contentType,\n\t\t\t\t\t\tExpired: item.expired,\n\t\t\t\t\t\tResourceID: item.resourceId,\n\t\t\t\t\t}\n\t\t\t\t} else return item\n\t\t\t}) : [],\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { category } = this.props\n\t\tconst { data } = this.state\n\t\tif (!data.length || data[0] === undefined) return null\n\n\t\t// const mappedData = data.map(item => {\n\t\t// \tif (this.props.category === `Users`) {\n\t\t// \t\treturn {\n\t\t// \t\t\tID: item.id,\n\t\t// \t\t\tNetID: item.username,\n\t\t// \t\t\tName: item.name,\n\t\t// \t\t\tRoles: item.roles,\n\t\t// \t\t\tEmail: item.email,\n\t\t// \t\t\t\"Last Login\": new Date(item.lastLogin).toDateString(),\n\t\t// \t\t}\n\t\t// \t} else if (this.props.category === `Collections`) {\n\t\t// \t\treturn {\n\t\t// \t\t\tID: item.id,\n\t\t// \t\t\tName: item.name,\n\t\t// \t\t\tOwner: item.owner,\n\t\t// \t\t\t// \"# Students\",\n\t\t// \t\t\t// \"# Content\",\n\t\t// \t\t\t// Email,\n\t\t// \t\t}\n\t\t// \t} else if (this.props.category === `Content`){\n\n\t\t// \t\t// const lang = item.settings.targetLanguages[0]\n\t\t// \t\t// if (lang && !langs.includes(lang)) langs.push(lang)\n\n\t\t// \t\treturn {\n\t\t// \t\t\tID: item.id,\n\t\t// \t\t\tName: item.name,\n\t\t// \t\t\tCollection: item.collectionId,\n\t\t// \t\t\tRequester: item.requester,\n\t\t// \t\t\t// Language: lang || ``,\n\t\t// \t\t\tType: item.contentType,\n\t\t// \t\t\tExpired: item.expired,\n\t\t// \t\t\tResourceID: item.resourceId,\n\t\t// \t\t}\n\t\t// \t} else return item\n\t\t// })\n\n\t\tconst headers = this.state[category].columns\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<Table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t{headers.map((header, index) => <th key={`${header.title}-${index}`}>{header.title}{header.filter && `f`}</th>)}\n\t\t\t\t\t\t\t<th/>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{data.map(\n\t\t\t\t\t\t\titem => <tr key={item.ID}>\n\t\t\t\t\t\t\t\t{headers.map(\n\t\t\t\t\t\t\t\t\t(header, index) => {\n\t\t\t\t\t\t\t\t\t\treturn <td key={`${header}-${index}`}>\n\t\t\t\t\t\t\t\t\t\t\t{item[header.title]}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<td><ItemEdit /></td>\n\t\t\t\t\t\t\t</tr>,\n\t\t\t\t\t\t)}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t</Style>\n\t\t)\n\t}\n}","import styled from 'styled-components'\n\nimport radioChecked from 'assets/radio-checked.svg'\nimport radioUnchecked from 'assets/radio-unchecked.svg'\n\nexport const RadioButton = styled.div`\n\twidth: 1.5rem;\n\theight: 1.5rem;\n\tbackground: url(${props => props.checked ? radioChecked : radioUnchecked}) center no-repeat;\n\tbackground-size: contain;\n\tmargin-right: 1rem;\n\tposition: relative;\n\ttop: -.2rem;\n`","import React from 'react'\n\nimport { RadioButton } from './styles'\n\nconst AspectRadio = props => {\n\n\tconst { id, selected, ratio, children, onChange, contentId } = props\n\n\tconst HtmlId = `c${contentId}b${id}`\n\n\treturn (\n\t\t<label htmlFor={HtmlId}>\n\t\t\t<input id={HtmlId} name={`ratio${props.contentId}`} type='radio' value={ratio} onChange={onChange} hidden />\n\t\t\t<RadioButton checked={selected} />\n\t\t\t{children}\n\t\t</label>\n\t)\n}\n\nexport default AspectRadio","import styled from 'styled-components'\n\nimport arrowLeft from 'assets/arrow-left.svg'\nimport arrowRight from 'assets/arrow-right.svg'\n\nexport const Container = styled.div`\n\tpadding: 2rem;\n\n\tborder-top: 1px solid #ccc;\n\n\t& > div {\n\t\tposition: relative;\n\t}\n`\n\nexport const Header = styled.div`\n\tdisplay: grid;\n\tgrid-template-columns: 18rem auto;\n\tjustify-items: start;\n\tpadding-bottom: 2rem;\n\n\t& > p {\n\t\tcolor: #a4a4a4;\n\t}\n\n\t& a {\n\t\tcolor: black;\n\t\tfont-weight: 500;\n\t\tfont-size: 1.17em;\n\t\ttext-decoration: none;\n\t}\n`\n\nexport const SlideWrapper = styled.div`\n\tdisplay: grid;\n\tgrid-auto-flow: column;\n\tgrid-template-columns: ${props => `repeat(${props.count}, 17.8rem)`};\n\tgrid-gap: 5rem;\n\n\toverflow-x: scroll;\n\toverflow-y: hidden;\n\n\twill-change: overflow;\n\n\tscroll-behavior: smooth;\n\n\t::-webkit-scrollbar {\n\t\tbackground: transparent;\n\t}\n\n\t& > a:last-child {\n\t\tmargin-right: 6rem;\n\t}\n`\n\nexport const Arrow = styled.div`\n\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\tposition: absolute;\n\ttop: 0;\n\n\theight: 10rem;\n\twidth: 6rem;\n\n\tcursor: pointer;\n\n\t&.right{\n\t\tright: 0;\n\t\tbackground-image: linear-gradient(to left, rgba(255,255,255,1), rgba(255,255,255,0));\n\n\t\t& > div {\n\t\t\theight: 1.5rem;\n\t\t\twidth: 1.5rem;\n\n\t\t\ttransition: opacity .25s ease-in-out;\n\t\t\topacity: ${props => props.right ? `0` : `1`};\n\t\t\tbackground-image: url(${arrowRight});\n\t\t\tbackground-size: cover;\n\t\t}\n\t}\n\n\t&.left {\n\t\tleft: ${props => props.hideLeft ? `-100rem` : `0`};\n\n\t\ttransition: opacity .25s ease-in-out;\n\t\topacity: ${props => props.left ? `0` : `1`};\n\t\tbackground-image: linear-gradient(to right, rgba(255,255,255,1), rgba(255,255,255,0));\n\n\t\t& > div {\n\t\t\theight: 1.5rem;\n\t\t\twidth: 1.5rem;\n\n\t\t\ttransition: opacity .25s ease-in-out;\n\t\t\topacity: ${props => props.left ? `0` : `1`};\n\t\t\tbackground-image: url(${arrowLeft});\n\t\t\tbackground-size: cover;\n\t\t}\n\t}\n`\n\nexport const BlockEnd = styled.div`\n\twidth: .1rem;\n\theight: 10rem;\n`","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { BlockItem } from 'components/bits'\n\nimport { Container, Header, SlideWrapper, Arrow, BlockEnd } from './styles.js'\n\nexport default class BlockCollection extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tleft: true,\n\t\t\thideLeft: true,\n\t\t}\n\n\t\tthis.wrapper = React.createRef()\n\t}\n\n\tscrollListener = e => {\n\t\tif (e.target.scrollLeft === 0) {\n\t\t\tthis.setState({\n\t\t\t\tleft: true,\n\t\t\t}, () => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thideLeft: true,\n\t\t\t\t\t})\n\t\t\t\t}, 250)\n\t\t\t})\n\t\t} else if (e.target.scrollLeft !== 0) {\n\t\t\tthis.setState({\n\t\t\t\thideLeft: false,\n\t\t\t}, () => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tleft: false,\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t}\n\n\tscrollLeft = () => {\n\t\tthis.wrapper.current.scrollBy({\n\t\t\tleft: -179,\n\t\t})\n\t}\n\n\tscrollRight = () => {\n\t\tthis.wrapper.current.scrollBy({\n\t\t\tleft: 178,\n\t\t})\n\t}\n\n\trender() {\n\n\t\tconst { name, content } = this.props.collection\n\t\t// contentIds is filtered for published content\n\t\t// This way, the number of videos (<p>{content.length} Videos</p>) includes the unpublished ones\n\t\tconst contentIds = this.props.contentIds\n\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<Header>\n\t\t\t\t\t<Link to={`/`}>{name}</Link>\n\t\t\t\t\t<p>{content.length} Videos</p>\n\t\t\t\t</Header>\n\t\t\t\t<div>\n\t\t\t\t\t<Arrow className='left' left={this.state.left} hideLeft={this.state.hideLeft} onClick={this.scrollLeft}>\n\t\t\t\t\t\t<div />\n\t\t\t\t\t</Arrow>\n\t\t\t\t\t<SlideWrapper count={content.length} onScroll={this.scrollListener} ref={this.wrapper} onScrollCapture={this.scrollListener}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontent.map(item => {\n\t\t\t\t\t\t\t\treturn <BlockItem key={item.id} data={item} />\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<BlockEnd />\n\t\t\t\t\t</SlideWrapper>\n\t\t\t\t\t<Arrow className='right' onClick={this.scrollRight}>\n\t\t\t\t\t\t<div />\n\t\t\t\t\t</Arrow>\n\t\t\t\t</div>\n\t\t\t</Container>\n\t\t)\n\t}\n}","import styled, { keyframes, css } from 'styled-components'\n\nconst shimmer = keyframes`\n\t0% {\n\tbackground-position: -30rem 0;\n\t}\n\t100% {\n\t\tbackground-position: 30rem 0;\n\t}\n`\n\nexport const ItemContainer = styled.div`\n\t& h4 {\n\t\tfont-weight: 500;\n\t}\n`\n\nexport const Thumbnail = styled.div`\n\twidth: 17.8rem;\n\theight: 10rem;\n\n\tmargin-bottom: 1rem;\n\n\t${\n\tprops => !props.loaded ?\n\t\tcss`\n\t\t\tbackground-color: #eee;\n\t\t\tbackground-image: linear-gradient(to right, #eee 0%, #fff 50%, #eee 100%);\n\t\t\tbackground-repeat: no-repeat;\n\n\t\t\tanimation: ${shimmer} 2s linear infinite;\n\t\t\tanimation-fill-mode: forwards;\n\t\t`\n\t\t:\n\t\tcss`\n\t\t\tbackground-color: gray;\n\t\t\tbackground-image: url(${props => props.src});\n\t\t\tbackground-size: cover;\n\t\t`\n}\n`\n","import React, { Component } from 'react'\n\nimport { Link } from 'react-router-dom'\n\nimport { ItemContainer, Thumbnail } from './styles.js'\n\nexport default class BlockItem extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\timg: props.data.thumbnail,\n\t\t\tloaded: false,\n\t\t}\n\t}\n\n\tcomponentDidMount = () => {\n\t\tconst temp = new Image()\n\t\ttemp.src = this.state.img\n\t\ttemp.onload = () => {\n\t\t\tthis.setState({ loaded: true })\n\t\t}\n\t}\n\n\trender() {\n\n\t\tconst { name, id } = this.props.data\n\t\tconst { loaded } = this.state\n\n\t\treturn (\n\t\t\t<ItemContainer>\n\t\t\t\t<Link to={`/player/${id}`}>\n\t\t\t\t\t<Thumbnail src={name} loaded={loaded} />\n\t\t\t\t\t<h4>{name}</h4>\n\t\t\t\t</Link>\n\t\t\t</ItemContainer>\n\t\t)\n\t}\n}\n","import styled from 'styled-components'\n\nimport { Link } from 'react-router-dom'\n\nconst Style = styled.div`\n\tpadding: 3rem 5rem;\n\tmargin: 0 2rem;\n\tmax-width: 100vw;\n\toverflow: scroll;\n`\n\nexport default Style\n\nexport const Table = styled.table`\n\tbackground: white;\n\tbox-shadow: 0 2px 5px -1px rgba(0,0,0,0.15);\n\n\t& th {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t}\n\n\t& td {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t}\n`\n\nexport const StyledLink = styled(Link)`\n\tcolor: #0582CA;\n`\n","import React, { PureComponent } from 'react'\n\nimport Style, { Table, StyledLink } from './styles'\n\nexport default class LabAssistantTable extends PureComponent {\n\n\trender() {\n\t\tconst { data } = this.props\n\n\t\tif (data === null || !data.length || data[0] === undefined) return null\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<Table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t\tName\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{data.map((item, index) =>\n\t\t\t\t\t\t\t<tr key={item.id}>\n\t\t\t\t\t\t\t\t<td>{item.name}</td>\n\t\t\t\t\t\t\t\t<td><StyledLink key={index} to={`/lab-assistant-manager/${item.id}`} >View Collections</StyledLink></td>\n\t\t\t\t\t\t\t</tr>,\n\t\t\t\t\t\t)}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t</Style>\n\t\t)\n\t}\n}","import styled, { keyframes } from 'styled-components'\n\nconst shimmer = keyframes`\n\t0% {\n\t\tbackground-position: -30rem 0;\n\t}\n\t100% {\n\t\t\tbackground-position: 30rem 0;\n\t}\n`\n\nconst Style = styled.div`\n\theight: ${props => props.height};\n\twidth: ${props => props.width};\n\n\t@media screen and (max-width: 455px) {\n\t\theight: ${props => props.heightSm};\n\t\twidth: ${props => props.widthSm};\n\t}\n\n\tanimation: ${shimmer} 2s linear 1s infinite;\n\tanimation-fill-mode: forwards;\n\tbackground-color: #eee;\n\tbackground-image: linear-gradient(to right, #eee 0%, #fff 50%, #eee 100%);\n\tbackground-repeat: no-repeat;\n\n\toverflow: hidden;\n\n\t& > img {\n\t\tobject-fit: cover;\n\t\tobject-position: center;\n\n\t\theight: ${props => props.height};\n\t\twidth: ${props => props.width};\n\n\t\t@media screen and (max-width: 455px) {\n\t\t\theight: ${props => props.heightSm};\n\t\t\twidth: ${props => props.widthSm};\n\t\t}\n\t}\n`\n\nexport default Style\n","import React from 'react'\n\nimport Style from './styles'\n\nconst LazyImage =\n\t({\n\t\tsrc,\n\t\talt = ``,\n\t\theight = `10rem`,\n\t\twidth = `17.8rem`,\n\t\theightSm = `50.5vw`,\n\t\twidthSm = `90vw`,\n\t}) => {\n\t\treturn (\n\t\t\t<Style\n\t\t\t\theight={height}\n\t\t\t\twidth={width}\n\t\t\t\theightSm={heightSm}\n\t\t\t\twidthSm={widthSm}\n\t\t\t>\n\t\t\t\t{src &&\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={src}\n\t\t\t\t\t\talt={alt}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t</Style>\n\t\t)\n\t}\n\nexport default LazyImage\n","import styled from 'styled-components'\n\nimport carrot from 'assets/carrot.svg'\n\nexport const Header = styled.div`\n\tdisplay: grid;\n\tgrid-template-columns: 18rem auto 1.5rem;\n\tjustify-items: start;\n\n\tpadding: 2rem;\n\n\tborder-top: 1px solid #ccc;\n\n\t& > div {\n\t\tflex: 1;\n\n\t\tbackground: url(${carrot}) center no-repeat;\n\t\tbackground-size: contain;\n\t\theight: 1.5rem;\n\t\twidth: 1.5rem;\n\n\t\ttransform: ${props => props.isOpen ? `rotate(-180deg)` : `rotate(0deg)`};\n\t\ttransition: transform .25s ease-in-out;\n\t}\n\n\t& > h3 {\n\t\tflex: 2;\n\t\tfont-weight: 500;\n\t}\n\n\t& > p {\n\t\tflex: 2;\n\t\tcolor: #a4a4a4;\n\t}\n\n\t:hover {\n\t\tcursor: pointer;\n\t\ttext-decoration: underline;\n\t\tbackground: #efefef;\n\t}\n`\n\nexport const Body = styled.div`\n\theight: ${props => props.isOpen ? `${(parseInt(props.count) * 6.5 + 2).toString()}rem` : `0`};\n\ttransition: height .25s ease-in-out;\n\toverflow: hidden;\n`","import React, { PureComponent } from 'react'\n\nimport { ListItem } from 'components/bits'\n\nimport { Header, Body } from './styles'\n\nclass ListCollection extends PureComponent {\n\tstate = {\n\t\tisOpen: false,\n\t}\n\n\ttogglePanel = () => {\n\t\tthis.setState(prevState => ({ isOpen: !prevState.isOpen }))\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tisOpen,\n\t\t} = this.state\n\n\t\tconst {\n\t\t\tname,\n\t\t\tcontent,\n\t\t} = this.props.collection\n\n\t\tconst contentIds = this.props.contentIds\n\n\t\tif (!content) return null\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Header isOpen={isOpen} onClick={this.togglePanel} >\n\t\t\t\t\t<h3>{name}</h3>\n\t\t\t\t\t<p>{content.length} Videos</p>\n\t\t\t\t\t<div />\n\t\t\t\t</Header>\n\t\t\t\t<Body isOpen={isOpen} count={content.length}>\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent.map(item => {\n\t\t\t\t\t\t\treturn <ListItem key={item.id} data={item} />\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</Body>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default ListCollection","import styled from 'styled-components'\n\nimport translation from 'assets/translation.svg'\nimport captions from 'assets/captions.svg'\nimport annotations from 'assets/annotations.svg'\n\nexport const Style = styled.div`\n\t& > a {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 18rem auto;\n\t\talign-items: center;\n\t\theight: 3.5rem;\n\t\tpadding: 1.5rem 2rem;\n\n\t\tcolor: black;\n\t\ttext-decoration: none;\n\n\t\t:hover {\n\t\t\tbackground: #eee;\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t& .name h4 {\n\t\t\tfont-weight: 500;\n\t\t}\n\n\t\t& ul {\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: repeat(3, 2rem);\n\t\t\tgrid-gap: .5rem;\n\t\t}\n\t}\n`\n\nexport default Style\n\nexport const Icon = styled.li`\n\twidth: 2rem;\n\theight: 2rem;\n\tbackground-size: contain;\n\tlist-style: none;\n\n\t&.translation {\n\t\tbackground: url(${translation}) center no-repeat;\n\t\tdisplay: ${props => props.checked ? `block` : `none`};\n\t}\n\t&.captions {\n\t\tbackground: url(${captions}) center no-repeat;\n\t\tdisplay: ${props => props.checked ? `block` : `none`};\n\t}\n\t&.annotations {\n\t\tbackground: url(${annotations}) center no-repeat;\n\t\tdisplay: ${props => props.checked ? `block` : `none`};\n\t}\n`\n","import React, { PureComponent } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { LazyImage } from 'components/bits'\n\nimport Style, { Icon } from './styles'\n\nclass ListItem extends PureComponent {\n\trender() {\n\n\t\tconst { id, name, thumbnail, translation, captions, annotations } = this.props.data\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<Link to={`/player/${id}`}>\n\t\t\t\t\t<LazyImage src={thumbnail} height='3.5rem' width='5.5rem' heightSm='3.5rem' widthSm='5.5rem' />\n\t\t\t\t\t<div className='name'>\n\t\t\t\t\t\t<h4>{name}</h4>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<Icon className='translation' checked={translation} />\n\t\t\t\t\t\t\t<Icon className='captions' checked={captions} />\n\t\t\t\t\t\t\t<Icon className='annotations' checked={annotations} />\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\t\t\t</Style>\n\t\t)\n\t}\n}\n\nexport default ListItem","import styled from 'styled-components'\n\nexport const Wrapper = styled.div`\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100vw;\n\theight: 100vh;\n\tbackground: rgba(0,0,0,0.5);\n\tz-index: 40;\n\n\topacity: ${props => props.done ? 0 : 1};\n\ttransition: opacity .25s ease-in-out;\n\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\n\t& > div {\n\t\tborder-radius: .3rem;\n\t\tpadding: 4rem 5rem;\n\t\tbackground: white;\n\n\t\tposition: relative;\n\t}\n`\n","import React, { Component, createRef } from 'react'\nimport ReactDOM from 'react-dom'\nimport { connect } from 'react-redux'\n\nimport { Wrapper } from './styles'\n\n// TODO: Separate or move this so that it doesn't break the container pattern\n\nclass Modal extends Component {\n\n\twrapper = createRef()\n\n\trender() {\n\t\tconst Comp = this.props.modal.component\n\n\t\tif (!Comp) return null\n\n\t\treturn ReactDOM.createPortal(\n\t\t\t(\n\t\t\t\t<Wrapper ref={this.wrapper} className=''>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Comp {...this.props.modal.props} />\n\t\t\t\t\t</div>\n\t\t\t\t</Wrapper>\n\t\t\t),\n\t\t\tdocument.getElementById(`modal`),\n\t\t)\n\t}\n\n\tcomponentDidUpdate = prevProps => {\n\t\tif (!this.wrapper.current) return\n\n\t\tif (!prevProps.active && this.props.active) {\n\t\t\tthis.wrapper.current.classList.add(`active`)\n\t\t\tthis.wrapper.current.classList.remove(`hidden`)\n\t\t}\n\n\t\tif (prevProps.active && !this.props.active) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.wrapper.current.classList.remove(`active`)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.wrapper.current.classList.add(`hidden`)\n\t\t\t\t}, 250)\n\t\t\t}, 1000)\n\t\t}\n\n\t}\n\n}\n\nconst mapStoreToProps = store => ({\n\tmodal: store.interfaceStore.modal,\n})\n\nexport default connect(mapStoreToProps)(Modal)\n","import styled from 'styled-components'\n\nimport remove from 'assets/delete.svg'\n\nconst Style = styled.div`\n\toverflow-x: auto;\n`\n\nexport default Style\n\nexport const Table = styled.table`\n\tbackground: white;\n\tborder-collapse: collapse;\n\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\tmargin-bottom: 3rem;\n\ttable-layout: fixed;\n\t&>thead {\n\t\tborder-bottom: 2px solid #eee;\n\t\t& th {\n\t\t\tmin-width: 20rem;\n\t\t\tpadding: 1rem;\n\t\t\ttext-align: left;\n\t\t\t&.small {\n\t\t\t\tmin-width: 2rem;\n\t\t\t}\n\t\t}\n\t}\n\t&>tbody {\n\t\t& td {\n\t\t\tpadding: 1rem;\n\t\t}\n\t}\n`\n\nexport const RemoveButton = styled.button`\n\tbackground-size: contain;\n\tbackground: url(${remove}) center no-repeat;\n\tborder: none;\n\tcursor: pointer;\n\theight: 2rem;\n\toutline: none;\n\twidth: 2rem;\n`","/* eslint-disable array-bracket-newline */\nimport React from 'react'\nimport { connect } from 'react-redux'\n\nimport Style, { Table, RemoveButton } from './styles'\n\nconst PermissionTable = props => {\n\n\tconst {\n\t\tdata,\n\t\tremoveFunc,\n\t\tuser,\n\t} = props\n\n\treturn (\n\t\t<Style>\n\t\t\t<Table>\n\t\t\t\t<thead>\n\t\t\t\t\t{data.length > 0 &&\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t{Object.keys(data[0])\n\t\t\t\t\t\t\t\t.filter(key => key !== `id`)\n\t\t\t\t\t\t\t\t.map((column, index) => <th key={index}>{column}</th>)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<th className='small'></th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t}\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{data.length > 0 && data.map((item, index) =>\n\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t{Object.keys(item)\n\t\t\t\t\t\t\t\t.filter(key => key !== `id`)\n\t\t\t\t\t\t\t\t.map((key, index2) => <td key={index2}>{item[key]}</td>)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t{item.NetID === user.username ||\n\t\t\t\t\t\t\t\t\t\t<RemoveButton\n\t\t\t\t\t\t\t\t\t\t\tdata-item={`${JSON.stringify(item)}`}\n\t\t\t\t\t\t\t\t\t\t\tonClick={removeFunc}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t)}\n\t\t\t\t</tbody>\n\t\t\t</Table>\n\t\t</Style>\n\t)\n}\n\nconst mapStateToProps = store => ({\n\tuser: store.authStore.user,\n})\n\nexport default connect(mapStateToProps)(PermissionTable)\n","import styled from 'styled-components'\n\nimport { Link } from 'react-router-dom'\n\nconst Style = styled.div`\n\tpadding: 3rem 5rem;\n\tmargin: 0 2rem;\n\tmax-width: 100vw;\n\toverflow: scroll;\n`\n\nexport default Style\n\nexport const Table = styled.table`\n\tbackground: white;\n\tbox-shadow: 0 2px 5px -1px rgba(0,0,0,0.15);\n\n\t& th {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t}\n\n\t& td {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t}\n`\n\nexport const StyledLink = styled(Link)`\n\tcolor: #0582CA;\n`\n","import React, { PureComponent } from 'react'\n\nimport Style, { Table, StyledLink } from './styles'\n\nexport default class ResourceTable extends PureComponent {\n\n\trender() {\n\t\tconst { data, addResource } = this.props\n\n\t\tif (data === null || !data.length || data[0] === undefined) return null\n\n\t\t// Display message if empty\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<Table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t\tName\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t\tContent Type\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t\t{/* Action */}\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{data.map((item, index) =>\n\t\t\t\t\t\t\t<tr key={item.id}>\n\t\t\t\t\t\t\t\t<td>{item.name}</td>\n\t\t\t\t\t\t\t\t<td>{item.contentType}</td>\n\t\t\t\t\t\t\t\t<td><StyledLink key={index} onClick={() => {\n\t\t\t\t\t\t\t\t\tconsole.log(`adding resource`, item)\n\t\t\t\t\t\t\t\t\taddResource(item, true)\n\t\t\t\t\t\t\t\t}}>Add to Collection</StyledLink></td>\n\t\t\t\t\t\t\t</tr>,\n\t\t\t\t\t\t)}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t</Style>\n\t\t)\n\t}\n}","import styled, { keyframes } from 'styled-components'\nimport logo from 'assets/hexborder.svg'\n\nconst rotate = keyframes`\n\tfrom {\n\t\ttransform: rotate(0deg);\n\t}\n\tto {\n\t\ttransform: rotate(720deg);\n\t}\n`\n\nconst Style = styled.div`\n\tposition: relative;\n\n\theight: 100%;\n\twidth: 100%;\n\n\tmin-height: 290px;\n\n\tdisplay: flex;\n\n\tjustify-content: center;\n\talign-items: center;\n\n\t& > div {\n\t\theight: 8rem;\n\t\twidth: 8rem;\n\t\tbackground: url(${logo}) center no-repeat;\n\t\tbackground-size: contain;\n\n\t\tanimation: ${rotate} 2.5s ease-in-out infinite;\n\t}\n`\n\nexport default Style\n","import React, { PureComponent } from 'react'\n\nimport Style from './styles'\n\nexport class Spinner extends PureComponent {\n\trender() {\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<div />\n\t\t\t</Style>\n\t\t)\n\t}\n}\n\nexport default Spinner\n","import styled from 'styled-components'\n\nconst Style = styled.button`\n\tposition: relative;\n\tborder: none;\n\tbackground: transparent;\n\toutline: none;\n\tcursor: pointer;\n\n\tpadding: 0;\n\n\theight: calc(1rem * ${props => props.size ? props.size : `1`});\n\twidth: calc(1.8rem * ${props => props.size ? props.size : `1`});\n`\n\nexport default Style\n\nexport const Circle = styled.div`\n\theight: calc(1rem * ${props => props.size ? props.size : `1`});\n\twidth: calc(1rem * ${props => props.size ? props.size : `1`});\n\n\tborder-radius: 50%;\n\n\tposition: absolute;\n\n\tleft: ${props => props.on ? `calc(.8rem * ${props.size ? props.size : `1`})` : `0`};\n\n\ttransition: left .3s ease-out;\n\n\tbackground-color: ${props => props.on ? `#0582CA` : `#CCC`};\n`\n\nexport const Groove = styled.div`\n\theight: calc(.8rem * ${props => props.size ? props.size : `1`});\n\twidth: calc(1.6rem * ${props => props.size ? props.size : `1`});\n\n\tborder-radius: calc(.4rem * ${props => props.size ? props.size : `1`});\n\n\tmargin: calc(.1rem * ${props => props.size ? props.size : `1`});\n\n\tbackground-color: ${props => props.on ? `#E2EEF5` : `#EEE`};\n`\n","import React from 'react'\nimport Style, { Circle, Groove } from './styles'\n\nconst SwitchToggle = props => {\n\tconst { on, setToggle, size } = props\n\treturn (\n\t\t<Style onClick={setToggle} size={size} className={`switch-toggle`} data-key={props.data_key}>\n\t\t\t<Circle on={on ? 1 : 0} size={size} data-key={props.data_key} />\n\t\t\t<Groove on={on ? 1 : 0} size={size} data-key={props.data_key} />\n\t\t</Style>\n\t)\n}\n\nexport default SwitchToggle\n","import styled from 'styled-components'\n\nimport plus from 'assets/plus_blue.svg'\n\nconst Style = styled.div`\n\theight: 1.5rem;\n\twidth: fit-content;\n\tborder-radius: 5rem;\n\tbackground-color: #0582CA;\n\tcolor: white;\n\tpadding: .25rem;\n\tpadding-left: .75rem;\n\tmargin-right: .25rem;\n\tmargin-bottom: .25rem;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n`\n\nexport default Style\n\nexport const Remove = styled.button`\n\ttransform: rotate(45deg);\n\n\theight: 1.5rem;\n\twidth: 1.5rem;\n\n\tpadding: 0;\n\tmargin: 0;\n\tborder: none;\n\n\tbackground: url(${plus}) center no-repeat;\n\tbackground-size: contain;\n\n\tcursor: pointer;\n\toutline: none;\n`\n","import React from 'react'\n\nimport Style, { Remove } from './styles'\n\nconst Tag = props => {\n\treturn (\n\t\t<Style>\n\t\t\t{props.children}\n\t\t\t<Remove onClick={props.onClick} data-value={props.children} />\n\t\t</Style>\n\t)\n}\n\nexport default Tag","import styled from 'styled-components'\n\nimport searchIcon from 'assets/search.svg'\n\nconst Style = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\theight: calc(100vh - 8.4rem);\n\tbackground-color: #fafafa;\n\tpadding-top: 8.4rem;\n\n\t& > div {\n\t\tdisplay: flex;\n\t}\n\n\t& > h1 {\n\t\tmargin: 5rem 0 4rem 0;\n\t\tfont-weight: normal;\n\t}\n`\n\nexport default Style\n\nexport const Search = styled.form`\n\tposition: relative;\n\n\t& > input {\n\t\tz-index: 1;\n\t\tbackground: white;\n\n\t\theight: 4rem;\n\t\twidth: 30rem;\n\n\t\tfont-size: 1.5rem;\n\n\t\tborder: none;\n\t\tborder-radius: 2rem;\n\n\t\tmargin-left: 1rem;\n\n\t\tpadding: 0 1.25rem 0 3.25rem;\n\n\t\toutline: none;\n\t\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\t}\n`\n\nexport const SearchIcon = styled.span`\n\tposition: absolute;\n\tz-index: 10;\n\ttop: 1rem;\n\tleft: 2rem;\n\tbackground: url(${searchIcon}) center no-repeat;\n\tbackground-size: contain;\n\theight: 2rem;\n\twidth: 2rem;\n`\n\nexport const CategorySelect = styled.select`\n\tbackground: white;\n\n\theight: 4rem;\n\twidth: 12rem;\n\n\tfont-size: 1.5rem;\n\n\tborder: none;\n\tborder-radius: 2rem;\n\n\tpadding: 0 1.25rem;\n\n\toutline: none;\n\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n`","import React, { PureComponent } from 'react'\n\nimport { AdminTable } from 'components/bits'\n\nimport Style, { Search, SearchIcon, CategorySelect } from './styles'\n\nexport class Admin extends PureComponent {\n\trender() {\n\n\t\tconst {\n\t\t\tcategory,\n\t\t\tdata,\n\t\t\tplaceholder,\n\t\t\tsearchQuery,\n\t\t\tsearchCategory,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\tupdateCategory,\n\t\t\tupdateSearchBar,\n\t\t\thandleSubmit,\n\t\t} = this.props.handlers\n\n\t\tconsole.log(data)\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<h1>Admin Dashboard</h1>\n\n\t\t\t\t<div>\n\n\t\t\t\t\t<CategorySelect onChange={updateCategory}>\n\t\t\t\t\t\t{Object.keys(category).map((c, index) =>\n\t\t\t\t\t\t\t<option value={category[c].name} key={index}>\n\t\t\t\t\t\t\t\t{category[c].name}\n\t\t\t\t\t\t\t</option>,\n\t\t\t\t\t\t)}\n\t\t\t\t\t</CategorySelect>\n\n\t\t\t\t\t<Search onSubmit={handleSubmit}>\n\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t\t<input type='search' placeholder={placeholder} onChange={updateSearchBar} value={searchQuery} />\n\t\t\t\t\t</Search>\n\n\t\t\t\t</div>\n\n\t\t\t\t<AdminTable category={searchCategory} data={data} />\n\t\t\t</Style>\n\t\t)\n\t}\n}\n\nexport default Admin\n","import styled from 'styled-components'\n\nimport searchIcon from 'assets/search.svg'\n\nconst Style = styled.div`\n\tpadding: 2rem;\n\t& h4 {\n\t\tfont-size: 1.4rem;\n\t\tfont-weight: normal;\n\t\tmargin-bottom: 1.6rem;\n\t}\n`\n\nexport default Style\n\nexport const Search = styled.form`\n\tposition: relative;\n\t& > input {\n\t\tbackground: white;\n\t\tborder-radius: 1.3rem;\n\t\tborder: none;\n\t\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\t\theight: 2.6rem;\n\t\tmargin-bottom: 1.6rem;\n\t\tmargin-right: 2rem;\n\t\toutline: none;\n\t\tpadding-left: 1rem;\n\t\tpadding-right: 1rem;\n\t\twidth: 18rem;\n\t\tz-index: 1;\n\t}\n`\n\nexport const SearchIcon = styled.span`\n\tbackground-size: contain;\n\tbackground: url(${searchIcon}) center no-repeat;\n\theight: 1.4rem;\n\tleft: .7rem;\n\tposition: absolute;\n\ttop: .6rem;\n\twidth: 1.4rem;\n\tz-index: 10;\n`\n\nexport const DepartmentSelect = styled.select`\n\tbackground: white;\n\tborder-radius: 1.3rem;\n\tborder: none;\n\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\theight: 2.6rem;\n\tmargin-bottom: 1.6rem;\n\tmargin-right: 2rem;\n\toutline: none;\n\tpadding-left: .6rem;\n\tpadding-right: 1.2rem;\n\twidth: 18rem;\n`\n\nexport const CatalogInput = styled.input`\n\tbackground: ${props => props.disabled ? `#eee` : `white`};\n\n\theight: 2.6rem;\n\twidth: 18rem;\n\n\tborder: none;\n\tborder-radius: 1.3rem;\n\n\tmargin-bottom: 1.6rem;\n\tmargin-right: 2rem;\n\n\toutline: none;\n\n\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\n\tpadding-left: 1rem;\n\tpadding-right: 1.2rem;\n`\n\nexport const SectionInput = styled.input`\n\tbackground: ${props => props.disabled ? `#eee` : `white`};\n\n\theight: 2.6rem;\n\twidth: 18rem;\n\n\tborder: none;\n\tborder-radius: 1.3rem;\n\n\tmargin-bottom: 1.6rem;\n\tmargin-right: 2rem;\n\n\toutline: none;\n\n\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\n\tpadding-left: 1rem;\n\tpadding-right: 1.2rem;\n`\n\nexport const AddButton = styled.button`\n\tbackground: ${props => props.disabled ? `#eee` : `#0582CA`};\n\tcolor: ${props => props.disabled ? `initial` : `white`};\n\n\theight: 2.8rem;\n\twidth: 5rem;\n\n\tborder: none;\n\tborder-radius: 1.3rem;\n\n\toutline: none;\n\t${props => props.disabled ? `` : `cursor: pointer;`}\n\n\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\n\tpadding-left: 1rem;\n\tpadding-right: 1.2rem;\n`","import { diff } from 'deep-object-diff'\n\nexport const getInitials = fullName => {\n\tlet initials = fullName.match(/\\b\\w/g) || []\n\tinitials = ((initials.shift() || ``) + (initials.pop() || ``)).toUpperCase()\n\treturn initials\n}\n\nexport const objectIsEmpty = o => {\n\treturn Object.entries(o).length === 0 && o.constructor === Object\n}\n\nexport const componentDidChange = async (\n\ttoConsole = false,\n\tcomponent = ``,\n\tmethod = ``,\n\tprevProps = {},\n\tnextProps = {},\n\tpropsProperties = [],\n\tprevState = {},\n\tnextState = {},\n\tstateProperties = []\n) => {\n\n\tconst label = `[DEBUG] ${component}.${method}()`\n\n\tif (toConsole) logger.group(label)\n\n\tconst propsDiff = diff(prevProps, nextProps)\n\tconst stateDiff = diff(prevState, nextState)\n\n\tif (toConsole) logger.log(`props changes:`, propsDiff)\n\tif (toConsole) logger.log(`state changes:`, stateDiff)\n\n\tconst propsChanged = propsProperties.reduce((acc, property) => ({\n\t\t...acc,\n\t\t[`props.${property} Changed`]: {\n\t\t\tvalue: propsDiff.hasOwnProperty(property),\n\t\t},\n\t}), {})\n\n\tconst stateChanged = stateProperties.reduce((acc, property) => ({\n\t\t...acc,\n\t\t[`state.${property} Changed`]: {\n\t\t\tvalue: stateDiff.hasOwnProperty(property),\n\t\t},\n\t}), {})\n\n\tconst propsKeys = Object.keys(propsChanged)\n\tconst stateKeys = Object.keys(stateChanged)\n\n\tif (toConsole && propsKeys.length > 0) console.table(propsChanged)\n\tif (toConsole && stateKeys.length > 0) console.table(stateChanged)\n\n\tconst changed =\n\t\t(\n\t\t\tpropsKeys.length > 0 ?\n\t\t\t\tpropsKeys.some(key => propsChanged[key].value)\n\t\t\t\t:\n\t\t\t\tfalse\n\t\t) || (\n\t\t\tstateKeys.length > 0 ?\n\t\t\t\tstateKeys.some(key => stateChanged[key].value)\n\t\t\t\t:\n\t\t\t\tfalse\n\t\t)\n\n\tif (toConsole) logger.logc(`${changed ? `RENDER` : `NO RENDER`}`, `background: ${changed ? `Maroon` : `Teal`}`)\n\n\tif (toConsole) logger.groupEnd(label)\n\n\treturn changed\n}\n\nconst logStyle = `background: transparent; color: white; font-weight: bold; padding: 2px 4px; border-radius: 2px;`\nconst infoStyle = `background: #61dafb; color: #282c34; font-weight: bold; padding: 2px 4px; border-radius: 2px;`\nconst warnStyle = `background: #ffbb17; color: #332b00; font-weight: bold; padding: 2px 4px; border-radius: 2px;`\nconst errorStyle = `background: #dc2727; color: #290000; font-weight: bold; padding: 2px 4px; border-radius: 2px;`\n\nexport const logger = {\n\tlog: (message, variable) => message ? console.log(`%c${message}`, logStyle, variable ? variable : ``) : null,\n\tinfo: (message, variable) => message ? console.log(`%c${message}`, infoStyle, variable ? variable : ``) : null,\n\twarn: (message, variable) => message ? console.log(`%c${message}`, warnStyle, variable ? variable : ``) : null,\n\terror: (message, variable) => message ? console.log(`%c${message}`, errorStyle, variable ? variable : ``) : null,\n\tlogc: (message, css, variable) => message ? console.log(`%c${message}`, `${logStyle} ${css}`, variable ? variable : ``) : null,\n\tgroup: (message) => message ? console.groupCollapsed(`%c${message}`, infoStyle) : null,\n\tgroupEnd: (message) => message ? console.groupEnd(`%c${message}`, infoStyle) : null,\n}\n\nexport const departments = [\n\t{\n\t\tcode: `A HTG`,\n\t\tname: `American Heritage`,\n\t},\n\t{\n\t\tcode: `ACC`,\n\t\tname: `Accounting`,\n\t},\n\t{\n\t\tcode: `AEROS`,\n\t\tname: `Aerospace Studies`,\n\t},\n\t{\n\t\tcode: `AFRIK`,\n\t\tname: `Afrikaans`,\n\t},\n\t{\n\t\tcode: `AM ST`,\n\t\tname: `American Studies`,\n\t},\n\t{\n\t\tcode: `ANES`,\n\t\tname: `Ancient Near Eastern Studies`,\n\t},\n\t{\n\t\tcode: `ANTHR`,\n\t\tname: `Antrhopology`,\n\t},\n\t{\n\t\tcode: `ARAB`,\n\t\tname: `Arabic`,\n\t},\n\t{\n\t\tcode: `ARMEN`,\n\t\tname: `Armenian`,\n\t},\n\t{\n\t\tcode: `ART`,\n\t\tname: `Art`,\n\t},\n\t{\n\t\tcode: `ARTED`,\n\t\tname: `Art Education`,\n\t},\n\t{\n\t\tcode: `ARTHC`,\n\t\tname: `Art History and Curatorial Studies`,\n\t},\n\t{\n\t\tcode: `ASIAN`,\n\t\tname: `Asian Studies`,\n\t},\n\t{\n\t\tcode: `ASL`,\n\t\tname: `American Sign Language`,\n\t},\n\t{\n\t\tcode: `BIO`,\n\t\tname: `Biology`,\n\t},\n\t{\n\t\tcode: `BULGN`,\n\t\tname: `Bulgarian`,\n\t},\n\t{\n\t\tcode: `C S`,\n\t\tname: `Computer Science`,\n\t},\n\t{\n\t\tcode: `CAMBO`,\n\t\tname: `Cambodian`,\n\t},\n\t{\n\t\tcode: `CANT`,\n\t\tname: `Cantonese`,\n\t},\n\t{\n\t\tcode: `CE EN`,\n\t\tname: `Civil and Environmental Engineering`,\n\t},\n\t{\n\t\tcode: `CEBU`,\n\t\tname: `Cebuano`,\n\t},\n\t{\n\t\tcode: `CFM`,\n\t\tname: `Construction and Facilities Management`,\n\t},\n\t{\n\t\tcode: `CH EN`,\n\t\tname: `Chemical Engineering`,\n\t},\n\t{\n\t\tcode: `CHEM`,\n\t\tname: `Chemistry and Biochemistry`,\n\t},\n\t{\n\t\tcode: `CHIN`,\n\t\tname: `Chinese - Mandarin`,\n\t},\n\t{\n\t\tcode: `CL CV`,\n\t\tname: `Classical Civilization`,\n\t},\n\t{\n\t\tcode: `CLSCS`,\n\t\tname: `Classics`,\n\t},\n\t{\n\t\tcode: `CMLIT`,\n\t\tname: `Comparative Literature`,\n\t},\n\t{\n\t\tcode: `CMPST`,\n\t\tname: `Comparative Studies`,\n\t},\n\t{\n\t\tcode: `COMD`,\n\t\tname: `Communication Disorders`,\n\t},\n\t{\n\t\tcode: `COMMS`,\n\t\tname: `Communications`,\n\t},\n\t{\n\t\tcode: `CPSE`,\n\t\tname: `Counseling Psychology and Special Education`,\n\t},\n\t{\n\t\tcode: `CREOL`,\n\t\tname: `Hatian Creole`,\n\t},\n\t{\n\t\tcode: `CSANM`,\n\t\tname: `Computer Science Animation`,\n\t},\n\t{\n\t\tcode: `DANCE`,\n\t\tname: `Dance`,\n\t},\n\t{\n\t\tcode: `DANSH`,\n\t\tname: `Danish`,\n\t},\n\t{\n\t\tcode: `DES`,\n\t\tname: `Design`,\n\t},\n\t{\n\t\tcode: `DESAN`,\n\t\tname: `Design - Animation`,\n\t},\n\t{\n\t\tcode: `DESGD`,\n\t\tname: `Design - Graphic Design`,\n\t},\n\t{\n\t\tcode: `DESIL`,\n\t\tname: `Design - Illustration`,\n\t},\n\t{\n\t\tcode: `DESPH`,\n\t\tname: `Design - Photography`,\n\t},\n\t{\n\t\tcode: `DIGHT`,\n\t\tname: `Digital Humanities and Technology`,\n\t},\n\t{\n\t\tcode: `DUTCH`,\n\t\tname: `Dutch`,\n\t},\n\t{\n\t\tcode: `EC EN`,\n\t\tname: `Electrical and Computer Engineering`,\n\t},\n\t{\n\t\tcode: `ECE`,\n\t\tname: `Early Childhood Education`,\n\t},\n\t{\n\t\tcode: `ECON`,\n\t\tname: `Economics`,\n\t},\n\t{\n\t\tcode: `EDLF`,\n\t\tname: `Educational Leadership and Foundations`,\n\t},\n\t{\n\t\tcode: `EIME`,\n\t\tname: `Educational Inquiry, Measurement, and Evaluation`,\n\t},\n\t{\n\t\tcode: `EL ED`,\n\t\tname: `Elementary Education`,\n\t},\n\t{\n\t\tcode: `ELANG`,\n\t\tname: `English Language`,\n\t},\n\t{\n\t\tcode: `EMBA`,\n\t\tname: `Executive Master of Business Administration`,\n\t},\n\t{\n\t\tcode: `ENG T`,\n\t\tname: `Engineering Technology`,\n\t},\n\t{\n\t\tcode: `ENGL`,\n\t\tname: `English`,\n\t},\n\t{\n\t\tcode: `ENT`,\n\t\tname: `Entrepreneurial Management`,\n\t},\n\t{\n\t\tcode: `ESL`,\n\t\tname: `English as a Second Language`,\n\t},\n\t{\n\t\tcode: `ESTON`,\n\t\tname: `Estonian`,\n\t},\n\t{\n\t\tcode: `EUROP`,\n\t\tname: `European Studies`,\n\t},\n\t{\n\t\tcode: `EXDM`,\n\t\tname: `Experience Design and Management`,\n\t},\n\t{\n\t\tcode: `EXSC`,\n\t\tname: `Exercise Sciences`,\n\t},\n\t{\n\t\tcode: `FIN`,\n\t\tname: `Finance`,\n\t},\n\t{\n\t\tcode: `FINN`,\n\t\tname: `Finnish`,\n\t},\n\t{\n\t\tcode: `FLANG`,\n\t\tname: `Foreign Language Courses`,\n\t},\n\t{\n\t\tcode: `FNART`,\n\t\tname: `Fine Arts`,\n\t},\n\t{\n\t\tcode: `FREN`,\n\t\tname: `French`,\n\t},\n\t{\n\t\tcode: `GEOG`,\n\t\tname: `Geography`,\n\t},\n\t{\n\t\tcode: `GEOL`,\n\t\tname: `Geological Sciences`,\n\t},\n\t{\n\t\tcode: `GERM`,\n\t\tname: `German`,\n\t},\n\t{\n\t\tcode: `GREEK`,\n\t\tname: `Greek (Classical)`,\n\t},\n\t{\n\t\tcode: `GSCM`,\n\t\tname: `Global Supply Chain Management`,\n\t},\n\t{\n\t\tcode: `GWS`,\n\t\tname: `Global Women's Studies`,\n\t},\n\t{\n\t\tcode: `HAWAI`,\n\t\tname: `Hawaiian`,\n\t},\n\t{\n\t\tcode: `HCOLL`,\n\t\tname: `Humanities College`,\n\t},\n\t{\n\t\tcode: `HEB`,\n\t\tname: `Hebrew`,\n\t},\n\t{\n\t\tcode: `HINDI`,\n\t\tname: `Hindi`,\n\t},\n\t{\n\t\tcode: `HIST`,\n\t\tname: `History`,\n\t},\n\t{\n\t\tcode: `HLTH`,\n\t\tname: `Public Health`,\n\t},\n\t{\n\t\tcode: `HMONG`,\n\t\tname: `Hmong`,\n\t},\n\t{\n\t\tcode: `HONRS`,\n\t\tname: `Honors Program`,\n\t},\n\t{\n\t\tcode: `HRM`,\n\t\tname: `Human Resource Management`,\n\t},\n\t{\n\t\tcode: `HUNG`,\n\t\tname: `Hungarian`,\n\t},\n\t{\n\t\tcode: `IAS`,\n\t\tname: `International and Area Studies`,\n\t},\n\t{\n\t\tcode: `ICLND`,\n\t\tname: `Icelandic`,\n\t},\n\t{\n\t\tcode: `ICS`,\n\t\tname: `International Cinema Studies`,\n\t},\n\t{\n\t\tcode: `IHUM`,\n\t\tname: `Interdisciplinary Humanities`,\n\t},\n\t{\n\t\tcode: `INDES`,\n\t\tname: `Industrial Design`,\n\t},\n\t{\n\t\tcode: `INDON`,\n\t\tname: `Indonesian`,\n\t},\n\t{\n\t\tcode: `IP&amp;T`,\n\t\tname: `Instructional Psychology and Technology`,\n\t},\n\t{\n\t\tcode: `IS`,\n\t\tname: `Information Systems`,\n\t},\n\t{\n\t\tcode: `IT&amp;C`,\n\t\tname: `Information Technology and Cybersecurity`,\n\t},\n\t{\n\t\tcode: `IT`,\n\t\tname: `Information Technology`,\n\t},\n\t{\n\t\tcode: `ITAL`,\n\t\tname: `Italian`,\n\t},\n\t{\n\t\tcode: `JAPAN`,\n\t\tname: `Japanese`,\n\t},\n\t{\n\t\tcode: `KICHE`,\n\t\tname: `K'iche`,\n\t},\n\t{\n\t\tcode: `KIRIB`,\n\t\tname: `Kiribati`,\n\t},\n\t{\n\t\tcode: `KOREA`,\n\t\tname: `Korean`,\n\t},\n\t{\n\t\tcode: `LATIN`,\n\t\tname: `Latin (Classical)`,\n\t},\n\t{\n\t\tcode: `LATVI`,\n\t\tname: `Latvian`,\n\t},\n\t{\n\t\tcode: `LAW`,\n\t\tname: `Law`,\n\t},\n\t{\n\t\tcode: `LFSCI`,\n\t\tname: `Life Sciences`,\n\t},\n\t{\n\t\tcode: `LING`,\n\t\tname: `Linguistics`,\n\t},\n\t{\n\t\tcode: `LITHU`,\n\t\tname: `Lithuanian`,\n\t},\n\t{\n\t\tcode: `LT AM`,\n\t\tname: `Latin American Studies`,\n\t},\n\t{\n\t\tcode: `M COM`,\n\t\tname: `Management Communication`,\n\t},\n\t{\n\t\tcode: `MALAG`,\n\t\tname: `Malagasy`,\n\t},\n\t{\n\t\tcode: `MALAY`,\n\t\tname: `Malay`,\n\t},\n\t{\n\t\tcode: `MATH`,\n\t\tname: `Mathematics`,\n\t},\n\t{\n\t\tcode: `MBA`,\n\t\tname: `Business Administration`,\n\t},\n\t{\n\t\tcode: `ME EN`,\n\t\tname: `Mechanical Engineering`,\n\t},\n\t{\n\t\tcode: `MESA`,\n\t\tname: `Middle East Studies/Arabic`,\n\t},\n\t{\n\t\tcode: `MFGEN`,\n\t\tname: `Manufacturing Engineering`,\n\t},\n\t{\n\t\tcode: `MFG`,\n\t\tname: `Manufacturing`,\n\t},\n\t{\n\t\tcode: `MFHD`,\n\t\tname: `Marriage, Family, and Human Development`,\n\t},\n\t{\n\t\tcode: `MFT`,\n\t\tname: `Marriage and Family Therapy`,\n\t},\n\t{\n\t\tcode: `MIL S`,\n\t\tname: `Military Science`,\n\t},\n\t{\n\t\tcode: `MKTG`,\n\t\tname: `Marketing`,\n\t},\n\t{\n\t\tcode: `MMBIO`,\n\t\tname: `Microbiology and Molecular Biology`,\n\t},\n\t{\n\t\tcode: `MPA`,\n\t\tname: `Public Management`,\n\t},\n\t{\n\t\tcode: `MSB`,\n\t\tname: `Marriott School of Business`,\n\t},\n\t{\n\t\tcode: `MTHED`,\n\t\tname: `Mathematics Education`,\n\t},\n\t{\n\t\tcode: `MUSIC`,\n\t\tname: `Music`,\n\t},\n\t{\n\t\tcode: `NAVAJ`,\n\t\tname: `Navajo`,\n\t},\n\t{\n\t\tcode: `NDFS`,\n\t\tname: `Nutrition, Dietetics, and Food Science`,\n\t},\n\t{\n\t\tcode: `NES`,\n\t\tname: `Near Eastern Studies`,\n\t},\n\t{\n\t\tcode: `NEURO`,\n\t\tname: `Neuroscience`,\n\t},\n\t{\n\t\tcode: `NORWE`,\n\t\tname: `Norwegian`,\n\t},\n\t{\n\t\tcode: `NURS`,\n\t\tname: `Nursing`,\n\t},\n\t{\n\t\tcode: `PDBIO`,\n\t\tname: `Physiology and Developmental Biology`,\n\t},\n\t{\n\t\tcode: `PERSI`,\n\t\tname: `Persian`,\n\t},\n\t{\n\t\tcode: `PETE`,\n\t\tname: `Physical Education Teacher Education`,\n\t},\n\t{\n\t\tcode: `PHIL`,\n\t\tname: `Philosophy`,\n\t},\n\t{\n\t\tcode: `PHSCS`,\n\t\tname: `Physics and Astronomy`,\n\t},\n\t{\n\t\tcode: `PHY S`,\n\t\tname: `Physical Science`,\n\t},\n\t{\n\t\tcode: `PLANG`,\n\t\tname: `Professional Language`,\n\t},\n\t{\n\t\tcode: `POLI`,\n\t\tname: `Political Science`,\n\t},\n\t{\n\t\tcode: `POLSH`,\n\t\tname: `Polish`,\n\t},\n\t{\n\t\tcode: `PORT`,\n\t\tname: `Portuguese`,\n\t},\n\t{\n\t\tcode: `PSYCH`,\n\t\tname: `Psychology`,\n\t},\n\t{\n\t\tcode: `PWS`,\n\t\tname: `Plant and Wildlife Sciences`,\n\t},\n\t{\n\t\tcode: `QUECH`,\n\t\tname: `Quechua`,\n\t},\n\t{\n\t\tcode: `REL A`,\n\t\tname: `Rel A - Ancient Scripture`,\n\t},\n\t{\n\t\tcode: `REL C`,\n\t\tname: `Rel C - Church History and Doctrine`,\n\t},\n\t{\n\t\tcode: `REL E`,\n\t\tname: `Rel E - Religious Education`,\n\t},\n\t{\n\t\tcode: `ROM`,\n\t\tname: `Romanian`,\n\t},\n\t{\n\t\tcode: `RUSS`,\n\t\tname: `Russian`,\n\t},\n\t{\n\t\tcode: `SAMOA`,\n\t\tname: `Samoan`,\n\t},\n\t{\n\t\tcode: `SC ED`,\n\t\tname: `Secondary Education`,\n\t},\n\t{\n\t\tcode: `SCAND`,\n\t\tname: `Scandinavian Studies`,\n\t},\n\t{\n\t\tcode: `SFL`,\n\t\tname: `School of Family Life`,\n\t},\n\t{\n\t\tcode: `SLAT`,\n\t\tname: `Second Language Teaching`,\n\t},\n\t{\n\t\tcode: `SLOVK`,\n\t\tname: `Slovak`,\n\t},\n\t{\n\t\tcode: `SOC`,\n\t\tname: `Sociology`,\n\t},\n\t{\n\t\tcode: `SOC W`,\n\t\tname: `Social Work`,\n\t},\n\t{\n\t\tcode: `SPAN`,\n\t\tname: `Spanish`,\n\t},\n\t{\n\t\tcode: `STAC`,\n\t\tname: `Student Activities`,\n\t},\n\t{\n\t\tcode: `STAT`,\n\t\tname: `Statistics`,\n\t},\n\t{\n\t\tcode: `STDEV`,\n\t\tname: `Student Development`,\n\t},\n\t{\n\t\tcode: `STRAT`,\n\t\tname: `Strategic Management`,\n\t},\n\t{\n\t\tcode: `SWAHI`,\n\t\tname: `Swahili`,\n\t},\n\t{\n\t\tcode: `SWED`,\n\t\tname: `Swedish`,\n\t},\n\t{\n\t\tcode: `SWELL`,\n\t\tname: `Student Wellness`,\n\t},\n\t{\n\t\tcode: `T ED`,\n\t\tname: `Teacher Education`,\n\t},\n\t{\n\t\tcode: `TAGAL`,\n\t\tname: `Tagalog`,\n\t},\n\t{\n\t\tcode: `TAHTN`,\n\t\tname: `Tahitian`,\n\t},\n\t{\n\t\tcode: `TECH`,\n\t\tname: `Technology`,\n\t},\n\t{\n\t\tcode: `TEE`,\n\t\tname: `Technology and Engineering Education`,\n\t},\n\t{\n\t\tcode: `TELL`,\n\t\tname: `Teaching English Language Learners`,\n\t},\n\t{\n\t\tcode: `TES`,\n\t\tname: `Technology and Engineering Studies`,\n\t},\n\t{\n\t\tcode: `TEST`,\n\t\tname: `Test`,\n\t},\n\t{\n\t\tcode: `THAI`,\n\t\tname: `Thai`,\n\t},\n\t{\n\t\tcode: `TMA`,\n\t\tname: `Theatre and Media Arts`,\n\t},\n\t{\n\t\tcode: `TONGA`,\n\t\tname: `Tongan`,\n\t},\n\t{\n\t\tcode: `TRM`,\n\t\tname: `Therapeutic Recreation and Management`,\n\t},\n\t{\n\t\tcode: `TURK`,\n\t\tname: `Turkish`,\n\t},\n\t{\n\t\tcode: `UNIV`,\n\t\tname: `University Requirements`,\n\t},\n\t{\n\t\tcode: `VIET`,\n\t\tname: `Vietnamese`,\n\t},\n\t{\n\t\tcode: `WELSH`,\n\t\tname: `Welsh`,\n\t},\n\t{\n\t\tcode: `WRTG`,\n\t\tname: `Writing`,\n\t},\n]","import React, { PureComponent } from 'react'\n\nimport Style, { Search, DepartmentSelect, CatalogInput, SectionInput, AddButton } from './styles'\n\nimport { PermissionTable } from 'components/bits'\n\nimport { departments } from 'lib/util'\n\nexport class CollectionPermissions extends PureComponent {\n\trender() {\n\n\t\tconst {\n\t\t\tviewstate,\n\t\t\thandlers,\n\t\t} = this.props\n\n\t\tconst {\n\t\t\troles,\n\t\t\tstate,\n\t\t} = viewstate\n\n\t\tconst {\n\t\t\tdepartment,\n\t\t\tcatalog,\n\t\t\tsection,\n\t\t\tdisabled,\n\t\t\ttaFaculty,\n\t\t\texception,\n\t\t} = state\n\n\t\tconst {\n\t\t\tadmins = [],\n\t\t\tcourses = [],\n\t\t\texceptions = [],\n\t\t} = roles\n\n\t\tconst reducedCourses = courses.map(item => ({\n\t\t\tid: item.id,\n\t\t\tDepartment: item.department,\n\t\t\tCatalog: item.catalogNumber,\n\t\t\tSection: item.sectionNumber,\n\t\t}))\n\n\t\tconst reducedAdmins = admins.map(item => ({\n\t\t\tid: item.id,\n\t\t\tName: item.name,\n\t\t\tNetID: item.username,\n\t\t\tEmail: item.email,\n\t\t}))\n\n\t\tconst reducedExceptions = exceptions.map(item => ({\n\t\t\tid: item.id,\n\t\t\tName: item.name,\n\t\t\tNetID: item.username,\n\t\t\tEmail: item.email,\n\t\t}))\n\n\t\treturn (\n\t\t\t<Style>\n\n\t\t\t\t<h4>Courses</h4>\n\n\t\t\t\t<form onSubmit={handlers.addCourse}>\n\t\t\t\t\t<DepartmentSelect value={department} onChange={handlers.handleDepartmentChange}>\n\t\t\t\t\t\t<option value='*' disabled>Select Department</option>\n\t\t\t\t\t\t{departments.map((item, index) =>\n\t\t\t\t\t\t\t<option value={item.code} key={index}>\n\t\t\t\t\t\t\t\t{`${item.code} - ${item.name}`}\n\t\t\t\t\t\t\t</option>,\n\t\t\t\t\t\t)}\n\t\t\t\t\t</DepartmentSelect>\n\t\t\t\t\t<CatalogInput min='0' onChange={handlers.handleCatalogChange} value={catalog} placeholder='Enter Catalog Number' disabled={disabled.catalog} />\n\t\t\t\t\t<SectionInput min='0' onChange={handlers.handleSectionChange} value={section} placeholder='Enter Section Number' disabled={disabled.section} />\n\t\t\t\t\t<AddButton type='submit' disabled={disabled.submit}>Add</AddButton>\n\t\t\t\t</form>\n\n\t\t\t\t<PermissionTable placeholder={`Enter courseID`} data={reducedCourses} removeFunc={handlers.removeCourse} />\n\n\t\t\t\t<h4>TA / Faculty</h4>\n\n\t\t\t\t<Search onSubmit={handlers.addTaFaculty}>\n\t\t\t\t\t<input type='search' placeholder={`Enter netID`} onChange={handlers.handleTaFacultyChange} value={taFaculty} />\n\t\t\t\t\t<AddButton type='submit' disabled={disabled.taFaculty}>Add</AddButton>\n\t\t\t\t</Search>\n\n\t\t\t\t<PermissionTable data={reducedAdmins} removeFunc={handlers.removeFaculty} />\n\n\t\t\t\t<h4>Audit Exceptions</h4>\n\n\t\t\t\t<Search onSubmit={handlers.addException}>\n\t\t\t\t\t<input type='search' placeholder={`Enter netID`} onChange={handlers.handleExceptionChange} value={exception} />\n\t\t\t\t\t<AddButton type='submit' disabled={disabled.exception}>Add</AddButton>\n\t\t\t\t</Search>\n\n\t\t\t\t<PermissionTable data={reducedExceptions} removeFunc={handlers.removeException} />\n\n\t\t\t</Style>\n\t\t)\n\t}\n}\n\nexport default CollectionPermissions\n","import styled from 'styled-components'\n\nimport blockView from 'assets/block-view.svg'\nimport listView from 'assets/list-view.svg'\n\nconst Style = styled.div`\nmax-width: 100rem;\n\npadding: 8.4rem 2.4rem 0 2.4rem;\nmargin: 0 auto;\n\n& header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 2rem;\n\n\t& > div {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\n\t\t& > h3 {\n\t\t\tfont-weight: bold;\n\t\t\tfont-size: 1.2rem;\n\t\t}\n\n\t\t& a {\n\t\t\tfont-weight: 300;\n\t\t\tfont-size: 1.2rem;\n\t\t\ttext-decoration: none;\n\t\t\tcolor: #000;\n\t\t}\n\n\t\t& > button {\n\t\t}\n\t}\n}\n`\n\nexport default Style\n\nexport const ViewToggle = styled.button`\n\tbackground: url(${props => props.displayBlocks ? listView : blockView}) center no-repeat;\n\tbackground-size: cover;\n\tborder: none;\n\theight: 1.5rem;\n\twidth: 1.5rem;\n\tmargin-left: 5rem;\n\toutline: none;\n\tcursor: pointer;\n`\n","import React, { PureComponent } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport {\n\tListCollection,\n\tBlockCollection,\n} from 'components/bits'\n\nimport Style, { ViewToggle } from './styles'\n\nexport default class Collections extends PureComponent {\n\n\trender() {\n\n\t\tconst {\n\t\t\tisProf,\n\t\t\tisAdmin,\n\t\t\tdisplayBlocks,\n\t\t\tcollections,\n\t\t\tcontentIds,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\ttoggleCollectionsDisplay,\n\t\t} = this.props.handlers\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<header>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3>Collections</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t(isProf || isAdmin) &&\n\t\t\t\t\t\t\t<Link to={`/manager`} >Manage Collections</Link>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<ViewToggle displayBlocks={displayBlocks} onClick={toggleCollectionsDisplay} />\n\t\t\t\t\t</div>\n\t\t\t\t</header>\n\t\t\t\t<div className='list'>\n\t\t\t\t\t{displayBlocks ?\n\t\t\t\t\t\tObject.keys(collections).map(key => <BlockCollection key={key} collection={collections[key]} contentIds={contentIds} />)\n\t\t\t\t\t\t:\n\t\t\t\t\t\tObject.keys(collections).map(key => <ListCollection key={key} collection={collections[key]} contentIds={contentIds} />)\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</Style>\n\t\t)\n\t}\n}","import styled, { keyframes } from 'styled-components'\n\nimport translation from 'assets/translation.svg'\nimport captions from 'assets/captions.svg'\nimport annotations from 'assets/annotations.svg'\n\nconst Style = styled.div`\n\tpadding: 2rem;\n`\n\nexport default Style\n\nconst shimmer = keyframes`\n\t0% {\n\t\tbackground-position: -30rem 0;\n\t}\n\t100% {\n\t\tbackground-position: 30rem 0;\n\t}\n`\n\nexport const Preview = styled.div`\n\n\tdisplay: flex;\n\n\t& > div:nth-child(1) {\n\t\tmin-width: 14rem;\n\t}\n\n\t& > div:nth-child(2) {\n\n\t\tflex: 1;\n\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-between;\n\n\t\t& > h4 {\n\t\t\tfont-weight: normal;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t& ul {\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: repeat(3, 2rem);\n\t\t\tgrid-gap: .5rem;\n\t\t}\n\n\t\t& em {\n\t\t\tfont-weight: lighter;\n\t\t}\n\t}\n\n\t& > div:nth-child(3) {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t}\n`\n\nexport const EditButton = styled.button`\n\tbackground: transparent;\n\tborder: none;\n\tcolor: #0582CA;\n\toutline: none;\n\theight: fit-content;\n\tcursor: pointer;\n`\n\nexport const Icon = styled.li`\n\twidth: 2rem;\n\theight: 2rem;\n\tbackground-size: contain;\n\tlist-style: none;\n\n\t&.translation {\n\t\tbackground: url(${translation}) center no-repeat;\n\t\tdisplay: ${props => props.checked ? `block` : `none`};\n\t}\n\n\t&.captions {\n\t\tbackground: url(${captions}) center no-repeat;\n\t\tdisplay: ${props => props.checked ? `block` : `none`};\n\t}\n\n\t&.annotations {\n\t\tbackground: url(${annotations}) center no-repeat;\n\t\tdisplay: ${props => props.checked ? `block` : `none`};\n\t}\n`\n\nexport const Placeholder = styled.div`\n\twidth: 10rem;\n\theight: 6.1rem;\n\tbackground-color: #eee;\n\tbackground-image: linear-gradient(to right, #eee 0%, #fff 50%, #eee 100%);\n\tbackground-repeat: no-repeat;\n\n\tanimation: ${shimmer} 2s linear infinite;\n\tanimation-fill-mode: forwards;\n`\n\nexport const Thumbnail = styled.div`\n\twidth: 10rem;\n\theight: 6.1rem;\n\tbackground-color: #eee;\n\tbackground-size: no-repeat;\n\tbackground-size: cover;\n\tbackground-image: url(${props => props.src});\n`\n\nexport const TitleEdit = styled.input`\n\tposition: relative;\n\ttop: -.3rem;\n\tleft: -.2rem;\n\tmargin-bottom: -.6rem;\n`\n\nexport const PublishButton = styled.button`\n\tcolor: ${props => props.published ? `#FFBF00` : `#0582CA`};\n\tfont-weight: bold;\n\tline-height: 1.5rem;\n\tletter-spacing: .05rem;\n\n\tbackground: transparent;\n\twidth: fit-content;\n\n\tborder: none;\n\tpadding: 0;\n\n\tcursor: pointer;\n\toutline: none;\n`\n\nexport const RemoveButton = styled.button`\n\tcolor: #ff4c4c;\n\tfont-weight: bold;\n\tline-height: 1.5rem;\n\tletter-spacing: .05rem;\n\n\tbackground: transparent;\n\twidth: fit-content;\n\n\tborder: none;\n\tpadding-left: 20px;\n\n\tcursor: pointer;\n\toutline: none;\n`\n","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\n\nimport { resourceService, contentService } from 'services'\n\nimport {\n\tContentSettingsContainer,\n} from 'containers'\n\nimport { LazyImage } from 'components/bits'\n\nimport Style, {\n\tEditButton,\n\tIcon,\n\tPreview,\n\tPublishButton,\n\tRemoveButton,\n\tTitleEdit,\n} from './styles'\n\nclass ContentOverview extends PureComponent {\n\trender() {\n\n\t\tconsole.log(this.props)\n\t\tconsole.log('use effect')\n\n\t\tconst {\n\t\t\tediting,\n\t\t\tcontent,\n\t\t\tshowing,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\thandleNameChange,\n\t\t\thandleRemoveContent,\n\t\t\thandleToggleEdit,\n\t\t\thandleTogglePublish,\n\t\t\tsetContentState,\n\t\t\tsetShowing,\n\t\t} = this.props.handlers\n\n\t\tconst {\n\t\t\tallowDefinitions,\n\t\t\tshowCaptions,\n\t\t\tshowAnnotations,\n\t\t} = content.settings\n\n\t\t// const allowDefinitions = content['allow-definitions'] // <-- ?? -Matthew\n\n\t\tconst handlers = {\n\t\t\tsetContentState,\n\t\t\tsetShowing,\n\t\t}\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<Preview>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<LazyImage src={content.thumbnail} height='6.1rem' width='10rem' />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{editing ?\n\t\t\t\t\t\t\t<TitleEdit type='text' value={content.name} onChange={handleNameChange} />\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<h4>{content.name}</h4>}\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<Icon className='translation' checked={allowDefinitions} />\n\t\t\t\t\t\t\t<Icon className='captions' checked={showCaptions} />\n\t\t\t\t\t\t\t<Icon className='annotations' checked={showAnnotations} />\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t{editing ?\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<PublishButton published={content.published} onClick={handleTogglePublish}>{content.published ? `Unpublish` : `Publish`}</PublishButton>\n\t\t\t\t\t\t\t\t<RemoveButton onClick={handleRemoveContent}>Delete</RemoveButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<em>{content.published ? `Published` : `Unpublished`}</em>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<EditButton onClick={handleToggleEdit}>{editing ? `Save` : `Edit`}</EditButton>\n\t\t\t\t\t</div>\n\t\t\t\t</Preview>\n\t\t\t\t{editing &&\n\t\t\t\t\t<ContentSettingsContainer content={content} showing={showing} handlers={handlers} />\n\t\t\t\t}\n\t\t\t</Style>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tresourceCache: state.resourceCache,\n})\n\nconst mapDispatchToProps = {\n\tgetResources: resourceService.getResources,\n\tupdateContent: contentService.updateContent,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ContentOverview)\n","import styled from 'styled-components'\n\nconst Style = styled.div`\n\toverflow: hidden;\n\ttransition: max-height .5s ease-in-out;\n\theight: auto;\n\tmax-height: ${props => props.active ? `400px` : `0`};\n`\n\nexport default Style\n\nexport const InnerContainer = styled.div`\n\tdisplay: grid;\n\tgrid-gap: 2rem;\n\tgrid-template-columns: 1fr 1fr 2fr;\n\tpadding: 2rem 0;\n\t& .tags {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t}\n\t& .tag-input {\n\t\twidth: calc(100% - 4px);\n\t}\n`\n\nexport const Column = styled.div`\n\tmargin-right: 1rem;\n\t& > h4 {\n\t\talign-items: center;\n\t\tborder-bottom: 1px solid #c4c4c4;\n\t\tdisplay: grid;\n\t\tgrid-gap: 1rem;\n\t\tgrid-template-columns: 1fr 1.8rem;\n\t\tline-height: 2rem;\n\t\tmargin-bottom: 1rem;\n\t}\n\t& textarea {\n\t\twidth: 100%;\n\t}\n`\n\nexport const Setting = styled.div`\n\tdisplay: grid;\n\tgrid-gap: 1rem;\n\tgrid-template-columns: 1fr 1.8rem;\n\tjustify-content: space-between;\n\tmargin-bottom: .5rem;\n\t& > p {\n\t\tdisplay: block;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\twidth: inherit;\n\t}\n`\n\nexport const RatioList = styled.div`\n\tdisplay: flex;\n\n\t& > div {\n\t\tflex: 1;\n\t}\n\n\t& > div > label {\n\t\tcursor: pointer;\n\t\tdisplay: flex;\n\t\tmargin: .5rem 0;\n\t}\n`\n","import React, { PureComponent } from 'react'\n\nimport { SwitchToggle, AspectRadio, Tag, Spinner } from 'components/bits'\n\nimport Style, { InnerContainer, Column, Setting, RatioList } from './styles'\n\nexport class ContentSettings extends PureComponent {\n\n\trender() {\n\n\t\tconst {\n\t\t\tshowing,\n\t\t\tcontent,\n\t\t\ttag,\n\t\t\tloading,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\tallowDefinitions,\n\t\t\tshowCaptions,\n\t\t\tshowAnnotations,\n\t\t\taspectRatio,\n\t\t\tshowWordList,\n\t\t} = content.settings\n\n\t\tconst {\n\t\t\tkeywords,\n\t\t\tdescription,\n\t\t} = content.resource\n\n\t\tconsole.log(content.resource)\n\n\t\tconst {\n\t\t\thandleToggle,\n\t\t\thandleDescription,\n\t\t\thandleRatio,\n\t\t\taddTag,\n\t\t\tremoveTag,\n\t\t\tchangeTag,\n\t\t} = this.props.handlers\n\n\t\tif (loading) return <Spinner/>\n\n\t\treturn (\n\t\t\t<Style active={showing}>\n\t\t\t\t<InnerContainer>\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<h4>General</h4>\n\t\t\t\t\t\t<Setting>\n\t\t\t\t\t\t\t<p>Allow automatic definitions</p>\n\t\t\t\t\t\t\t<SwitchToggle on={allowDefinitions} setToggle={handleToggle} data_key='allowDefinitions' />\n\t\t\t\t\t\t</Setting>\n\t\t\t\t\t\t<Setting>\n\t\t\t\t\t\t\t<p>Show Word List</p>\n\t\t\t\t\t\t\t<SwitchToggle on={showWordList} setToggle={handleToggle} data_key='showWordList' />\n\t\t\t\t\t\t</Setting>\n\t\t\t\t\t</Column>\n\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<h4>Tags</h4>\n\t\t\t\t\t\t<div className='tags'>\n\t\t\t\t\t\t\t{keywords.map((item, index) => item === `` ? null : <Tag key={index} onClick={removeTag}>{item}</Tag>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<form onSubmit={addTag}>\n\t\t\t\t\t\t\t<input type='text' placeholder='Add tags...' onChange={changeTag} value={tag} className='tag-input' />\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</Column>\n\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<h4>Description</h4>\n\t\t\t\t\t\t<textarea rows={4} onChange={handleDescription} value={description} />\n\t\t\t\t\t</Column>\n\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\tNotes\n\t\t\t\t\t\t\t<SwitchToggle on={showAnnotations} setToggle={handleToggle} data_key='showAnnotations' />\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t</Column>\n\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\tCaptions\n\t\t\t\t\t\t\t<SwitchToggle on={showCaptions} setToggle={handleToggle} data_key='showCaptions' />\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t</Column>\n\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<h4>Aspect Ratio</h4>\n\t\t\t\t\t\t<RatioList>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<AspectRadio id={0} ratio='1.33' onChange={handleRatio} contentId={content.id} selected={aspectRatio === `1.33`}>Standard</AspectRadio>\n\t\t\t\t\t\t\t\t<AspectRadio id={1} ratio='2.39' onChange={handleRatio} contentId={content.id} selected={aspectRatio === `2.39`}>Widescreen</AspectRadio>\n\t\t\t\t\t\t\t\t<AspectRadio id={2} ratio='1.66' onChange={handleRatio} contentId={content.id} selected={aspectRatio === `1.66`}>European Widescreen</AspectRadio>\n\t\t\t\t\t\t\t\t<AspectRadio id={3} ratio='1.85' onChange={handleRatio} contentId={content.id} selected={aspectRatio === `1.85`}>US Widescreen</AspectRadio>\n\t\t\t\t\t\t\t\t<AspectRadio id={4} ratio='1.4142' onChange={handleRatio} contentId={content.id} selected={aspectRatio === `1.4142`}>Lichtenberg</AspectRadio>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<AspectRadio id={5} ratio='1.5' onChange={handleRatio} contentId={content.id} selected={aspectRatio === `1.5`}>Classic Film</AspectRadio>\n\t\t\t\t\t\t\t\t<AspectRadio id={6} ratio='1.6' onChange={handleRatio} contentId={content.id} selected={aspectRatio === `1.6`}>Credit Card</AspectRadio>\n\t\t\t\t\t\t\t\t<AspectRadio id={7} ratio='1.77' onChange={handleRatio} contentId={content.id} selected={aspectRatio === `1.77`}>HD Video</AspectRadio>\n\t\t\t\t\t\t\t\t<AspectRadio id={8} ratio='1.618' onChange={handleRatio} contentId={content.id} selected={aspectRatio === `1.618`}>Golden</AspectRadio>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</RatioList>\n\t\t\t\t\t</Column>\n\t\t\t\t</InnerContainer>\n\t\t\t</Style>\n\t\t)\n\t}\n}\n\nexport default ContentSettings\n","import styled from 'styled-components'\n\nimport { Link } from 'react-router-dom'\n\nimport Background from 'assets/desertbackground.svg'\n\nexport const SError = styled.div`\n\twidth: 100%;\n\theight: 100vh;\n\tbackground: url(${Background});\n\tbackground-size: cover;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\n\t&>h1 {\n\t\tfont-size: 28.8rem;\n\t\tcolor: white;\n\t\ttext-shadow: 0 0 15px rgba(255,255,255,1);\n\t\tfont-weight: normal;\n\t\tmargin-top: 10rem;\n\t\tmargin-bottom: 17rem;\n\t\tuser-select: none;\n\t}\n\n\t&>h2 {\n\t\tfont-weight: bold;\n\t\tfont-size: 6.4rem;\n\t\tcolor: white;\n\t\ttext-shadow: 0 0 15px rgba(255,255,255,1);\n\t\tuser-select: none;\n\t}\n`\n\nexport const SLink = styled(Link)`\n\tpadding: 1.5rem;\n\tborder: 2px solid white;\n\tborder-radius: 10rem;\n\tcolor: white !important;\n\ttext-shadow: 0 0 15px rgba(255,255,255,1);\n\tfont-family: 'Roboto Mono';\n\tfont-weight: bold;\n\tfont-size: 1.8rem;\n\ttext-decoration: none;\n\tcursor: pointer;\n\tmargin-top: 8rem;\n`","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\n\nimport { interfaceService } from 'services'\n\nimport { SError, SLink } from './styles'\n\nclass Error extends PureComponent {\n\tcomponentDidMount = () => {\n\t\tthis.props.setLost(true)\n\t\tthis.props.setHeaderBorder(false)\n\t}\n\n\tcomponentWillUnmount = () => {\n\t\tthis.props.setLost(false)\n\t\tthis.props.setHeaderBorder(true)\n\t}\n\n\trender() {\n\t\tconst { error, message } = this.props\n\t\treturn (\n\t\t\t<SError>\n\t\t\t\t<h1>{error}</h1>\n\t\t\t\t<h2>{message}</h2>\n\t\t\t\t<SLink to={`/`}>Go back home</SLink>\n\t\t\t</SError >\n\t\t)\n\t}\n}\n\nconst mapDispatchToProps = {\n\tsetLost: interfaceService.setLost,\n\tsetHeaderBorder: interfaceService.setHeaderBorder,\n}\n\nexport default connect(null, mapDispatchToProps)(Error)\n","import styled from 'styled-components'\n\nimport { Link } from 'react-router-dom'\n\nimport HexLogo from 'assets/hexborder.svg'\n\nexport const Wrapper = styled.div`\nheight: 8.4rem;\nwidth: 100%;\n/* box-shadow: 0 -.5rem 3rem 0 rgba(0,0,0,0.25); */\n/* padding: 0 2.4rem; */\ndisplay: flex;\nalign-items: center;\njustify-content: space-between;\n\nborder-bottom: ${props => props.border ? `1px solid #c4c4c4` : `none`};\n\nposition: fixed;\nbackground-color: ${props => props.lost ? `transparent` : `white`};\n\nz-index: 16;\n\n& > button {\n\tbackground-color: #0157b8;\n\tborder: none;\n\tcolor: white;\n\tpadding: 1rem;\n\tborder-radius: .3rem;\n\tmargin-right: 7.4rem;\n\tcursor: pointer;\n}\n`\n\nexport const LogoWrapper = styled(Link)`\n\tdisplay: flex;\n\talign-items: center;\n\n\ttext-decoration: none;\n\tcolor: black;\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-left: 2.4rem;\n`\n\nexport const Name = styled.h1`\n\tfont-family: 'Roboto Mono';\n\tfont-weight: bold;\n\tfont-size: 1.8rem;\n\tline-height: 2.1rem;\n\tmargin: 0 0 0 1.3rem;\n\n\tz-index: 2;\n\n\tbackground: linear-gradient(to right, #0582CA 0%, #002E5D 100%);\n\t-webkit-background-clip: text;\n\t-webkit-text-fill-color: transparent;\n`\n\nexport const Shadow = styled.h1`\n\tposition: absolute;\n\tz-index: 1;\n\n\tcolor: white;\n\n\tfont-family: 'Roboto Mono';\n\tfont-weight: bold;\n\tfont-size: 1.8rem;\n\tline-height: 2.1rem;\n\tmargin: 0 0 0 4.9rem;\n\n\ttext-shadow: -.125rem 0 white, 0 .125rem white, .125rem 0 white, 0 -.125rem white, -.125rem .125rem white, .125rem .125rem white, .125rem -.125rem white, -.125rem -.125rem white;\n`\n\nexport const Logo = styled.div`\n\tbackground: url(${HexLogo}) no-repeat center;\n\tbackground-size: contain;\n\theight: 3.6rem;\n\twidth: 3.6rem;\n`","import React, { PureComponent } from 'react'\n\nimport { Wrapper, LogoWrapper, Name, Shadow, Logo} from './styles'\n\nexport default class Header extends PureComponent {\n\trender() {\n\n\t\tconst {\n\t\t\tlost,\n\t\t\tborder,\n\t\t} = this.props.viewstate\n\n\t\treturn (\n\t\t\t<Wrapper lost={lost} border={border}>\n\t\t\t\t<LogoWrapper to='/'>\n\t\t\t\t\t<Logo />\n\t\t\t\t\t<Name>YVIDEO</Name>\n\t\t\t\t\t<Shadow>YVIDEO</Shadow>\n\t\t\t\t</LogoWrapper>\n\t\t\t</Wrapper>\n\t\t)\n\t}\n}\n","import styled from 'styled-components'\n\nimport searchIcon from 'assets/search.svg'\n\nconst Style = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\theight: calc(100vh - 8.4rem);\n\tbackground-color: #fafafa;\n\tpadding-top: 8.4rem;\n\n\t& > div {\n\t\tdisplay: flex;\n\t}\n\n\t& > h1 {\n\t\tmargin: 5rem 0 4rem 0;\n\t\tfont-weight: normal;\n\t}\n`\n\nexport default Style\n\nexport const Search = styled.form`\n\tposition: relative;\n\n\t& > input {\n\t\tz-index: 1;\n\t\tbackground: white;\n\n\t\theight: 4rem;\n\t\twidth: 30rem;\n\n\t\tfont-size: 1.5rem;\n\n\t\tborder: none;\n\t\tborder-radius: 2rem;\n\n\t\tmargin-left: 1rem;\n\n\t\tpadding: 0 1.25rem 0 3.25rem;\n\n\t\toutline: none;\n\t\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\t}\n`\n\nexport const SearchIcon = styled.span`\n\tposition: absolute;\n\tz-index: 10;\n\ttop: 1rem;\n\tleft: 2rem;\n\tbackground: url(${searchIcon}) center no-repeat;\n\tbackground-size: contain;\n\theight: 2rem;\n\twidth: 2rem;\n`\n","import React, { PureComponent } from 'react'\n\nimport { LabAssistantTable } from 'components/bits'\n\nimport Style, { Search, SearchIcon } from './styles'\n\nexport class LabAssistant extends PureComponent {\n\trender() {\n\n\t\tconst {\n\t\t\tdata,\n\t\t\tplaceholder,\n\t\t\tsearchQuery,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\tupdateSearchBar,\n\t\t\thandleSubmit,\n\t\t} = this.props.handlers\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<h1>Lab Assistant Dashboard</h1>\n\t\t\t\t<Search onSubmit={handleSubmit}>\n\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t<input type='search' placeholder={placeholder} onChange={updateSearchBar} value={searchQuery} />\n\t\t\t\t</Search>\n\t\t\t\t<LabAssistantTable data={data} />\n\t\t\t</Style>\n\t\t)\n\t}\n}\n\nexport default LabAssistant\n","import styled from 'styled-components'\n\nimport LComets from 'assets/CometsLeft.svg'\nimport RComets from 'assets/CometsRight.svg'\nimport HexLogo from 'assets/hexborder.svg'\n\nexport const Wrapper = styled.div`\n\twidth: 100%;\n\theight: 100vh;\n\tdisplay: flex;\n`\n\nexport const Comets = styled.div`\n\tflex: 1;\n\theight: 100vh;\n\tmargin: 0;\n\tbackground-color: transparent;\n\n\t@media (max-width: 780px) {\n\t\tbackground-size: contain !important;\n\t}\n\n\t&.left{\n\t\tbackground: url(${LComets}) no-repeat bottom left;\n\t}\n\n\t&.right{\n\t\tbackground: url(${RComets}) no-repeat top right;\n\t}\n`\n\nexport const Welcome = styled.div`\n\tposition: fixed;\n\twidth: 100%;\n\theight: 100vh;\n\tbackground: transparent;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\n\t& > div {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\n\t\t& > h1 {\n\t\t\tfont-family: 'Roboto Mono';\n\t\t\tfont-size: 4.8rem;\n\t\t\tmargin: 0 0 0 2rem;\n\t\t\theight: 4.8rem;\n\t\t\tline-height: 4.8rem;\n\n\t\t\tbackground: linear-gradient(to right, #0582CA 0%, #002E5D 100%);\n\t\t\tbackground-clip: text;\n\t\t\t-webkit-background-clip: text;\n\t\t\t-webkit-text-fill-color: transparent;\n\t\t}\n\n\t\t&.button-wrapper {\n\t\t\tflex-direction: column;\n\t\t\tmargin-top: 8rem;\n\t\t}\n\t}\n`\n\nexport const Logo = styled.div`\n\tbackground: url(${HexLogo}) no-repeat center;\n\tbackground-size: contain;\n\theight: 10rem;\n\twidth: 10rem;\n`\n\nexport const Button = styled.button`\n\tfont-family: 'Roboto Mono';\n\tfont-weight: bold;\n\tfont-size: 2.4rem;\n\tpadding: 1.5rem 10rem;\n\tborder-radius: 100rem;\n\tborder: none;\n\ttext-transform: uppercase;\n\ttext-decoration: none;\n\tmargin: 0 0 2.6rem 0;\n\tcursor: pointer;\n\toutline: none;\n\n\t&.primary {\n\t\tbackground-color: #0582CA;\n\t\tcolor: white;\n\t}\n\n\t&.secondary {\n\t\tbackground-color: transparent;\n\t\tcolor: #0582CA;\n\t}\n`\n","import React, { PureComponent } from 'react'\n\nimport { Overlay } from 'components'\n\nimport { Wrapper, Comets, Welcome, Logo, Button } from './styles'\n\nclass Landing extends PureComponent {\n\trender() {\n\n\t\tconst {\n\t\t\toverlay,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\ttoggleOverlay,\n\t\t\thandleLogin,\n\t\t} = this.props.handlers\n\n\t\treturn (\n\t\t\t<Wrapper>\n\t\t\t\t<Comets className='left' />\n\t\t\t\t<Comets className='right' />\n\n\t\t\t\t<Welcome>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Logo />\n\t\t\t\t\t\t<h1>YVIDEO</h1>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='button-wrapper'>\n\t\t\t\t\t\t<Button className='primary' onClick={handleLogin}>Sign In</Button>\n\t\t\t\t\t\t<Button className='secondary' onClick={toggleOverlay}>About</Button>\n\t\t\t\t\t</div>\n\n\t\t\t\t</Welcome>\n\n\t\t\t\t{ overlay && <Overlay toggleOverlay={toggleOverlay} /> }\n\n\t\t\t</Wrapper>\n\t\t)\n\t}\n}\n\nexport default Landing\n","import styled, { keyframes } from 'styled-components'\nimport logo from 'assets/hexborder.svg'\n\nconst fadein = keyframes`\nfrom {\n\topacity: 0;\n}\nto {\n\topacity: 1;\n}\n`\n\nconst fadeout = keyframes`\nfrom {\n\topacity: 1;\n}\nto {\n\topacity: 0;\n}\n`\n\nexport const Wrapper = styled.div`\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100vh;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\tbackground-color: white;\n\n\tz-index: 50;\n\n\topacity: 0;\n\tanimation: ${fadeout} .25s ease-in-out;\n\n\t&.active {\n\t\topacity: 1;\n\t\tanimation: ${fadein} .01s;\n\t}\n\n\t&.hidden {\n\t\tdisplay: none;\n\t}\n`\n\nconst rotate = keyframes`\n\tfrom {\n\t\ttransform: rotate(0deg);\n\t}\n\tto {\n\t\ttransform: rotate(720deg);\n\t}\n`\n\nexport const Spinner = styled.div`\n\tbackground: url(${logo}) center no-repeat;\n\tbackground-size: cover;\n\twidth: 20rem;\n\theight: 20rem;\n\n\tanimation: ${rotate} 2.5s ease-in-out infinite;\n`","import React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { Wrapper, Spinner } from './styles'\n\nclass Load extends Component {\n\n\trender() {\n\t\treturn ReactDOM.createPortal(\n\t\t\t(\n\t\t\t\t<Wrapper ref={this.wrapper} className='hidden'>\n\t\t\t\t\t<Spinner />\n\t\t\t\t</Wrapper>\n\t\t\t),\n\t\t\tdocument.getElementById(`load`)\n\t\t)\n\t}\n\n\tcomponentDidUpdate = prevProps => {\n\n\n\t\tif(this.wrapper !== undefined){\n\n\t\t\tif (!this.wrapper.current) return\n\n\t\t\tif (!prevProps.loading && this.props.loading) {\n\t\t\tthis.wrapper.current.classList.add(`active`)\n\t\t\tthis.wrapper.current.classList.remove(`hidden`)\n\t\t\t}\n\n\t\t\tif (prevProps.loading && !this.props.loading) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.wrapper.current.classList.remove(`active`)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.wrapper.current.classList.add(`hidden`)\n\t\t\t\t\t}, 250)\n\t\t\t\t}, 1000)\n\t\t\t}\n\t\t}\n\t}\n\n}\n\nexport default Load","import styled from 'styled-components'\n\nconst Style = styled.div`\n  & > header {\n    height: 12rem;\n    padding: 0 3.8rem;\n\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    & h6 {\n      font-size: 1.8rem;\n      font-weight: bold;\n    }\n\n    & p {\n      color: #a4a4a4;\n      margin-top: 1.7rem;\n    }\n  }\n`\n\nexport default Style\n\nexport const Title = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nexport const TitleEdit = styled.input`\n  margin-left: -0.3rem;\n  font-size: 1.8rem;\n  font-weight: bold;\n`\n\nexport const TitleEditButton = styled.div`\n  color: ${props => props.editing ? `#0582CA` : `#a4a4a4;`};\n  font-weight: bold;\n  cursor: pointer;\n  margin-top: 0;\n  margin-left: 1rem;\n`\n\nexport const PublishButton = styled.button`\n  color: white;\n  font-weight: bold;\n  background-color: ${props => props.published ? `#FFBF00` : `#0582CA`};\n\n  letter-spacing: 0.05rem;\n\n  padding: 0.8rem 1.5rem;\n  margin-right: 3rem;\n\n  border: none;\n  border-radius: 0.3rem;\n\n  cursor: pointer;\n  outline: none;\n`\n\nexport const ArchiveButton = styled.button`\n  color: #ff4c4c;\n  font-weight: bold;\n\n  letter-spacing: 0.05rem;\n\n  padding: 0;\n  background: transparent;\n\n  border: none;\n  cursor: pointer;\n  outline: none;\n`\n\nexport const Tab = styled.div`\n  background-color: #fafafa;\n  overflow-y: scroll;\n\n  border-top: 1px solid #c4c4c4;\n\n  padding: 2rem;\n\n  height: calc(100vh - 24.6rem);\n`\n\nexport const TabHeader = styled.div`\n  position: absolute;\n  top: 18rem;\n\n  padding-left: 2rem;\n\n  height: 2.5rem;\n\n  & > button {\n    padding: 0;\n    width: 10rem;\n    background: transparent;\n    height: 2.5rem;\n\n    border: none;\n    outline: none;\n    cursor: pointer;\n  }\n`\n\nexport const Selector = styled.div`\n  position: absolute;\n\n  bottom: 0;\n  left: ${props => props.isContent ? `2rem` : `12rem`};\n\n  transition: left 0.3s ease-in-out;\n\n  height: 0.25rem;\n  width: 10rem;\n\n  background-color: #0582ca;\n`\n\nexport const NewContent = styled.button`\n  width: calc(100% - 4rem);\n  height: 6.1rem;\n\n  margin: 2rem;\n\n  border: none;\n  border-radius: 0.3rem;\n\n  background-color: #eee;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  outline: none;\n  cursor: pointer;\n`\n\nexport const Icon = styled.div`\n  background: url(${props => props.src}) center no-repeat;\n  background-size: contain;\n\n  height: 2rem;\n  width: 2rem;\n`\n","import React, { PureComponent } from 'react'\n\nimport {\n\tContentOverviewContainer,\n\tCollectionPermissionsContainer,\n} from 'containers'\n\nimport Style, {\n\tTitle,\n\tTitleEdit,\n\tTitleEditButton,\n\tPublishButton,\n\tArchiveButton,\n\tTabHeader,\n\tSelector,\n\tTab,\n\tNewContent,\n\tIcon,\n} from './styles'\n\nimport plus from 'assets/plus_gray.svg'\n\nexport default class ManageCollection extends PureComponent {\n\trender() {\n\t\tconst {\n\t\t\tadmin,\n\t\t\tcollection,\n\t\t\tcollectionName,\n\t\t\tisEditingCollectionName,\n\t\t\tisContent,\n\t\t\tcontent,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\tunarchive,\n\t\t\ttoggleEdit,\n\t\t\thandleNameChange,\n\t\t\ttogglePublish,\n\t\t\tarchive,\n\t\t\tsetTab,\n\t\t\tcreateContent,\n\t\t} = this.props.handlers\n\n\t\tconsole.log(admin)\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<header>\n\t\t\t\t\t<Title>\n\t\t\t\t\t\t{isEditingCollectionName ? (\n\t\t\t\t\t\t\t// TODO When switching between collections, it uses the same value\n\t\t\t\t\t\t\t<TitleEdit\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tvalue={collectionName}\n\t\t\t\t\t\t\t\tcontenteditable='true'\n\t\t\t\t\t\t\t\tonChange={handleNameChange}\n\t\t\t\t\t\t\t\tonKeyPress={event => {\n\t\t\t\t\t\t\t\t\tif (event.key === `Enter`) toggleEdit()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tsize={collectionName.length > 0 ? collectionName.length : 1}\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<h6 onClick={toggleEdit}>{collection.name}</h6>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<TitleEditButton\n\t\t\t\t\t\t\tediting={isEditingCollectionName}\n\t\t\t\t\t\t\tonClick={toggleEdit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{isEditingCollectionName ? `Save` : `Edit`}\n\t\t\t\t\t\t</TitleEditButton>\n\t\t\t\t\t</Title>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{collection.archived ? (\n\t\t\t\t\t\t\t<>{admin[0] === `admin` || admin[0] === `professor` ? (\n\t\t\t\t\t\t\t\t<ArchiveButton onClick={unarchive}>Unarchive</ArchiveButton>\n\t\t\t\t\t\t\t) : ( <p>Cannot unarchive</p> )}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<PublishButton\n\t\t\t\t\t\t\t\t\tpublished={collection.published}\n\t\t\t\t\t\t\t\t\tonClick={togglePublish}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{collection.published ? `Unpublish` : `Publish`}\n\t\t\t\t\t\t\t\t</PublishButton>\n\t\t\t\t\t\t\t\t<ArchiveButton onClick={archive}>Archive</ArchiveButton>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</header>\n\t\t\t\t<TabHeader>\n\t\t\t\t\t<button onClick={setTab(true)}>Content</button>\n\t\t\t\t\t<button onClick={setTab(false)}>Permissions</button>\n\t\t\t\t\t<Selector isContent={isContent} />\n\t\t\t\t</TabHeader>\n\t\t\t\t<Tab>\n\t\t\t\t\t{isContent ?\n\t\t\t\t\t\tcontent.map(item => (\n\t\t\t\t\t\t\t<ContentOverviewContainer key={item.id} content={item} />\n\t\t\t\t\t\t))\n\t\t\t\t\t\t: (\n\t\t\t\t\t\t\t<CollectionPermissionsContainer collection={collection} />\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t{isContent && (\n\t\t\t\t\t\t<NewContent onClick={createContent}>\n\t\t\t\t\t\t\t<Icon src={plus} />\n\t\t\t\t\t\t</NewContent>\n\t\t\t\t\t)}\n\t\t\t\t</Tab>\n\t\t\t</Style>\n\t\t)\n\t}\n}\n","import styled from 'styled-components'\n\nexport const Container = styled.div`\n\tpadding-top: 8.4rem;\n\tdisplay: flex;\n`\n\nexport const SideMenu = styled.div`\n\tflex: none;\n\n\tborder-right: 1px solid #c4c4c4;\n\twidth: 22rem;\n\tmin-height: calc(100vh - 14.4rem);\n\n\theight: 100%;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\tpadding: 3rem;\n\n\toverflow-y: scroll;\n\n\t& > h4 {\n\t\tpadding: .8rem 0;\n\t\tmargin-bottom: 1rem;\n\t}\n`\n\nexport const Body = styled.div`\n\tflex: auto;\n\theight: calc(100vh - 16rem);\n`\n\nexport const CreateButton = styled.button`\n\tpadding: 0;\n\n\tborder: none;\n\tbackground: transparent;\n\n\tfont-weight: normal;\n\tline-height: 3.7rem;\n\n\theight: 3.5rem;\n\n\tdisplay: flex;\n\talign-items: center;\n\n\toutline: none;\n\n\tcursor: pointer;\n`\n\nexport const Plus = styled.div`\n\theight: 1.7rem;\n\twidth: 1.7rem;\n\n\tmargin-right: 1rem;\n\n\tbackground: url(${props => props.src}) center no-repeat;\n\tbackground-size: contain;\n`\n\nexport const NoCollection = styled.div`\n\theight: 100%;\n\tfont-size: 2.4rem;\n\tcolor: #ccc;\n\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n`\n","import React, { PureComponent } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { LabAssistantManageCollectionContainer, ManageCollectionContainer } from 'containers'\n\nimport { Accordion } from 'components/bits'\n\nimport {\n\tBody,\n\tContainer,\n\tCreateButton,\n\tNoCollection,\n\tPlus,\n\tSideMenu,\n} from './styles'\n\nimport plus from 'assets/plus.svg'\n\nexport default class Manager extends PureComponent {\n\trender() {\n\n\t\tconst {\n\t\t\tadmin,\n\t\t\tcollection,\n\t\t\tpath,\n\t\t\tsideLists,\n\t\t\tuser,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\tcreateNew,\n\t\t} = this.props.handlers\n\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<SideMenu>\n\n\t\t\t\t\t<h4>{user ? `${user.name.endsWith(`s`) ? `${user.name}'` : `${user.name}'s`} Collections` : `My Collections`}</h4>\n\n\t\t\t\t\t<Accordion header={`Published`} active>\n\t\t\t\t\t\t{sideLists.published.map(({ id, name }, index) => <Link key={index} to={`/${path}/${id}`}>{name}</Link>)}\n\t\t\t\t\t</Accordion>\n\n\t\t\t\t\t<Accordion header={`Unpublished`} active>\n\t\t\t\t\t\t{sideLists.unpublished.map(({ id, name }, index) => <Link key={index} to={`/${path}/${id}`}>{name}</Link>)}\n\t\t\t\t\t</Accordion>\n\n\t\t\t\t\t{\n\t\t\t\t\t\tadmin && <Accordion header={`Archived`}>\n\t\t\t\t\t\t\t{sideLists.archived.map(({ id, name }, index) => <Link key={index} to={`/${path}/${id}`}>{name}</Link>)}\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t}\n\n\t\t\t\t\t<CreateButton onClick={createNew}><Plus src={plus} />Create New Collection</CreateButton>\n\n\t\t\t\t</SideMenu>\n\t\t\t\t<Body>\n\t\t\t\t\t{collection ?\n\t\t\t\t\t\tuser ?\n\t\t\t\t\t\t\t<LabAssistantManageCollectionContainer collection={collection} published={collection.published} archived={collection.archived} />\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<ManageCollectionContainer collection={collection} published={collection.published} archived={collection.archived} />\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<NoCollection>Select a Collection to get started.</NoCollection>}\n\t\t\t\t</Body>\n\t\t\t</Container>\n\t\t)\n\t}\n}","import styled from 'styled-components'\nimport { Link } from 'react-router-dom'\n\nexport const Wrapper = styled.div`\n\tposition: fixed;\n\ttop: 0;\n\tleft: 100%;\n\n\theight: 100vh;\n\twidth: 32rem;\n\n\tpadding: 2.4rem;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\tbackground-color: white;\n\n\tz-index: 32;\n\n\ttransition: all .4s ease-in-out;\n\n\t& > button:first-of-type {\n\t\tposition: relative;\n\t\tleft: -8.4rem;\n\t\ttransition: left .4s ease-in-out;\n\t}\n\n\t&.active {\n\t\tleft: calc(100% - 32rem);\n\t\tbox-shadow: 0 -.5rem 3rem 0 rgba(0,0,0,0.25);\n\n\t\t& > button:first-of-type {\n\t\t\tposition: relative;\n\t\t\tleft: 0;\n\t\t}\n\t}\n\n\t& > h4 {\n\t\tmargin-top: 2.4rem;\n\t\tfont-weight: 500;\n\t}\n\n\t& > hr {\n\t\tmargin: 1rem 0;\n\t\tborder: none;\n\t\tborder-top: 1px solid #c4c4c4;\n\t\tmax-width: 27rem;\n\t}\n`\n\nexport const LinkStyled = styled(Link)`\n\tmargin-bottom: 1rem;\n\n\ttext-decoration: none;\n\tfont-weight: 300;\n\n\tcolor: black;\n\n\tbackground: transparent;\n\tborder: none;\n`\n\nexport const Header = styled.h4`\n\ttext-transform: uppercase;\n\tfont-weight: 500;\n`\n\nexport const UserPic = styled.button`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\theight: 3.6rem;\n\twidth: 3.6rem;\n\n\tcolor: white;\n\tline-height: 1.9;\n\n\tborder: .125rem solid white;\n\tborder-radius: 50%;\n\n\toutline: none;\n\n\tfont-weight: 500;\n\tfont-size: 1.8rem;\n\n\tbackground: linear-gradient(to bottom, #0582CA 0%, #0157b8 100%);\n\n\tz-index: 18;\n\n\t:hover {\n\t\tcursor: pointer;\n\t}\n`\n\nexport const LogoutButton = styled.button`\n\tmargin-bottom: 1rem;\n\tpadding: 0;\n\n\twidth: fit-content;\n\n\ttext-decoration: none;\n\toutline: none;\n\tfont-weight: 300;\n\n\tcolor: #FF6161;\n\n\tbackground: transparent;\n\tborder: none;\n\n\tcursor: pointer;\n`\n","import React, { PureComponent } from 'react'\nimport { Wrapper, LinkStyled, Header, UserPic, LogoutButton } from './styles'\n\nclass Menu extends PureComponent {\n\trender() {\n\n\t\tconst {\n\t\t\tuser,\n\t\t\tinitials,\n\t\t\tmenuActive,\n\t\t\tisProf,\n\t\t\tisAdmin,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\ttoggleMenu,\n\t\t\thandleLogout,\n\t\t} = this.props.handlers\n\n\t\treturn (\n\t\t\t<Wrapper className={menuActive && `active`} onClick={toggleMenu}>\n\n\t\t\t\t<UserPic>{initials}</UserPic>\n\t\t\t\t<h4>{user.name}</h4>\n\n\t\t\t\t<hr />\n\n\t\t\t\t{/* <LinkStyled to='/word-list'>My Word List</LinkStyled> */}\n\n\t\t\t\t{\n\t\t\t\t\tisProf || isAdmin ||\n\t\t\t\t\t<LinkStyled to='/collections'>Collections</LinkStyled>\n\t\t\t\t}\n\n\t\t\t\t{\n\t\t\t\t\tisAdmin &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t<LinkStyled to='/admin'>Admin Dashboard</LinkStyled>\n\t\t\t\t\t\t<LinkStyled to='/lab-assistant'>Lab Assistant Dashboard</LinkStyled>\n\t\t\t\t\t</>\n\t\t\t\t}\n\n\t\t\t\t<LogoutButton onClick={handleLogout}>Sign Out</LogoutButton>\n\n\t\t\t\t{\n\t\t\t\t\t(isProf || isAdmin) &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Header>Collections</Header>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t<LinkStyled to='/'>View Collections</LinkStyled>\n\t\t\t\t\t\t<LinkStyled to='/manager'>Manage Collections</LinkStyled>\n\t\t\t\t\t\t<LinkStyled to={{ pathname: `/manager`, createCollection: true }}>Create New Collection</LinkStyled>\n\t\t\t\t\t</>\n\t\t\t\t}\n\n\t\t\t</Wrapper>\n\t\t)\n\t}\n}\n\nexport default Menu","import styled, { keyframes } from 'styled-components'\n\nconst fadeIn = keyframes`\n\t\tfrom {\n\t\t\topacity: 0;\n\t\t}\n\n\t\tto {\n\t\t\topacity: 1;\n\t\t}\n\t`,\n\n\tfadeOut = keyframes`\n\t\tfrom {\n\t\t\topacity: 1;\n\t\t}\n\n\t\tto {\n\t\t\topacity: 0;\n\t\t}\n\t`\n\nexport const Wrapper = styled.div`\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100vh;\n\n\tvisibility: ${props => props.out ? `hidden` : `visible`};\n\tanimation: ${props => props.out ? fadeOut : fadeIn} .25s linear;\n\ttransition: visibility .25s linear;\n\n\tbackground-color: rgba(0,0,0,0.25);\n\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\n\t& > div {\n\t\tbackground-color: white;\n\t\tbox-shadow: 0px .4rem .7rem -.1rem rgba(0,0,0,0.25);\n\n\t\tmin-width: 32rem;\n\t\twidth: auto;\n\t\tpadding: 6rem 15rem;\n\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: space-around;\n\n\t\t& > button {\n\t\t\tbackground: transparent;\n\t\t\tborder: none;\n\t\t\tfont-size: 18px;\n\t\t\tcolor: #0582CA;\n\t\t\tflex-basis: 100%;\n\t\t\tmargin-top: 5rem;\n\t\t\toutline: none;\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t& > div {\n\t\t\twidth: 27.5rem;\n\t\t\tpadding: 2rem;\n\n\t\t\t& > h3 {\n\t\t\t\tfont-weight: bold;\n\t\t\t\tfont-size: 1.8rem;\n\t\t\t\ttext-justify: center;\n\t\t\t\tmargin-bottom: 1.2rem;\n\t\t\t}\n\t\t}\n\t}\n`","import React, { PureComponent } from 'react'\nimport { Wrapper } from './styles'\n\nclass Overlay extends PureComponent {\n\n\tstate = {\n\t\tvisible: false,\n\t}\n\n\tcloseModal = e => {\n\t\te.preventDefault()\n\n\t\tthis.setState({\n\t\t\tvisible: false,\n\t\t})\n\n\t\tsetTimeout(() => {\n\t\t\tthis.props.toggleOverlay()\n\t\t}, 250)\n\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Wrapper visible={this.state.visible} out={!this.state.visible}>\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3>What is YVIDEO?</h3>\n\t\t\t\t\t\t<p>Y-Video is a web-based system for streaming video and audio content especially as it applies to learning a foreign language. It houses a collection of media all with the express purpose of helping you learn languages.</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3>Text Helps</h3>\n\t\t\t\t\t\t<p>Additional aids are available to be used in conjunction with the media, such as captions and annotations. A key feature of the site enables learners to directly interact with subtitle tracks to quickly access translations for foreign words and phrases and view relevant annotations.</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3>For School</h3>\n\t\t\t\t\t\t<p>Teachers or course designers are able to aggregate media into a single location and set up specific conditions in order to optimize the learning experience. Statistics and analytics are available to improve the learning experience.</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button onClick={this.closeModal}>close</button>\n\t\t\t\t</div>\n\t\t\t</Wrapper>\n\t\t)\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.setState({\n\t\t\tvisible: true,\n\t\t})\n\t}\n}\n\nexport default Overlay\n","class xApi {\n\tconstructor(course, user, ADL) {\n\t\tthis.course = course\n\t\tthis.user = user\n\t\tthis.ADL = ADL\n\t\t// this.page = course = user = {}\n\t\tthis.record = false\n\t\t// this.resourceName = ``\n\t\tthis.baseUri = `${window.location.origin}/`\n\t}\n\n\tsend = async args => {\n\t\tconst { record, user, baseUri, course } = this\n\n\t\tif (!record) return\n\n\t\t// create statement\n\t\t// Agent = User, Action = Verb, Activity = Content Object\n\t\t// const stmt = new ADL.XAPIStatement(new ADL.XAPIStatement.Agent(`mailto:${user.email ? user.email : `placeholder@some.org`}`, user.name),\n\t\t// new ADL.XAPIStatement.Verb(baseUri + args.verb, args.verb),\n\t\t// new ADL.XAPIStatement.Activity(page.name, resourceName))\n\n\t\t// stmt.timestamp = (new Date()).toISOString()\n\n\t\t// if (args.type) stmt.object.definition.extensions = args.type\n\n\t\t// some universal xApi extensions that should be included in each request\n\t\tif (args.extensions) {\n\t\t\targs.extensions[`${baseUri}contextId`] = course.id || -1\n\t\t\targs.extensions[`${baseUri}authScheme`] = user.authScheme\n\t\t\t// stmt.object.definition.extensions = args.extensions\n\t\t}\n\n\t\t// send statement and log response\n\t\t// await ADL.XAPIWrapper.sendStatement(stmt, (resp, obj) => {\n\t\t// console.log(`[${obj.id}]: ${resp.status} - ${resp.statusText}`)\n\t\t// })\n\t}\n\n\tpageLoad = () => {\n\t\tthis.send({ verb: `started`, extensions: {} })\n\t}\n\n\tended = time => {\n\t\tthis.send({\n\t\t\tverb: `ended`,\n\t\t\ttype: `${this.baseUri}mediaPlayer`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t},\n\t\t})\n\t}\n\n\tplayClick = time => {\n\t\tthis.send({\n\t\t\tverb: `played`,\n\t\t\ttype: `${this.baseUri}mediaPlayer`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t},\n\t\t})\n\t}\n\n\tpauseClick = time => {\n\t\tthis.send({\n\t\t\tverb: `paused`,\n\t\t\ttype: `${this.baseUri}mediaPlayer`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t},\n\t\t})\n\t}\n\n\trateChange = (time, rate) => {\n\t\tthis.send({\n\t\t\tverb: `changed_playrate`,\n\t\t\ttype: `${this.baseUri}mediaPlayer`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t\t[`${this.baseUri}playRate`]: rate,\n\t\t\t},\n\t\t})\n\t}\n\n\tvolumeChange = (time, volume) => {\n\t\tthis.send({\n\t\t\tverb: `changed_volume`,\n\t\t\ttype: `${this.baseUri}mediaPlayer`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t\t[`${this.baseUri}volume`]: volume,\n\t\t\t},\n\t\t})\n\t}\n\n\ttimeJump = (oldTime, newTime) => {\n\t\tthis.send({\n\t\t\tverb: `jumped`,\n\t\t\ttype: `${this.baseUri}mediaPlayer`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}oldTime`]: oldTime,\n\t\t\t\t[`${this.baseUri}newTime`]: newTime,\n\t\t\t},\n\t\t})\n\t}\n\n\trepeatCaption = time => {\n\t\tthis.send({\n\t\t\tverb: `repeated_caption`,\n\t\t\ttype: `${this.baseUri}mediaPlayer`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t},\n\t\t})\n\t}\n\n\ttranscriptCueClick = (captionTrackId, cueNumber, time) => {\n\t\tthis.send({\n\t\t\tverb: `clicked_transcript_cue`,\n\t\t\ttype: `${this.baseUri}transcription`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t\t[`${this.baseUri}cueNumber`]: cueNumber,\n\t\t\t\t[`${this.baseUri}captionTrackId`]: captionTrackId,\n\t\t\t},\n\t\t})\n\t}\n\n\tcaptionTranslation = (captionTrackId, text, time) => {\n\t\tthis.send({\n\t\t\tverb: `translated_word`,\n\t\t\ttype: `${this.baseUri}caption`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t\t[`${this.baseUri}captionTrackId`]: captionTrackId,\n\t\t\t\t[`${this.baseUri}text`]: `\"${text}\"`,\n\t\t\t},\n\t\t})\n\t}\n\n\ttranscriptionTranslation = (captionTrackId, cueNumber, text, time) => {\n\t\tthis.send({\n\t\t\tverb: `translateda_word`,\n\t\t\ttype: `${this.baseUri}caption`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}captionTrackId`]: captionTrackId,\n\t\t\t\t[`${this.baseUri}cueNumber`]: cueNumber,\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t\t[`${this.baseUri}text`]: `\"${text}\"`,\n\t\t\t},\n\t\t})\n\t}\n\n\tviewTextAnnotation = (annotationDocId, text, time) => {\n\t\tthis.send({\n\t\t\tverb: `viewed_annotation`,\n\t\t\ttype: `${this.baseUri}annotation`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t\t[`${this.baseUri}text`]: text,\n\t\t\t\t[`${this.baseUri}annotationDocId`]: annotationDocId,\n\t\t\t},\n\t\t})\n\t}\n\n\tenterFullscreen = time => {\n\t\tthis.send({\n\t\t\tverb: `enter_fullscreen`,\n\t\t\ttype: `${this.baseUri}mediaPlayer`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t},\n\t\t})\n\t}\n\n\texitFullscreen = time => {\n\t\tthis.send({\n\t\t\tverb: `exit_fullscreen`,\n\t\t\ttype: `${this.baseUri}mediaPlayer`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t},\n\t\t})\n\t}\n\n\tenableCaptionTrack = (captionTrack, time) => {\n\t\tthis.send({\n\t\t\tverb: `enabled_closed_caption`,\n\t\t\ttype: `${this.baseUri}mediaPlayer`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t\t[`${this.baseUri}captionTrack`]: captionTrack.label,\n\t\t\t},\n\t\t})\n\t}\n\n\tdisableCaptionTrack = (captionTrack, time) => {\n\t\tthis.send({\n\t\t\tverb: `disabled_closed_caption`,\n\t\t\ttype: `${this.baseUri}mediaPlayer`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t\t[`${this.baseUri}captionTrack`]: captionTrack.label,\n\t\t\t},\n\t\t})\n\t}\n\n\tchangeSpeed = (speedLevel, time) => {\n\t\tthis.send({\n\t\t\tverb: `changed_speed`,\n\t\t\ttype: `${this.baseUri}mediaPlayer`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t\t[`${this.baseUri}speedLevel`]: speedLevel,\n\t\t\t},\n\t\t})\n\t}\n\n\tmute = time => {\n\t\tthis.send({\n\t\t\tverb: `muted`,\n\t\t\ttype: `${this.baseUri}mediaPlayer`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t},\n\t\t})\n\t}\n\n\tunmute = time => {\n\t\tthis.send({\n\t\t\tverb: `unmuted`,\n\t\t\ttype: `${this.baseUri}mediaPlayer`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t},\n\t\t})\n\t}\n\n\tchangedResolution = time => {\n\t\tthis.send({\n\t\t\tverb: `changed_resolution`,\n\t\t\ttype: `${this.baseUri}mediaPlayer`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t},\n\t\t})\n\t}\n\n\twatched = time => {\n\t\tthis.send({\n\t\t\tverb: `watched`,\n\t\t\ttype: `${this.baseUri}mediaPlayer`,\n\t\t\textensions: {\n\t\t\t\t[`${this.baseUri}playerTime`]: time,\n\t\t\t},\n\t\t})\n\t}\n\n\taddListeners = player => {\n\n\t\tthis.throttle = (func, wait) => {\n\t\t\tlet timeout\n\t\t\treturn args => {\n\t\t\t\tif (!timeout) {\n\t\t\t\t\ttimeout = setTimeout(() => {\n\t\t\t\t\t\ttimeout = null\n\t\t\t\t\t\tfunc.apply(this, args)\n\t\t\t\t\t}, wait)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tplayer.addEventListener(`play`, this.throttle(() => {\n\t\t\tthis.playClick(`${player.currentTime}`)\n\t\t}, 500))\n\n\t\tplayer.addEventListener(`pause`, () => {\n\t\t\tthis.pauseClick(`${player.currentTime}`)\n\t\t})\n\n\t\tplayer.addEventListener(`ended`, () => {\n\t\t\tthis.ended(`${player.currentTime}`)\n\t\t})\n\n\t\tplayer.addEventListener(`timejump`, e => {\n\t\t\tthis.timeJump(`${e.detail.oldtime}${e.detail.newtime}`)\n\t\t})\n\n\t\tplayer.addEventListener(`captionJump`, () => {\n\t\t\tthis.repeatCaption(`${player.currentTime}`)\n\t\t})\n\n\t\tplayer.addEventListener(`ratechange`, this.throttle(() => {\n\t\t\tthis.rateChange(`${player.currentTime}`, `${player.playbackRate}`)\n\t\t}, 1000))\n\n\t\tplayer.addEventListener(`volumechange`, this.throttle(() => {\n\t\t\treturn player.muted && this.volumeChange(`${player.currentTime}`, `${player.volume}`)\n\t\t}, 1000))\n\n\t\tplayer.addEventListener(`mute`, () => {\n\t\t\tthis.mute(`${player.currentTime}`, `0`)\n\t\t})\n\n\t\tplayer.addEventListener(`unmute`, () => {\n\t\t\tthis.unmute(`${player.currentTime}`, player.volume)\n\t\t})\n\n\t\tplayer.addEventListener(`enterfullscreen`, () => {\n\t\t\tthis.enterFullscreen(`${player.currentTime}`)\n\t\t})\n\n\t\tplayer.addEventListener(`exitfullscreen`, () => {\n\t\t\tthis.exitFullscreen(`${player.currentTime}`)\n\t\t})\n\n\t\tplayer.addEventListener(`enabletrack`, e => {\n\t\t\tthis.enableCaptionTrack(e.detail.track)\n\t\t})\n\n\t\tplayer.addEventListener(`disabletrack`, e => {\n\t\t\tthis.disableCaptionTrack(e.detail.track)\n\t\t})\n\n\t\tplayer.addEventListener(`watched`, () => {\n\t\t\tthis.watched(`${player.currentTime}`)\n\t\t})\n\t}\n\n\tregisterPage = args => {\n\t\tthis.page = args.page\n\t\tthis.course = args.course ? args.course : this.course\n\t\tthis.user = args.user\n\t\tthis.resourceName =\n\t\t\targs.resource ?\n\t\t\t\targs.resource.label\n\t\t\t\t:\n\t\t\t\targs.content ?\n\t\t\t\t\targs.content.name\n\t\t\t\t\t:\n\t\t\t\t\tthis.resourceName\n\n\t\tthis.addListeners(args.player)\n\t}\n\n\tconnect = () => { }\n\n\trecord = b => {\n\t\tthis.record = !!b\n\t}\n}\n\nexport default xApi\n","import axios from 'axios'\n\nclass ContentCache {\n\tcache = {}\n\n\tload(id, callback) {\n\t\tif (this.cache[id])\n\t\t\tcallback(this.cache[id])\n\t\telse {\n\t\t\taxios(`${process.env.REACT_APP_YVIDEO_SERVER}/content/${id}/json`)\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then((data) => {\n\t\t\t\t\tthis.cache[id] = data\n\t\t\t\t\tcallback(data)\n\t\t\t\t})\n\t\t}\n\t}\n}\n\nexport default ContentCache","import { Ayamel } from 'yvideojs'\n\n// TODO: resizing\n\n/* args: captionTracks, holder, sync, annotator */\nconst TranscriptPlayer = args => {\n\n\tlet currentTime = 0\n\tconst element = args.holder\n\tconst tracks = args.captionTracks.filter(track => {\n\t\treturn track.kind === `captions` ||\n\t\t\ttrack.kind === `subtitles` ||\n\t\t\ttrack.kind === `descriptions`\n\t})\n\n\t// replacing ractive variables\n\tlet sync = args.sync || false\n\tlet activeIndex = 0\n\n\t// Transcript DOM\n\t// const transcriptSelect = document.createElement(`div`),\n\t// \tsyncButton = document.createElement(`button`),\n\t// \ttranscriptContentHolder = document.createElement(`div`),\n\t// \ttranscriptSelector = document.createElement(`select`),\n\t// \ticonAnchorElement = document.createElement(`i`)\n\n\t// const transcriptDisplay = document.createElement(`div`)\n\n\t// const initTranscriptPlayer = () => {\n\t// \ttranscriptDisplay.classList.add(`transcriptDisplay`)\n\t// \ttranscriptSelect.classList.add(`form-inline`)\n\t// \ttranscriptSelect.classList.add(`transcriptSelect`)\n\t// \ttranscriptContentHolder.classList.add(`transcriptContentHolder`)\n\t// \ticonAnchorElement.classList.add(`icon-anchor`)\n\t// \tsyncButton.title = `Anchor transcript to media location`\n\n\t// \tsyncButton.appendChild(iconAnchorElement)\n\t// \tsyncButton.addEventListener(`click`, (e) => {\n\t// \t\tsync = !sync\n\t// \t\tif (sync)\n\t// \t\t\tsyncButton.classList.add(`active`)\n\t// \t\telse\n\t// \t\t\tsyncButton.classList.remove(`active`)\n\n\t// \t})\n\t// \tsyncButton.setAttribute(`type`, `button`)\n\t// \tsyncButton.classList.add(`btn`)\n\t// \tif (sync)\n\t// \t\tsyncButton.classList.add(`active`)\n\n\t// \ttranscriptSelect.appendChild(transcriptSelector)\n\t// \ttranscriptSelect.appendChild(syncButton)\n\t// \ttranscriptSelector.addEventListener(`change`, (e) => {\n\t// \t\tactiveIndex = e.target.selectedIndex\n\t// \t\ttranscriptContentHolder.querySelectorAll(`.transcriptContent`).forEach((t, i) => {\n\t// \t\t\tt.style.display = i === activeIndex ? `block` : `none`\n\t// \t\t})\n\t// \t})\n\n\t// \ttranscriptDisplay.appendChild(transcriptSelect)\n\t// \ttranscriptDisplay.appendChild(transcriptContentHolder)\n\t// \telement.appendChild(transcriptDisplay)\n\t// }\n\n\tconst addTrack = ti => {\n\t\tif (tracks.length < ti + 1) return false\n\t\tconst transcriptOption = document.createElement(`option`),\n\t\t\ttranscriptContent = document.createElement(`div`),\n\t\t\ttranscript = tracks[ti]\n\n\t\ttranscriptOption.innerHTML = transcript.label\n\t\t// transcriptSelector.appendChild(transcriptOption)\n\t\ttranscriptContent.style.display = activeIndex === ti ? `block` : `none`\n\t\ttranscriptContent.setAttribute(`data-trackindex`, ti)\n\t\ttranscriptContent.classList.add(`transcriptContent`)\n\n\t\ttranscript.cues.forEach((cue, i) => {\n\t\t\tconst q = document.createElement(`div`),\n\t\t\t\thtml_cue = cue.getCueAsHTML()\n\n\t\t\tq.classList.add(`transcriptCue`)\n\t\t\tq.classList.add(Ayamel.Text.getDirection(html_cue.textContent))\n\t\t\tq.setAttribute(`data-trackindex`, ti)\n\t\t\tq.setAttribute(`data-cueindex`, i)\n\t\t\tq.appendChild(html_cue)\n\t\t\tq.addEventListener(`click`, (e) => {\n\t\t\t\telement.dispatchEvent(new CustomEvent(`cueclick`, { bubbles: true, detail: { track: transcript, cue } }))\n\t\t\t})\n\t\t\ttranscriptContent.appendChild(q)\n\t\t})\n\n\t\t// transcriptContentHolder.appendChild(transcriptContent)\n\t\treturn true\n\t}\n\n\t/*\n\t * Define the module interface.\n\t */\n\tObject.defineProperties(this, {\n\t\tsync: {\n\t\t\tset(value) {\n\t\t\t\tsync = !!value\n\t\t\t\treturn sync\n\t\t\t},\n\t\t\tget() {\n\t\t\t\treturn sync\n\t\t\t},\n\t\t},\n\t\tactiveTranscript: {\n\t\t\tset(value) {\n\t\t\t\tactiveIndex = value\n\t\t\t},\n\t\t\tget() {\n\t\t\t\treturn activeIndex\n\t\t\t},\n\t\t},\n\t\taddEventListener: {\n\t\t\tvalue(event, callback, capture) {\n\t\t\t\telement.addEventListener(event, callback, capture || false)\n\t\t\t},\n\t\t},\n\t\taddTrack: {\n\t\t\tvalue(track) {\n\t\t\t\tif (track.kind !== `captions` &&\n\t\t\t\t\ttrack.kind !== `subtitles` &&\n\t\t\t\t\ttrack.kind !== `descriptions`\n\t\t\t\t) return\n\t\t\t\tif (~tracks.indexOf(track)) return\n\t\t\t\ttracks.push(track)\n\t\t\t\treturn addTrack(tracks.indexOf(track))\n\t\t\t},\n\t\t},\n\t\tupdateTrack: {\n\t\t\tvalue(track) {\n\t\t\t\tconst i = tracks.indexOf(track)\n\t\t\t\tif (~i) console.log(`updateTrack not implemented. Report this if the Transcripts are not loading correctly.`)\n\t\t\t},\n\t\t},\n\t\tcurrentTime: {\n\t\t\tget() {\n\t\t\t\treturn currentTime\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tlet top = 1 / 0\n\t\t\t\tlet bottom = -1 / 0\n\t\t\t\tconst track = tracks[activeIndex]\n\n\t\t\t\tcurrentTime = +value;\n\t\t\t\t[].forEach.call(document.querySelectorAll(`.transcriptContent[data-trackindex=\"${activeIndex}\"] > .transcriptCue`),\n\t\t\t\t\t(node) => {\n\t\t\t\t\t\tconst cue = track.cues[node.dataset.cueindex]\n\t\t\t\t\t\tnode.classList[currentTime >= cue.startTime && currentTime <= cue.endTime ? `add` : `remove`](`active`)\n\t\t\t\t\t})\n\t\t\t\t// Possibly scroll\n\t\t\t\tif (!sync) return\n\t\t\t\tconst activeCues = document.querySelectorAll(`.transcriptContent[data-trackindex=\"${activeIndex}\"] > .active`)\n\t\t\t\tif (activeCues.length === 0) return;\n\t\t\t\t[].forEach.call(activeCues, (activeCue) => {\n\t\t\t\t\ttop = Math.min(top, activeCue.offsetTop)\n\t\t\t\t\tbottom = Math.max(bottom, activeCue.offsetTop + activeCue.offsetHeight)\n\t\t\t\t})\n\n\t\t\t\tconst parent = document.querySelector(`.transcriptContentHolder`)\n\t\t\t\tparent.scrollTop = (top - parent.offsetHeight + bottom) / 2 - parent.offsetTop\n\t\t\t},\n\t\t},\n\t\tupdate: {\n\t\t\tvalue() {\n\t\t\t\tconsole.log(`Transcript Player Update all tracks not implemented. Report this if the transcripts are not loading correctly.`)\n\t\t\t},\n\t\t},\n\t})\n}\n\nexport default TranscriptPlayer","import { AyamelPlayer, Translator, LangUtils } from 'yvideojs'\nimport xApi from '../xApi.js'\nimport ContentLoader from './ContentLoader.js'\nimport ContentCache from './ContentCache.js'\nimport TranscriptPlayer from './TranscriptPlayer.js'\nimport EditorWidgets from 'yvideo-editorwidgets'\nimport axios from 'axios'\n\nconst YLex = {}\n\nconst ContentRenderer = {\n\n\t/* args: resource, content, courseId, contentId, holder, components,\n\t\t\tscreenAdaption, startTime, endTime, renderCue, permission, callback */\n\n\trender: async args => {\n\n\t\t// Temporary hack to show current source\n\t\t// const srcUrlEl = document.getElementById(`sourceUrl`)\n\n\t\t// if (srcUrlEl) {\n\t\t// \tconst srcFile = args.resource.content.files[0]\n\t\t// \tsrcUrlEl.value = srcFile.downloadUri || srcFile.streamUri\n\t\t// }\n\n\t\tconst container = document.createElement(`div`)\n\n\t\tcontainer.id = `player`\n\n\t\targs.holder.appendChild(container)\n\n\t\t// Set up the video player\n\t\tconst params = {\n\t\t\tcontent: args.content,\n\t\t\tcomponents: args.components,\n\t\t\tscreenAdaption: args.screenAdaption,\n\t\t\tresource: args.resource,\n\t\t\tstartTime: args.startTime,\n\t\t\tendTime: args.endTime,\n\t\t\trenderCue: args.renderCue,\n\t\t\tholder: container,\n\t\t\ttranslate: allowDefinitions(args.content),\n\t\t\ttranscripts: showCaptions(args.content) || showTranscript(args.content) ?\n\t\t\t\tawait ContentLoader.getTranscriptWhitelist({\n\t\t\t\t\tresource: args.resource,\n\t\t\t\t\tcourseId: args.courseId,\n\t\t\t\t\tcontentId: args.contentId,\n\t\t\t\t\tpermission: args.permission,\n\t\t\t\t}) : [],\n\t\t\tannotations:\n\t\t\t\tshowAnnotations(args.content) ?\n\t\t\t\t\tContentLoader.getAnnotationWhitelist({\n\t\t\t\t\t\tresource: args.resource,\n\t\t\t\t\t\tcourseId: args.courseId,\n\t\t\t\t\t\tcontentId: args.contentId,\n\t\t\t\t\t\tpermission: args.permission,\n\t\t\t\t\t}) : [],\n\t\t\tcallback: args.callback,\n\t\t}\n\n\t\tconst player = setupMainPlayer(params)\n\n\t\tplayer.then(() => {\n\t\t\t// Resize the panes' content to be correct size onload\n\t\t\twindow.dispatchEvent(new Event(`resize`, { bubbles: true }))\n\t\t})\n\n\t\t// Handle thumbnail making\n\t\tdocument.addEventListener(`makeThumbnail`, e => {\n\t\t\te.stopPropagation()\n\t\t\tdocument.getElementById(`makeThumbnail`).dispatchEvent(new CustomEvent(`timeUpdate`, {\n\t\t\t\tbubbles: true,\n\t\t\t\tdetail: { currentTime: player.currentTime },\n\t\t\t}))\n\t\t}, false)\n\t},\n}\n\nconst showTranscript = content => {\n\treturn content.settings.showTranscripts === `true`\n}\n\nconst showCaptions = content => {\n\treturn content.settings.showCaptions === `true`\n}\n\nconst showAnnotations = content => {\n\treturn content.settings.showAnnotations === `true`\n}\n\nconst allowDefinitions = content => {\n\treturn content.settings.allowDefinitions === `true`\n}\n\nconst showWordList = content => {\n\treturn content.settings.showWordList === `true`\n}\n\n// const getDefaultLanguage = languages => {\n// \tfor (const langObj in languages) {\n// \t\tif (langObj.value === `eng`)\n// \t\t\treturn langObj\n// \t}\n// \treturn languages[0]\n// }\n\nconst setupTranslatorPane = (tab, player, content, resourceMap) => {\n\tlet codes = (content.settings.targetLanguages || ``)\n\t\t.split(`,`).filter((s) => {\n\t\t\treturn !!s\n\t\t})\n\tconst selectHolder = document.createElement(`div`),\n\t\ttranslationsHolder = document.createElement(`div`)\n\n\t// Fallback procedure when no languages have been selected\n\tif (!codes.length) {\n\t\tcodes = Object.keys(LangUtils.p1map)\n\t\t\t.map((p1) => {\n\t\t\t\treturn LangUtils.p1map[p1]\n\t\t\t})\n\t}\n\n\tconst targetLanguages = codes.map((code) => {\n\t\treturn { value: code, text: LangUtils.getLangName(code) }\n\t}).sort((a, b) => {\n\t\treturn a.text.localeCompare(b.text)\n\t})\n\n\ttranslationsHolder.className = `definitionsContent`\n\tnew EditorWidgets.SuperSelect({\n\t\tel: selectHolder,\n\t\tid: `transLang`,\n\t\tvalue: [\n\t\t\tcodes.indexOf(`eng`) !== -1 ?\n\t\t\t\t`eng` : codes[0],\n\t\t],\n\t\ticon: `icon-globe`,\n\t\tbutton: `left`,\n\t\ttext: `Select Language`,\n\t\toptions: targetLanguages,\n\t\tmultiple: false,\n\t}).addEventListener(`valuechange`, () => {\n\t\tplayer.targetLang = this.value[0]\n\t})\n\n\t// Player Event Listeners\n\n\t// Translation started\n\tplayer.addEventListener(`translate`, event => {\n\t\tconst detail = event.detail,\n\t\t\tdata = detail.data\n\t\tlet activityType\n\t\tswitch (data.sourceType) {\n\t\tcase `caption`: activityType = `captionTranslation`\n\t\t\tbreak\n\t\tcase `transcript`: activityType = `transcriptionTranslation`\n\t\t\tbreak\n\t\tdefault: return\n\t\t}\n\t\txApi.predefined[activityType](resourceMap.get(data.cue.track).id, data.cue.id, detail.text)\n\t\tplayer.pause()\n\t})\n\n\t// Translation succeeded\n\tplayer.addEventListener(`translation`, event => {\n\n\t\tlet translationSize\n\t\tconst detail = event.detail,\n\t\t\t// translations = detail.translations,\n\t\t\twordList = `<div class='addToWordList'><button class='btn btn-small'><i class='icon-paste'></i> Add to Word List</button></div>`,\n\t\t\thtml = document.createElement(`div`)\n\t\thtml.innerHTML = YLex.renderResult(event.detail) + wordList\n\t\ttranslationsHolder.appendChild(html)\n\t\ttab.select()\n\n\t\tif (wordList !== ``) {\n\t\t\thtml.querySelector(`button`).addEventListener(`click`, () => {\n\t\t\t\tconst addWord = this.parentNode\n\t\t\t\tconst Data = new FormData()\n\t\t\t\tData.append(`srcLang`, detail.src)\n\t\t\t\tData.append(`destLang`, detail.dst)\n\t\t\t\tData.append(`word`, detail.text)\n\t\t\t\taxios(`${process.env.REACT_APP_YVIDEO_SERVER}/words`, {\n\t\t\t\t\tmethod: `post`,\n\t\t\t\t\tcache: false,\n\t\t\t\t\tcontentType: false,\n\t\t\t\t\tprocessData: false,\n\n\t\t\t\t\tdata: Data,\n\t\t\t\t\tsuccess() {\n\t\t\t\t\t\taddWord.innerHTML = `<span class='color-blue'>Added to word list.</span>`\n\t\t\t\t\t},\n\t\t\t\t\terror() {\n\t\t\t\t\t\talert(`Error adding to word list`)\n\t\t\t\t\t\taddWord.parentNode.removeChild(addWord)\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\n\t\t// keep the top of the new translation visible.\n\t\tif (html.offsetHeight > translationsHolder.offsetHeight) {\n\t\t\ttranslationSize = html.offsetHeight + html.querySelector(`.sourceText`).offsetHeight + 15\n\t\t\ttranslationsHolder.scrollTop = translationsHolder.scrollHeight - translationSize\n\t\t} else\n\t\t\ttranslationsHolder.scrollTop = translationsHolder.scrollHeight\n\n\t})\n\n\t// Handle errors\n\tplayer.addEventListener(`translationError`, event => {\n\t\talert(`We couldn't translate '${event.detail.text}' for you.`)\n\t})\n\n\tconst pane = document.createElement(`div`)\n\n\tpane.className = `definitionsContainer`\n\tpane.appendChild(selectHolder)\n\tpane.appendChild(document.createElement(`hr`))\n\tpane.appendChild(translationsHolder)\n\treturn pane\n}\n\nconst setupTranscriptPane = (tab, player, content, trackResources, trackMimes) => {\n\tconst DOM = document.createDocumentFragment(),\n\t\ttranscriptPlayer = new TranscriptPlayer({\n\t\t\t// requires the actual TextTrack objects; should be fixed up to take resource IDs, I think\n\t\t\tcaptionTracks: [],\n\t\t\tholder: DOM,\n\t\t\tsync: true,\n\t\t\tannotator: null,\n\t\t})\n\n\t// Cue clicking\n\ttranscriptPlayer.addEventListener(`cueclick`, event => {\n\t\tconst trackID = trackResources.get(event.detail.track).id\n\n\t\tplayer.currentTime = event.detail.cue.startTime\n\t\txApi.predefined.transcriptCueClick(trackID, event.detail.cue.id)\n\t})\n\n\tplayer.addEventListener(`timeupdate`, () => {\n\t\ttranscriptPlayer.currentTime = player.currentTime\n\t})\n\n\tplayer.addEventListener(`addtexttrack`, event => {\n\t\tconst track = event.detail.track\n\t\ttranscriptPlayer.addTrack(track)\n\t\ttrackResources.set(track, event.detail.resource)\n\t\ttrackMimes.set(track, event.detail.mime)\n\t}, false)\n\n\tplayer.addEventListener(`enableannset`, () => {\n\t\ttranscriptPlayer.update()\n\t})\n\n\tplayer.addEventListener(`disableannset`, () => {\n\t\ttranscriptPlayer.update()\n\t})\n\n\tplayer.mediaPlayer.promise.then(() => {\n\t\ttranscriptPlayer.setAnnotator(player.mediaPlayer.annotator)\n\t\ttranscriptPlayer.update()\n\t})\n\n\treturn DOM\n}\n\nconst setupAnnotatorPane = (tab, player) => {\n\tconst display = document.createElement(`div`)\n\n\tlet data = null,\n\t\tnewplayer = null\n\n\tdisplay.style.overflow = `scroll`\n\tdisplay.style.height = `100%`\n\tplayer.addEventListener(`annotation`, (event) => {\n\t\tplayer.pause()\n\n\t\tif (data !== event.detail.data) {\n\t\t\tdata = event.detail.data\n\t\t\tif (newplayer) {\n\t\t\t\tnewplayer.destroy()\n\t\t\t\tnewplayer = null\n\t\t\t}\n\n\t\t\tswitch (event.detail.data.type) {\n\t\t\tcase `text`:\n\t\t\t\tdisplay.innerHTML = event.detail.data.value;\n\t\t\t\t[].forEach.call(display.querySelectorAll(`a`), (link) => {\n\t\t\t\t\tlink.target = `_blank`\n\t\t\t\t})\n\t\t\t\tbreak\n\t\t\tcase `image`:\n\t\t\t\tdisplay.innerHTML = `<img src='${event.detail.data.value}'>`\n\t\t\t\tbreak\n\t\t\tcase `content`:\n\t\t\t\tContentCache.load(event.detail.data.value, content => {\n\t\t\t\t\tdisplay.innerHTML = ``\n\t\t\t\t\t// Don't allow annotations, transcriptions, or certain controls\n\t\t\t\t\tcontent.settings.showTranscripts = `false`\n\t\t\t\t\tcontent.settings.showAnnotations = `false`\n\t\t\t\t\tcontent.settings.allowDefinitions = `false`\n\n\t\t\t\t\tContentLoader.render({\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t\tholder: display,\n\t\t\t\t\t\tannotate: false,\n\t\t\t\t\t\tscreenAdaption: {\n\t\t\t\t\t\t\tfit: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t\taspectRatio: window.Ayamel.aspectRatios.hdVideo,\n\t\t\t\t\t\tcomponents: {\n\t\t\t\t\t\t\tleft: [`play`],\n\t\t\t\t\t\t\tright: [`captions`, `timeCode`],\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcallback(args) {\n\t\t\t\t\t\t\tnewplayer = args.mainPlayer\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\tbreak\n\t\t\tdefault: break\n\t\t\t}\n\t\t}\n\t\t// Find the annotation doc\n\t\tconst annotationDocId = `Unknown`\n\t\txApi.predefined.viewTextAnnotation(annotationDocId, event.detail.text)\n\n\t\ttab.select()\n\t})\n\n\treturn display\n}\n\nconst setupWordListPane = (tab, player) => {\n\tconst display = document.createElement(`div`)\n\taxios(`${process.env.REACT_APP_YVIDEO_SERVER}/wordList`)\n\t// , { withCredentials: true, mode: `cors` }\n\t\t.then(res => res.json()).then(json => {\n\t\t\tjson.wordlist.forEach(myWord => {\n\t\t\t\tconst element = document.createElement(`p`)\n\t\t\t\t// element.textContent = JSON.stringify(myWord.word);\n\t\t\t\telement.textContent = myWord.word\n\t\t\t\tdisplay.appendChild(element)\n\t\t\t})\n\t\t}).catch(error => console.error(`Failed to get wordlist.`, error))\n\n\treturn display\n}\n\n/* args: components, transcripts, content, screenAdaption, holder, resource,\n\t\tstartTime, endTime, renderCue, annotator, translate */\nconst setupMainPlayer = args => {\n\t// eslint-disable-next-line prefer-const\n\tlet player\n\tconst content = args.content,\n\t\ttrackResources = new Map(),\n\t\ttrackMimes = new Map(),\n\t\ttranscriptPlayer = null,\n\t\tcomponents = args.components || {\n\t\t\tleft: [`play`, `lastCaption`, `volume`, `captions`, `annotations`],\n\t\t\tright: [`rate`, `fullScreen`, `sideToggle`, `timeCode`],\n\t\t}\n\n\tif (!showCaptions(args.content)) {\n\t\t[`left`, `right`].forEach(side => {\n\t\t\t[`lastCaption`, `captions`, `annotations`].forEach(control => {\n\t\t\t\tconst index = components[side].indexOf(control)\n\t\t\t\tif (~index) components[side].splice(index, 1)\n\t\t\t})\n\t\t})\n\t} else if (!showAnnotations(args.content)) {\n\t\t[`left`, `right`].forEach((side) => {\n\t\t\tconst index = components[side].indexOf(`annotations`)\n\t\t\tif (~index) components[side].splice(index, 1)\n\t\t})\n\t}\n\n\t// Set the priority of players\n\twindow.Ayamel.prioritizedPlugins.video = [`html5`, `flash`, `brightcove`, `youtube`, `vimeo`, `ooyala`]\n\twindow.Ayamel.prioritizedPlugins.audio = [`html5`]\n\n\t// padding to account for the control bar\n\t// TODO: Dynamically check the actual control bar height\n\targs.holder.style.paddingBottom = `61px`\n\n\t// Spacebar to play/pause video\n\twindow.addEventListener(`keydown`, e => {\n\t\tif (e.keyCode === 32 && document.querySelectorAll(`input:focus, textarea:focus`).length === 0) {\n\t\t\tplayer[player.paused ? `play` : `pause`]()\n\t\t\te.preventDefault()\n\t\t}\n\t})\n\n\twindow.addEventListener(window.Ayamel.utils.FullScreen.fullScreenEvent, event => {\n\t\tif (window.Ayamel.utils.FullScreen.isFullScreen) {\n\t\t\t// Need to remove the player's css so that the fullscreen can resize properly\n\t\t\tplayer.element.style.removeProperty(`width`)\n\t\t\tplayer.element.style.removeProperty(`height`)\n\t\t} else {\n\t\t\t// call a resize event so that css can be put back\n\t\t\twindow.dispatchEvent(new Event(`resize`, { bubbles: true, cancelable: true }))\n\t\t}\n\t}, false)\n\n\twindow.addEventListener(`resize`, event => {\n\t\tif (!args.screenAdaption || !args.screenAdaption.fit) return\n\t\tplayer.maxHeight = document.documentElement.clientHeight\n\t}, false)\n\n\tconst tabs = []\n\tif (allowDefinitions(content)) {\n\t\ttabs.push({\n\t\t\ttitle: `Definitions`,\n\t\t\tcontent(tab, player) {\n\t\t\t\treturn setupTranslatorPane(tab, player, content, trackResources)\n\t\t\t},\n\t\t})\n\t}\n\n\tif (args.transcripts.length && showTranscript(content)) {\n\t\ttabs.push({\n\t\t\ttitle: `Transcripts`,\n\t\t\tcontent(tab, player) {\n\t\t\t\treturn setupTranscriptPane(tab, player, content, trackResources, trackMimes)\n\t\t\t},\n\t\t})\n\t}\n\n\tif (args.annotations.length) {\n\t\ttabs.push({\n\t\t\ttitle: `Annotations`,\n\t\t\tcontent: setupAnnotatorPane,\n\t\t})\n\t}\n\n\tif (showWordList(content)) {\n\t\ttabs.push({\n\t\t\ttitle: `Word List`,\n\t\t\tcontent: setupWordListPane,\n\t\t})\n\t}\n\n\tplayer = new AyamelPlayer({\n\t\tcomponents,\n\t\tholder: args.holder,\n\t\tresource: args.resource,\n\t\tcaptions: {\n\t\t\trenderCue: args.renderCue,\n\t\t\twhitelist: args.transcripts,\n\t\t},\n\t\tannotations: {\n\t\t\tclassList: [`annotation`],\n\t\t\twhitelist: args.annotations,\n\t\t},\n\t\ttranslator: args.translate ? {\n\t\t\tendpoint: Translator.endpoint,\n\t\t\tkey: Translator.key,\n\t\t\ttargetLang: `eng`,\n\t\t} : null,\n\t\tstartTime: args.startTime,\n\t\tendTime: args.endTime,\n\t\ttranslate: args.translate,\n\t\taspectRatio: parseFloat(args.content.settings.aspectRatio) || window.Ayamel.aspectRatios.hdVideo,\n\t\ttabs,\n\t})\n\n\tplayer.addEventListener(`play`, () => {\n\t\tplayer.restoreTabs()\n\t}, false)\n\n\tif (typeof args.callback === `function`) {\n\t\tsetTimeout(() => {\n\t\t\targs.callback({\n\t\t\t\tmainPlayer: player,\n\t\t\t\ttranscriptPlayer,\n\t\t\t\ttrackResources,\n\t\t\t\ttrackMimes,\n\t\t\t})\n\t\t}, 1)\n\t}\n\n\treturn player\n}\n\nexport default ContentRenderer","import { ResourceLibrary } from 'yvideojs'\nimport ContentRenderer from './ContentRenderer.js'\nimport axios from 'axios'\n\n// ResourceLibrary.setBaseUrl(process.env.REACT_APP_YVIDEO_SERVER)\nResourceLibrary.setBaseUrl(`${process.env.REACT_APP_RESOURCE_LIB}/`)\n\nconst ContentLoader = (() => {\n\n\tconst getDocumentWhitelist = async (args, type, ids) => {\n\n\t\tif (ids.length === 0) return Promise.resolve([])\n\n\t\tconst data = {\n\t\t\tcourseId: args.courseId || 1,\n\t\t\tcontentId: args.contentId,\n\t\t\tpermission: args.permission || `view`,\n\t\t\tdocumentType: type,\n\t\t\tids: ids.join(`,`),\n\t\t}\n\n\t\tconst formBody = Object.keys(data).map(key => `${encodeURIComponent(key)}=${encodeURIComponent(data[key])}`).join(`&`)\n\n\t\tconsole.log(formBody)\n\n\t\ttry {\n\n\t\t\tconst test = await axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/ajax/permissionChecker?${formBody}`, {\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": `application/x-www-form-urlencoded`,\n\t\t\t\t},\n\t\t\t})\n\n\t\t\tconsole.log(`test`)\n\n\t\t\treturn test\n\t\t} catch (error) {\n\t\t\tconsole.error(error)\n\t\t}\n\t}\n\n\t/* args: resource, courseId, contentId, permission */\n\tconst getTranscriptWhitelist = args => {\n\t\treturn getDocumentWhitelist(args,\n\t\t\t`captionTrack`,\n\t\t\targs.resource.getTranscriptIds())\n\t}\n\n\t/* args: resource, courseId, contentId, permission */\n\tconst getAnnotationWhitelist = args => {\n\t\treturn getDocumentWhitelist(args,\n\t\t\t`annotationDocument`,\n\t\t\targs.resource.getAnnotationIds())\n\t}\n\n\tconst renderContent = async args => {\n\n\t\t// Check if we are rendering something from the resource library\n\t\tif ([`video`, `audio`, `image`, `text`].indexOf(args.content.contentType) >= 0) {\n\t\t\tResourceLibrary.setBaseUrl(`https://api.ayamel.org/api/v1/`)\n\n\t\t\ttry {\n\n\t\t\t\tconst resource = await ResourceLibrary.load(args.content.resourceId)\n\n\t\t\t\targs.resource = resource\n\n\t\t\t\tContentRenderer.render({\n\t\t\t\t\tgetTranscriptWhitelist,\n\t\t\t\t\tgetAnnotationWhitelist,\n\t\t\t\t\tresource,\n\t\t\t\t\tcontent: args.content,\n\t\t\t\t\tcourseId: args.courseId,\n\t\t\t\t\tcontentId: args.content.id,\n\t\t\t\t\tholder: args.holder,\n\t\t\t\t\tcomponents: args.components,\n\t\t\t\t\tscreenAdaption: args.screenAdaption,\n\t\t\t\t\tstartTime: args.startTime,\n\t\t\t\t\tendTime: args.endTime,\n\t\t\t\t\trenderCue: args.renderCue,\n\t\t\t\t\tpermission: args.permission,\n\t\t\t\t\tcallback: args.callback,\n\t\t\t\t})\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error)\n\t\t\t}\n\n\t\t} else if (args.content.contentType === `playlist`)\n\t\t\tconsole.error(`Playlists are not supported.`)\n\t}\n\n\tconst castContentObject = content => {\n\t\tswitch (typeof content) {\n\t\tcase `number`:\n\t\t\treturn axios(`/content/${content}/json?${Date.now().toString(36)}`)\n\t\tcase `object`:\n\t\t\treturn Promise.resolve(content)\n\t\tdefault:\n\t\t\treturn Promise.reject(new Error(`Invalid Content Type`))\n\t\t}\n\t}\n\n\treturn {\n\t\tgetTranscriptWhitelist,\n\t\tgetAnnotationWhitelist,\n\t\tcastContentObject,\n\t\trender(args) {\n\t\t\tcastContentObject(args.content).then(async data => {\n\t\t\t\targs.content = data\n\t\t\t\tawait\trenderContent(args)\n\t\t\t})\n\t\t},\n\t}\n})()\n\nexport default ContentLoader","import styled from 'styled-components'\n\nexport const Style = styled.div`\n\tpadding-top: 8.4rem;\n\tpadding-bottom: 15rem;\n\toverflow-y: scroll;\n\theight: calc(100vh - 23.4rem);\n\t& > div {\n\t\t& .ayamelPlayer,\n\t\t& .videoBox,\n\t\t& .mediaPlayer {\n\t\t\twidth: 100% !important;\n\t\t\theight: 70vh;\n\t\t}\n\t\t& .sliderContainer {\n\t\t\tpadding-bottom: 0 !important;\n\t\t}\n\t}\n`\n\nexport default Style\n","import React, { Component } from 'react'\n\nimport { Ayamel } from 'yvideojs'\n\nimport ContentLoader from 'lib/js/contentRendering/ContentLoader'\n\nimport { CollectionsContainer } from 'containers'\n\nimport Style from './styles'\nimport 'yvideojs/css/player.css'\n\nexport default class Player extends Component {\n\trender() {\n\t\tconst { ref } = this.props.viewstate\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<div ref={ref} />\n\t\t\t\t<CollectionsContainer />\n\t\t\t</Style>\n\t\t)\n\t}\n\n\tcomponentDidUpdate = async () => {\n\t\tconst {\n\t\t\tcontent,\n\t\t\tuserId,\n\t\t\tref,\n\t\t} = this.props.viewstate\n\n\t\ttry {\n\t\t\t// Render the content\n\t\t\tContentLoader.render({\n\t\t\t\tContentLoader,\n\t\t\t\tcontent,\n\t\t\t\tuserId,\n\t\t\t\towner: true,\n\t\t\t\tteacher: false,\n\t\t\t\tcollectionId: 0,\n\t\t\t\tholder: ref.current,\n\t\t\t\tannotate: true,\n\t\t\t\topen: true,\n\t\t\t\tscreenAdaption: false,\n\t\t\t\taspectRatio: Ayamel.aspectRatios.hdVideo,\n\t\t\t\tstartTime: `0`,\n\t\t\t\tendTime: `-1`,\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tconsole.error(error)\n\t\t}\n\t}\n}","import React, { PureComponent } from 'react'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\n\nimport {\n\tAdminContainer,\n\tCollectionsContainer,\n\tHeaderContainer,\n\tLabAssistantContainer,\n\tLabAssistantManagerContainer,\n\tLandingContainer,\n\tMenuContainer,\n\tManagerContainer,\n\tPlayerContainer,\n} from 'containers'\n\nimport {\n\tLoad,\n\tError,\n} from 'components'\n\nimport {\n\tModal,\n} from 'components/bits'\n\nclass Root extends PureComponent {\n\n\trender() {\n\n\t\tconst {\n\t\t\tuser,\n\t\t\tloading,\n\t\t\tmodal,\n\t\t} = this.props.viewstate\n\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t{user ?\n\t\t\t\t\t<>\n\t\t\t\t\t\t<HeaderContainer />\n\t\t\t\t\t\t<MenuContainer />\n\t\t\t\t\t\t<Switch>\n\n\t\t\t\t\t\t\t<Route exact path='/' >\n\t\t\t\t\t\t\t\t<CollectionsContainer />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path='/admin'>\n\t\t\t\t\t\t\t\t<AdminContainer />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path='/collections'>\n\t\t\t\t\t\t\t\t<CollectionsContainer />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path='/lab-assistant'>\n\t\t\t\t\t\t\t\t<LabAssistantContainer />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path='/lab-assistant-manager/:professorId/:collectionId?'>\n\t\t\t\t\t\t\t\t<LabAssistantManagerContainer />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path='/manager/:id?'>\n\t\t\t\t\t\t\t\t<ManagerContainer />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path='/player/:id'>\n\t\t\t\t\t\t\t\t<PlayerContainer />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route>\n\t\t\t\t\t\t\t\t<Error error='404' message={`You've wandered too far`} />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</>\n\t\t\t\t\t:\n\t\t\t\t\t<LandingContainer />\n\t\t\t\t}\n\n\t\t\t\t<Load loading={loading} />\n\t\t\t\t<Modal active={modal.active} />\n\t\t\t</Router>\n\t\t)\n\t}\n}\n\nexport default Root\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport { Admin } from 'components'\n\nimport { adminService, interfaceService } from 'services'\n\nconst AdminContainer = props => {\n\n\tconst {\n\t\tdata,\n\t\tsearch,\n\t\tclean,\n\t\tsetHeaderBorder,\n\t} = props\n\n\tconst category = {\n\t\tUsers: {\n\t\t\tname: `Users`,\n\t\t\tplaceholder: `Search for a user`,\n\t\t\turl: `user`,\n\t\t},\n\t\tCollections: {\n\t\t\tname: `Collections`,\n\t\t\tplaceholder: `Search for a collection`,\n\t\t\turl: `collection`,\n\t\t},\n\t\tContent: {\n\t\t\tname: `Content`,\n\t\t\tplaceholder: `Search for content`,\n\t\t\turl: `content`,\n\t\t},\n\t}\n\n\tconst [searchQuery, setSearchQuery] = useState(``)\n\tconst [searchCategory, setSearchCategory] = useState(category.Users.name)\n\tconst [placeholder, setPlaceholder] = useState(category.Users.placeholder)\n\n\tuseEffect(() => {\n\t\tsetHeaderBorder(true)\n\t\treturn () => {\n\t\t\tsetHeaderBorder(false)\n\t\t}\n\t}, [setHeaderBorder])\n\n\tconst updateCategory = e => {\n\t\te.preventDefault()\n\t\tclean()\n\t\tsetSearchQuery(``)\n\t\tsetSearchCategory(e.target.value)\n\t\tsetPlaceholder(category[e.target.value].placeholder)\n\t}\n\n\tconst updateSearchBar = e => {\n\t\tconst { value } = e.target\n\t\tsetSearchQuery(value)\n\t\tif (value.length > 1) search(category[searchCategory].url, value, true)\n\t}\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault()\n\t}\n\n\tconst viewstate = {\n\t\tsearchQuery,\n\t\tsearchCategory,\n\t\tcategory,\n\t\tdata,\n\t\tplaceholder,\n\t}\n\n\tconst handlers = {\n\t\tupdateCategory,\n\t\tupdateSearchBar,\n\t\thandleSubmit,\n\t}\n\n\treturn <Admin viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = store => ({\n\tdata: store.adminStore.data,\n})\n\nconst mapDispatchToProps = {\n\tsearch: adminService.search,\n\tclean: adminService.clean,\n\tsetHeaderBorder: interfaceService.setHeaderBorder,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AdminContainer)\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport { collectionService, interfaceService, contentService } from 'services'\n\nimport { Collections } from 'components'\n\n// import { objectIsEmpty } from 'lib/util'\n\nconst CollectionsContainer = props => {\n\n\tconst {\n\t\tisProf,\n\t\tisAdmin,\n\t\tdisplayBlocks,\n\t\tcontent,\n\t\tgetContent,\n\t\tcollections,\n\t\tgetCollections,\n\t\ttoggleCollectionsDisplay,\n\t\tsetHeaderBorder,\n\t} = props\n\n\t//console.log(collections)\n\n\tuseEffect(() => {\n\t\tgetCollections()\n\t\tsetHeaderBorder(false)\n\n\t\t// Iterate through published collections to get content, then get the ids of all of the content\n\t\t// const ids = [].concat.apply([], Object.entries(collections).filter(([k,v]) => v.published && !v.archived)\n\t\t// \t.map(([k,v]) => v.content.map(item => (item.id))))\n\t\t// //console.log(ids)\n\t\t// getContent(ids)\n\n\t\treturn () => {\n\t\t\tsetHeaderBorder(true)\n\t\t}\n\t}, [collections, getCollections, getContent, setHeaderBorder])\n\n\tconst viewstate = {\n\t\tisProf,\n\t\tisAdmin,\n\t\tdisplayBlocks,\n\t\t// TODO: When archiving a collection, make sure to unpublish it\n\t\t//collections: Object.fromEntries(Object.entries(collections).filter(([k,v]) => v.published && !v.archived)),\n\t\tcollections: collections,\n\t\t// TODO: When recreating the backend, add a collection.content.published value, so that we don't need to call getContent\n\t\t// contentIds: Object.entries(content).filter(([k, v]) => v.published).map(([k,v]) => (k)),\n\t}\n\n\tconst handlers = {\n\t\ttoggleCollectionsDisplay,\n\t}\n\n\treturn <Collections viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = ({ authStore, interfaceStore, collectionStore, contentStore }) => ({\n\tisProf: authStore.user.roles === 2,\n\tisAdmin: authStore.user.roles === 0,\n\tdisplayBlocks: interfaceStore.displayBlocks,\n\tcollections: collectionStore.cache,\n\tcontent: contentStore.cache,\n})\n\nconst mapDispatchToProps = {\n\tgetCollections: collectionService.getCollections,\n\tgetContent: contentService.getContent,\n\ttoggleCollectionsDisplay: interfaceService.toggleCollectionsDisplay,\n\tsetHeaderBorder: interfaceService.setHeaderBorder,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CollectionsContainer)\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport {\n\tcollectionService,\n\tcontentService,\n} from 'services'\n\nimport {\n\tContentOverview,\n} from 'components'\n\nimport { objectIsEmpty } from 'lib/util'\n\nconst ContentOverviewContainer = props => {\n\n\tconst {\n\t\tcontent,\n\t\tremoveCollectionContent,\n\t\tupdateContent,\n\t} = props\n\n\tconst [editing, setEditing] = useState(false)\n\tconst [showing, setShowing] = useState(false)\n\n\tconst [contentState, setContentState] = useState(content)\n\n\tif (objectIsEmpty(content)) return null\n\n\tconst handleToggleEdit = async () => {\n\t\tif (editing) {\n\t\t\tawait updateContent(contentState)\n\t\t\tsetShowing(false)\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetEditing(false)\n\t\t\t}, 500)\n\t\t} else setEditing(true)\n\t}\n\n\tconst handleNameChange = e => {\n\t\tsetContentState({\n\t\t\t...contentState,\n\t\t\tname: e.target.value,\n\t\t\tresource: {\n\t\t\t\t...contentState.resource,\n\t\t\t\ttitle: e.target.value,\n\t\t\t},\n\t\t})\n\t}\n\n\tconst handleRemoveContent = e => {\n\t\tremoveCollectionContent(content.collectionId, content.id)\n\t}\n\n\tconst handleTogglePublish = e => {\n\t\tsetContentState({\n\t\t\t...contentState,\n\t\t\tpublished: !contentState.published,\n\t\t})\n\t}\n\n\tconst viewstate = {\n\t\tcontent: contentState,\n\t\tshowing,\n\t\tediting,\n\t}\n\n\tconst handlers = {\n\t\thandleNameChange,\n\t\thandleRemoveContent,\n\t\thandleToggleEdit,\n\t\thandleTogglePublish,\n\t\tsetContentState,\n\t\tsetShowing,\n\t}\n\n\treturn <ContentOverview viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapDispatchToProps = {\n\tremoveCollectionContent: collectionService.removeCollectionContent,\n\tupdateContent: contentService.updateContent,\n}\n\nexport default connect(null, mapDispatchToProps)(ContentOverviewContainer)","import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport services from 'services'\n\nimport { CollectionPermissions } from 'components'\n\nconst CollectionPermissionsContainer = props => {\n\n\tconst { roleEndpoints } = services.collectionService\n\n\tconst {\n\t\tcollection, // from ManageCollection\n\t\troles, // from collectionService\n\t\tgetCollectionRoles, // from collectionService\n\t\tupdateCollectionRoles, // from collectionService\n\t} = props\n\n\tconst collectionRoles = roles[collection.id]\n\n\tconst [state, setState] = useState({\n\t\tdepartment: `*`,\n\t\tcatalog: ``,\n\t\tsection: ``,\n\t\ttaFaculty: ``,\n\t\texception: ``,\n\t\tdisabled: {\n\t\t\tcatalog: true,\n\t\t\tsection: true,\n\t\t\tsubmit: true,\n\t\t\ttaFaculty: true,\n\t\t\texception: true,\n\t\t},\n\t})\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (!collectionRoles) getCollectionRoles(collection.id)\n\t\t},\n\t\t[collection.id, collectionRoles, getCollectionRoles],\n\t)\n\n\tif (!collectionRoles) return null\n\n\tconst handlers = {\n\t\thandleDepartmentChange: e => {\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\tdepartment: e.target.value,\n\t\t\t\tcatalog: ``,\n\t\t\t\tsection: ``,\n\t\t\t\tdisabled: {\n\t\t\t\t\t...state.disabled,\n\t\t\t\t\tcatalog: e.target.value === `*`,\n\t\t\t\t\tsection: true,\n\t\t\t\t\tsubmit: e.target.value === `*`,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\thandleCatalogChange: e => {\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\tcatalog: e.target.value,\n\t\t\t\tsection: ``,\n\t\t\t\tdisabled: {\n\t\t\t\t\t...state.disabled,\n\t\t\t\t\tcatalog: false,\n\t\t\t\t\tsection: e.target.value === ``,\n\t\t\t\t\tsubmit: false,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\thandleSectionChange: e => {\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\tsection: e.target.value,\n\t\t\t\tdisabled: {\n\t\t\t\t\t...state.disabled,\n\t\t\t\t\tcatalog: false,\n\t\t\t\t\tsection: false,\n\t\t\t\t\tsubmit: false,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\thandleTaFacultyChange: e => {\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\ttaFaculty: e.target.value,\n\t\t\t\tdisabled: {\n\t\t\t\t\t...state.disabled,\n\t\t\t\t\ttaFaculty: e.target.value === ``,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\thandleExceptionChange: e => {\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\texception: e.target.value,\n\t\t\t\tdisabled: {\n\t\t\t\t\t...state.disabled,\n\t\t\t\t\texception: e.target.value === ``,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\taddCourse: e => {\n\t\t\te.preventDefault()\n\n\t\t\tconst {\n\t\t\t\tdepartment,\n\t\t\t\tcatalog,\n\t\t\t\tsection,\n\t\t\t} = state\n\n\t\t\tconst body = {\n\t\t\t\tdepartment,\n\t\t\t}\n\n\t\t\tif (catalog) body.catalogNumber = catalog\n\t\t\tif (section) body.sectionNumber = section\n\n\t\t\tupdateCollectionRoles(collection.id, roleEndpoints.addCourse, [body])\n\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\tdepartment: `*`,\n\t\t\t\tcatalog: ``,\n\t\t\t\tsection: ``,\n\t\t\t\tdisabled: {\n\t\t\t\t\t...state.disabled,\n\t\t\t\t\tcatalog: true,\n\t\t\t\t\tsection: true,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tremoveCourse: e => {\n\t\t\te.preventDefault()\n\n\t\t\tconst data = JSON.parse(e.target.dataset.item)\n\n\t\t\tconst body = {\n\t\t\t\tid: data.id || null,\n\t\t\t\tdepartment: data.Department || null,\n\t\t\t}\n\n\t\t\tif (data.Catalog) body.catalogNumber = data.Catalog\n\t\t\tif (data.Section) body.sectionNumber = data.Section\n\n\t\t\tif (body.department !== null && body.id !== null)\n\t\t\t\tupdateCollectionRoles(collection.id, roleEndpoints.removeCourse, [body])\n\t\t\telse alert(`Error, department not found`)\n\t\t},\n\t\taddTaFaculty: e => {\n\t\t\tconsole.log(state.taFaculty)\n\t\t\te.preventDefault()\n\t\t\tconst body = {\n\t\t\t\t'username': state.taFaculty,\n\t\t\t\t'account-role': 1,\n\t\t\t}\n\t\t\tupdateCollectionRoles(collection.id, roleEndpoints.addTA, body)\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\ttaFaculty: ``,\n\t\t\t})\n\t\t},\n\t\tremoveFaculty: e => {\n\t\t\te.preventDefault()\n\n\t\t\tconst data = JSON.parse(e.target.dataset.item)\n\t\t\tconst body = data.NetID || null\n\n\t\t\tif (body !== null) updateCollectionRoles(collection.id, roleEndpoints.removeUser, body)\n\n\t\t\telse alert(`Error, netId not found`)\n\t\t},\n\t\taddException: e => {\n\t\t\te.preventDefault()\n\t\t\tupdateCollectionRoles(collection.id, roleEndpoints.addException, this.state.exception)\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\texception: ``,\n\t\t\t})\n\t\t},\n\t\tremoveException: e => {\n\t\t\te.preventDefault()\n\t\t\tconst data = JSON.parse(e.target.dataset.item)\n\t\t\tconst body = data.NetID || null\n\t\t\tif (body !== null)\n\t\t\t\tupdateCollectionRoles(collection.id, roleEndpoints.removeUser, body)\n\t\t\telse alert(`Error, netId not found`)\n\t\t},\n\t}\n\n\tconst viewstate = {\n\t\tcollection,\n\t\troles: collectionRoles,\n\t\tstate,\n\t}\n\n\treturn <CollectionPermissions viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStoreToProps = store => ({\n\troles: store.collectionStore.roles,\n})\n\nconst mapDispatchToProps = {\n\tgetCollectionRoles: services.collectionService.getCollectionRoles,\n\tupdateCollectionRoles: services.collectionService.updateCollectionRoles,\n}\n\nexport default connect(mapStoreToProps, mapDispatchToProps)(CollectionPermissionsContainer)\n","import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport services from 'services'\n\nimport { ContentSettings } from 'components'\n\nconst ContentSettingsContainer = props => {\n\n\tconst {\n\t\tshowing,\n\t\tcontent,\n\t\tresources,\n\t\tloading,\n\t\tgetResources,\n\t} = props\n\n\tconst {\n\t\tsetContentState,\n\t\tsetShowing,\n\t} = props.handlers\n\n\tconst [tag, setTag] = useState(``)\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (!resources[content.resourceId]) getResources(content.resourceId)\n\t\t\telse if (!content.resource) {\n\t\t\t\tsetContentState({\n\t\t\t\t\t...content,\n\t\t\t\t\tresource: resources[content.resourceId],\n\t\t\t\t})\n\t\t\t} else setShowing(true)\n\t\t},\n\t\t[content, getResources, resources, setContentState, setShowing]\n\t)\n\n\tif (!content || !content.resource) return null\n\n\tconst handleToggle = e => {\n\t\tconst { key } = e.target.dataset\n\t\tsetContentState({\n\t\t\t...content,\n\t\t\tsettings: {\n\t\t\t\t...content.settings,\n\t\t\t\t[key]: !content.settings[key],\n\t\t\t},\n\t\t})\n\t}\n\n\tconst handleRatio = e => {\n\t\tsetContentState({\n\t\t\t...content,\n\t\t\tsettings: {\n\t\t\t\t...content.settings,\n\t\t\t\taspectRatio: e.target.value,\n\t\t\t},\n\t\t})\n\t}\n\n\tconst handleDescription = e => {\n\t\tsetContentState({\n\t\t\t...content,\n\t\t\tresource: {\n\t\t\t\t...content.resource,\n\t\t\t\tdescription: e.target.value,\n\t\t\t},\n\t\t})\n\t}\n\n\tconst addTag = () => {\n\t\tconst newTags = tag.split(/[ ,]+/)\n\t\tsetContentState({\n\t\t\t...content,\n\t\t\tresource: {\n\t\t\t\t...content.resource,\n\t\t\t\tkeywords: [...newTags, ...content.resource.keywords],\n\t\t\t},\n\t\t})\n\t\tsetTag(``)\n\t}\n\n\tconst removeTag = e => {\n\t\tsetContentState({\n\t\t\t...content,\n\t\t\tresource: {\n\t\t\t\t...content.resource,\n\t\t\t\tkeywords: content.resource.keywords.filter(item => item !== e.target.dataset.value),\n\t\t\t},\n\t\t})\n\t}\n\n\tconst changeTag = e => {\n\t\tsetTag(e.target.value)\n\t}\n\n\tconst viewstate = {\n\t\tshowing,\n\t\tcontent,\n\t\ttag,\n\t\tloading,\n\t}\n\n\tconst handlers = {\n\t\thandleToggle,\n\t\thandleRatio,\n\t\thandleDescription,\n\t\taddTag,\n\t\tremoveTag,\n\t\tchangeTag,\n\t}\n\n\treturn <ContentSettings viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStoreToProps = store => ({\n\tresources: store.resourceStore.cache,\n\tloading: store.contentStore.loading,\n})\n\nconst mapDispatchToProps = {\n\tgetResources: services.resourceService.getResources,\n}\n\nexport default connect(mapStoreToProps, mapDispatchToProps)(ContentSettingsContainer)","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport { Header } from 'components'\n\nexport class HeaderContainer extends Component {\n\trender() {\n\n\t\tconst {\n\t\t\tlost,\n\t\t\tborder,\n\t\t} = this.props\n\n\t\tconst viewstate = {\n\t\t\tlost,\n\t\t\tborder,\n\t\t}\n\n\t\treturn <Header viewstate={viewstate} />\n\t}\n}\n\nconst mapStateToProps = store => ({\n\tlost: store.interfaceStore.lost,\n\tborder: store.interfaceStore.headerBorder,\n})\n\nexport default connect(mapStateToProps)(HeaderContainer)\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport User from 'models/User'\n\nimport { LabAssistant } from 'components'\n\nimport { adminService, interfaceService } from 'services'\n\nconst LabAssistantContainer = props => {\n\n\tconst {\n\t\tprofessors,\n\t\tsearchProfessors,\n\t\tsetHeaderBorder,\n\t} = props\n\n\tconst category = {\n\t\tUsers: {\n\t\t\tname: `Professors`,\n\t\t\tplaceholder: `Search for a professor`,\n\t\t\turl: `user`,\n\t\t},\n\t}\n\n\tconst [searchQuery, setSearchQuery] = useState(``)\n\n\tuseEffect(() => {\n\t\tsetHeaderBorder(true)\n\t\treturn () => {\n\t\t\tsetHeaderBorder(false)\n\t\t}\n\t}, [setHeaderBorder])\n\n\tconst updateSearchBar = e => {\n\t\tconst { value } = e.target\n\t\tsetSearchQuery(value)\n\t\tif (value.length > 1) searchProfessors(value, true)\n\t}\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault()\n\t}\n\n\t//console.log(professors)\n\n\tconst viewstate = {\n\t\tsearchQuery,\n\t\t// TODO: Admins who are also Profs, should have `prof` included in their roles because we will only search for that, not admin\n\t\tdata: professors ? professors.filter(item => item.roles === 2 || item.roles === 0) : [],\n\t\tplaceholder: category.Users.placeholder,\n\t}\n\n\tconst handlers = {\n\t\tupdateSearchBar,\n\t\thandleSubmit,\n\t}\n\n\treturn <LabAssistant viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = store => ({\n\tprofessors: store.adminStore.professors,\n})\n\nconst mapDispatchToProps = {\n\tsearchProfessors: adminService.searchProfessors,\n\tsetHeaderBorder: interfaceService.setHeaderBorder,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LabAssistantContainer)\n","import styled from 'styled-components'\n\nimport searchIcon from 'assets/search.svg'\n\nexport const Form = styled.form`\n\tdisplay: grid;\n\t/* grid: repeat(3, 1fr) / 1fr; */\n\tgrid-gap: 2rem;\n\n\tmin-width: 30rem;\n\tmin-height: 35rem;\n\n\n\t& input, select {\n\t\tflex: 5;\n\t\tborder: none;\n\t\tborder-bottom: 1px solid #ccc;\n\t\toutline: none;\n\t}\n\n\t& > label{\n\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\n\t\t& > span {\n\t\t\tflex: 1;\n\t\t}\n\n\t}\n\n\t& > div {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n\n\t.keywords-list {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: start;\n\t\tmax-width: 30rem;\n\n\t\t& > span {\n\t\t\tcolor: white;\n\t\t\tbackground-color: #0582CA;\n\t\t\tpadding: .5rem .75rem;\n\t\t\tborder-radius: 1.2rem;\n\t\t\tmargin: 0 .5rem 0 0;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t}\n\t}\n`\n\nexport const Button = styled.button`\n\tfont-size: 1.5rem;\n\tcolor: ${props => props.color || `black`};\n\tbackground: transparent;\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n`\n\nexport const SearchIcon = styled.span`\n\tposition: absolute;\n\tz-index: 10;\n\ttop: 1rem;\n\tleft: 2rem;\n\tbackground: url(${searchIcon}) center no-repeat;\n\tbackground-size: contain;\n\theight: 2rem;\n\twidth: 2rem;\n`\n\nexport const RemoveKeyword = styled.button`\n\theight: 1.5rem;\n\twidth: 1.5rem;\n\tbackground: url(${props => props.src}) center no-repeat;\n\tbackground-size: contain;\n\ttransform: rotate(45deg);\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n\tpadding: 0;\n\tmargin: 0 -.25rem 0 .25rem;\n`\n\nexport const TableContainer = styled.div`\n\theight: 25rem;\n\toverflow-y: scroll;\n`\n\nexport const Table = styled.table`\n\t/*background: white;*/\n\t/*box-shadow: 0 2px 5px -1px rgba(0,0,0,0.15);*/\n\twidth: 100%;\n\n\t& th {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t}\n\n\t& tr {\n\t\tbackground: white;\n\t\tbox-shadow: 0 2px 5px -1px rgba(0,0,0,0.15);\n\t}\n\n\t& td {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t\t& label {\n\t\t\tpadding: 1rem;\n\t\t}\n\t}\n`\n\nexport const Tabs = styled.div`\n\tmargin: 2rem 0;\n\tpadding: 0;\n`\n\nexport const Tab = styled.button`\n\tfont-weight: ${props => props.selected ? `500` : `300`};\n\tcolor: ${props => props.selected ? `#0057B8` : `black`};\n\n\tborder-radius: .3rem;\n\n\tpadding: .75rem 1.25rem;\n\tbackground: ${props => props.selected ? `#D2E8FF` : `transparent`};\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n`\n\nexport const TypeButton = styled.button`\n\tbackground: transparent;\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n\n\tfont-weight: ${props => props.selected ? `500` : `300`};\n\tcolor: ${props => props.selected ? `#0057B8` : `black`};\n`\n","import React, { PureComponent } from 'react'\n\nimport {\n\tForm,\n\tButton,\n\tRemoveKeyword,\n\tTable,\n\tTableContainer,\n\tTabs,\n\tTab,\n\tTypeButton,\n} from './styles'\n\nimport plus from 'assets/plus_blue.svg'\n\nexport default class CreateContent extends PureComponent {\n\n\trender() {\n\n\t\tconst {\n\t\t\tadminContent,\n\t\t\tsearchQuery,\n\t\t\ttab,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\ttitle,\n\t\t\tcontentType,\n\t\t\turl,\n\t\t\tdescription,\n\t\t\tresource,\n\t\t} = this.props.viewstate.data\n\n\t\tconst {\n\t\t\tchangeTab,\n\t\t\thandleAddResourceSubmit,\n\t\t\thandleSearchTextChange,\n\t\t\thandleSelectResourceChange,\n\t\t\thandleSubmit,\n\t\t\thandleTextChange,\n\t\t\thandleTypeChange,\n\t\t\tonKeyPress,\n\t\t\tremove,\n\t\t\ttoggleModal,\n\t\t} = this.props.handlers\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<h2>Create New Content</h2>\n\n\t\t\t\t<Tabs>\n\t\t\t\t\t<Tab selected={tab === `url`} onClick={changeTab} name={`url`}>From URL</Tab>\n\t\t\t\t\t<Tab selected={tab === `resource`} onClick={changeTab} name={`resource`}>Search Resources</Tab>\n\t\t\t\t</Tabs>\n\n\t\t\t\t{tab === `url` &&\n\t\t\t\t\t<Form onKeyPress={onKeyPress} onSubmit={handleSubmit} id='create-content-form' >\n\t\t\t\t\t\t<label htmlFor='create-content-title'>\n\t\t\t\t\t\t\t<span>Title</span>\n\t\t\t\t\t\t\t<input id='create-content-title' type='text' name='title' value={title} onChange={handleTextChange} required />\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t<label htmlFor='create-content-type'>\n\t\t\t\t\t\t\t<span>Type</span>\n\t\t\t\t\t\t\t<div style={{ flex: `5`, display: `flex`, justifyContent: `space-between` }}>\n\t\t\t\t\t\t\t\t<TypeButton type='button' selected={contentType === `video`} onClick={handleTypeChange} data-type='video'>Video</TypeButton>\n\t\t\t\t\t\t\t\t<TypeButton type='button' selected={contentType === `audio`} onClick={handleTypeChange} data-type='audio'>Audio</TypeButton>\n\t\t\t\t\t\t\t\t<TypeButton type='button' selected={contentType === `image`} onClick={handleTypeChange} data-type='image'>Image</TypeButton>\n\t\t\t\t\t\t\t\t<TypeButton type='button' selected={contentType === `text`} onClick={handleTypeChange} data-type='text'>Text</TypeButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t<label htmlFor='create-content-url'>\n\t\t\t\t\t\t\t<span>URL</span>\n\t\t\t\t\t\t\t<input id='create-content-url' type='text' name='url' value={url} onChange={handleTextChange} required />\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t<label htmlFor='create-content-description'>\n\t\t\t\t\t\t\t<span>Description</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<textarea id='create-content-description' name='description' value={description} onChange={handleTextChange} rows={4} required />\n\n\t\t\t\t\t\t<label htmlFor='create-content-keywords'>\n\t\t\t\t\t\t\t<span>Tags</span>\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t<div className='keywords-list'>\n\t\t\t\t\t\t\t{resource.keywords.map((keyword, index) => <span key={index}>{keyword}<RemoveKeyword src={plus} onClick={remove} type='button' data-keyword={keyword} /></span>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/* TODO: MAKE THE TAGS WORK AND BE PASSED WHEN ON CHANGE EVENT */}\n\t\t\t\t\t\t<input id='keyword-datalist-input' type='text' name='keywords' list='create-content-keywords' placeholder='Add a tag...'/>\n\t\t\t\t\t\t<datalist id='create-content-keywords'>\n\t\t\t\t\t\t\t{resource.keywords.map((keyword, index) => <option key={index} value={keyword} />)}\n\t\t\t\t\t\t</datalist>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button type='button' onClick={toggleModal}>Cancel</Button>\n\t\t\t\t\t\t\t<Button type='submit' color={`#0582CA`}>Create</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Form>\n\t\t\t\t}\n\n\t\t\t\t{tab === `resource` &&\n\t\t\t\t\t<Form onSubmit={handleAddResourceSubmit}>\n\t\t\t\t\t\t{console.log(adminContent)}\n\t\t\t\t\t\t<label htmlFor='create-content-resource-search'>\n\t\t\t\t\t\t\t<span>Title</span>\n\t\t\t\t\t\t\t<input type='text' name='searchInput' value={searchQuery} onChange={handleSearchTextChange} />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<TableContainer>\n\t\t\t\t\t\t\t<Table>\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tadminContent &&\n\t\t\t\t\t\t\t\t\tadminContent.map(content =>\n\t\t\t\t\t\t\t\t\t\t<tr key={content.id}>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type='radio' value={content.resourceId} name='resource' onChange={handleSelectResourceChange}/>\n\t\t\t\t\t\t\t\t\t\t\t\t<label>{content.name}</label>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>,\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</TableContainer>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button type='button' onClick={toggleModal}>Cancel</Button>\n\t\t\t\t\t\t\t<Button type='submit' color={`#0582CA`}>Create</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Form>\n\t\t\t\t}\n\t\t\t</>\n\t\t)\n\t}\n}\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport Content from 'models/Content'\n\nimport {\n\tcontentService,\n\tinterfaceService,\n\tadminService,\n} from 'services'\n\nimport CreateContent from 'components/modals/components/CreateContent'\n\nconst CreateContentContainer = props => {\n\n\tconst {\n\t\tadminContent,\n\t\tadminCreateContent,\n\t\tadminCreateContentFromResource,\n\t\tcreateContent,\n\t\tmodal,\n\t\tsearch,\n\t\ttoggleModal,\n\t} = props\n\n\tconst [tab, setTab] = useState(`url`)\n\tconst [searchQuery, setSearchQuery] = useState(``)\n\tconst [selectedResource, setSelectedResource] = useState(``)\n\tconst [data, setData] = useState({\n\t\turl: ``,\n\t\tresourceId: ``,\n\t\tcontentType: `video`,\n\t\ttitle: ``,\n\t\tdescription: ``,\n\t\tresource: {\n\t\t\tkeywords: [],\n\t\t}\n\t})\n\n\tconst changeTab = e => {\n\t\tsetTab(e.target.name)\n\t}\n\n\tconst onKeyPress = e => {\n\t\tif (e.which === 13) {\n\t\t\te.preventDefault()\n\t\t\taddKeyword(e.target)\n\t\t}\n\t}\n\n\tconst handleTextChange = e => {\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[e.target.name]: e.target.value,\n\t\t})\n\t}\n\n\tconst handleSearchTextChange = e => {\n\t\tconst { value } = e.target\n\t\tsetSearchQuery(value)\n\t\tif (value.length > 1) search(`content`, value, true)\n\t}\n\n\tconst handleSelectResourceChange = e => {\n\t\tconst { target } = e\n\t\t//console.log(target.value)\n\t\tsetSelectedResource(target.value)\n\t}\n\n\tconst handleTypeChange = e => {\n\t\tconst contentType = e.target.dataset.type\n\t\tsetData({\n\t\t\t...data,\n\t\t\tcontentType,\n\t\t})\n\t}\n\n\tconst addKeyword = element => {\n\t\tif (element.id !== `keyword-datalist-input` || element.value === ``) return\n\n\t\tsetData({\n\t\t\t...data,\n\t\t\tresource: {\n\t\t\t\tkeywords: [...data.resource.keywords, element.value],\n\t\t\t}\n\t\t})\n\n\t\tdocument.getElementById(`create-content-form`).reset()\n\t}\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault()\n\t\t//console.log(data)\n\t\tlet tags = ''\n\t\t\n\t\tif(data.resource.keywords.length !== 0){\n\t\t\t//console.log(data.resource.keywords)\n\t\t\tdata.resource.keywords.forEach((element, i) => {\n\n\t\t\t\tif(i !== data.resource.keywords.length -1){\n\t\t\t\t\ttags += `${element}; `\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttags += `${element}`\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tlet temp = {\n\t\t\t\n\t\t\t\"allow-definitions\": true,\n\t\t\t\"url\": data.url,\n\t\t\t\"allow-captions\": true,\n\t\t\t\"content-type\": data.contentType,\n\t\t\t\"resource-id\": \"00000000-0000-0000-0000-000000000000\",\n\t\t\t\"tags\": tags,\n\t\t\t\"thumbnail\": \"\",\n\t\t\t\"file-version\": '',\n\t\t\t\"collection-id\": modal.collectionId,\n\t\t\t\"views\": 0,\n\t\t\t\"annotations\": \"\",\n\t\t\t\"title\": data.title,\n\t\t\t\"allow-notes\": true,\n\t\t\t\"description\": data.description\n\t\t\t\n\t\t}\n\t\t\n\t\tif(modal.isLabAssistantRoute) adminCreateContent(temp)\n\t\telse createContent(temp)\n\t\ttoggleModal()\n\t}\n\n\tconst handleAddResourceSubmit = e => {\n\t\te.preventDefault()\n\t\tadminCreateContentFromResource(modal.collectionId, selectedResource)\n\t\ttoggleModal()\n\t}\n\n\tconst remove = e => {\n\t\tconst badkeyword = e.target.dataset.keyword\n\t\tsetData({\n\t\t\t...data,\n\t\t\tresource: {\n\t\t\t\tkeywords: data.keywords.filter(keyword => keyword !== badkeyword)\n\t\t\t},\n\t\t})\n\t}\n\n\tconst viewstate = {\n\t\tadminContent,\n\t\tdata,\n\t\tsearchQuery,\n\t\ttab,\n\t}\n\n\tconst handlers = {\n\t\tchangeTab,\n\t\thandleAddResourceSubmit,\n\t\thandleSearchTextChange,\n\t\thandleSelectResourceChange,\n\t\thandleSubmit,\n\t\thandleTextChange,\n\t\thandleTypeChange,\n\t\tonKeyPress,\n\t\tremove,\n\t\ttoggleModal,\n\t}\n\n\treturn <CreateContent viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = store => ({\n\tadmin: store.authStore.user.roles === 0,\n\tadminContent: store.adminStore.data,\n\tmodal: store.interfaceStore.modal,\n\tcollections: store.collectionStore.cache,\n})\n\nconst mapDispatchToProps = {\n\tadminCreateContent: adminService.createContent,\n\tadminCreateContentFromResource: adminService.createContentFromResource,\n\tcreateContent: contentService.createContent,\n\ttoggleModal: interfaceService.toggleModal,\n\tsearch: adminService.search,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateContentContainer)","import React, { useState, useEffect } from 'react'\n\nimport { connect } from 'react-redux'\n\nimport {\n\tadminService,\n\tcollectionService,\n\tinterfaceService,\n} from 'services'\n\nimport { ManageCollection } from 'components'\n\nimport CreateContentContainer from 'components/modals/containers/CreateContentContainer'\n\nconst LabAssistantManageCollectionContainer = props => {\n\n\tconst {\n\t\tcollection,\n\t\tcontent,\n\t\tgetCollectionContent,\n\t\tupdateCollectionStatus,\n\t} = props\n\n\tconst [isContent, setIsContent] = useState(true)\n\n\tuseEffect(() => {\n\t\tgetCollectionContent(collection.id, true)\n\t}, [collection, getCollectionContent])\n\n\tconst togglePublish = e => {\n\t\te.preventDefault()\n\t\tupdateCollectionStatus(collection.id, collection.published ? `unpublish` : `publish`)\n\t}\n\n\tconst createContent = () => {\n\t\tprops.toggleModal({\n\t\t\tcomponent: CreateContentContainer,\n\t\t\tcollectionId: collection.id,\n\t\t\tisLabAssistantRoute: true,\n\t\t})\n\t}\n\n\tconst archive = e => {\n\t\te.preventDefault()\n\t\tupdateCollectionStatus(collection.id, `archive`)\n\t}\n\n\tconst setTab = isContent => _e => {\n\t\tsetIsContent(isContent)\n\t}\n\n\tif(!content) return null\n\n\tconst viewstate = {\n\t\tcollection,\n\t\tcontent: Object.keys(content).map(key => content[key]),\n\t\tisContent,\n\t}\n\n\tconst handlers = {\n\t\ttogglePublish,\n\t\tcreateContent,\n\t\tarchive,\n\t\tsetTab,\n\t}\n\n\treturn <ManageCollection viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = store => ({\n\tcontent: store.adminStore.profCollectionContent,\n})\n\nconst mapDispatchToProps = {\n\tgetCollectionContent: adminService.getCollectionContent,\n\ttoggleModal: interfaceService.toggleModal,\n\tupdateCollectionStatus: collectionService.updateCollectionStatus,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LabAssistantManageCollectionContainer)\n","import styled from 'styled-components'\n\nexport const Wrapper = styled.form`\n\tdisplay: grid;\n\tgrid: repeat(3, 1fr) / 1fr;\n\tgrid-gap: 2rem;\n\n\tmin-width: 30rem;\n\n\t& > input {\n\t\tborder: none;\n\t\tborder-bottom: 1px solid #ccc;\n\t\toutline: none;\n\t}\n\n\t& > div {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n`\n\nexport const Button = styled.button`\n\tfont-size: 1.5rem;\n\tcolor: ${props => props.color || `black`};\n\tbackground: transparent;\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n`\n","import React, { PureComponent } from 'react'\n\nimport {\n\tWrapper,\n\tButton,\n} from './styles'\n\nexport default class CreateCollection extends PureComponent {\n\n\trender() {\n\n\t\tconst {\n\t\t\tname,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\thandleNameChange,\n\t\t\thandleSubmit,\n\t\t\ttoggleModal,\n\t\t} = this.props.handlers\n\n\t\treturn (\n\t\t\t<Wrapper onSubmit={handleSubmit}>\n\t\t\t\t<h2>Create New Collection</h2>\n\t\t\t\t<input type={`text`} name={`name`} value={name} onChange={handleNameChange} placeholder={`Collection name...`} />\n\t\t\t\t<div>\n\t\t\t\t\t<Button type='button' onClick={toggleModal}>Cancel</Button>\n\t\t\t\t\t<Button type='submit' color={`#0582CA`}>Create</Button>\n\t\t\t\t</div>\n\t\t\t</Wrapper>\n\t\t)\n\t}\n}\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport CreateCollection from 'components/modals/components/CreateCollection'\n\nimport { interfaceService, collectionService, adminService } from 'services'\n\nconst CreateCollectionContainer = props => {\n\n\tconst {\n\t\tuserId,\n\t\tadminCreateCollection,\n\t\tcreateCollection,\n\t\tisLabAssistantRoute,\n\t\ttoggleModal,\n\t} = props\n\n\tconst [name, setName] = useState(``)\n\n\tconst handleNameChange = e => {\n\t\tsetName(e.target.value)\n\t}\n\n\tconst handleSubmit = async e => {\n\t\te.preventDefault()\n\n\t\tconst defaultV = {\n\t\t\t'published': false,\n\t\t\t'archived': false, \n\t\t\t'owner': userId, \n\t\t\t'collection-name': name,\n\t\t}\n\n\t\tif(isLabAssistantRoute) adminCreateCollection(defaultV)\n\t\telse createCollection(defaultV)\n\t\ttoggleModal()\n\t}\n\n\tconst viewstate = {\n\t\tname,\n\t}\n\n\tconst handlers = {\n\t\thandleNameChange,\n\t\thandleSubmit,\n\t\ttoggleModal,\n\t}\n\n\treturn <CreateCollection viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = store => ({\n\tuserId: store.authStore.user.id,\n\tisLabAssistantRoute: store.interfaceStore.modal.isLabAssistantRoute,\n})\n\nconst mapDispatchToProps = {\n\tadminCreateCollection: adminService.createCollection,\n\tcreateCollection: collectionService.createCollection,\n\ttoggleModal: interfaceService.toggleModal,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateCollectionContainer)","import React, { useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport { interfaceService, adminService } from 'services'\n\nimport { Manager } from 'components'\n\nimport CreateCollectionContainer from 'components/modals/containers/CreateCollectionContainer'\nimport { objectIsEmpty } from 'lib/util'\n\nconst LabAssistantManagerContainer = props => {\n\n\tconst {\n\t\tadmin,\n\t\tcollections,\n\t\tprofessor,\n\t\tsearchCollections,\n\t\tsetHeaderBorder,\n\t\tsetProfessor,\n\t\ttoggleModal,\n\t} = props\n\n\tconst { professorId, collectionId } = useParams()\n\n\tuseEffect(() => {\n\t\tsetHeaderBorder(true)\n\n\t\tif(objectIsEmpty(professor)){\n\t\t\tsetProfessor(professorId)\n\n\t\t\tif (!collections)\n\t\t\t\tsearchCollections(professorId, true)\n\t\t\telse console.log(collections)\n\t\t}\n\t\treturn () => {\n\t\t\tsetHeaderBorder(false)\n\t\t}\n\t}, [collections, professor, professorId, searchCollections, setHeaderBorder, setProfessor])\n\n\tif(!professor || objectIsEmpty(professor) || !collections) return null\n\n\tconst professorCollections = collections.reduce((accumulator, collection) => {\n\t\tif (collection.owner === parseInt(professor.id)) {\n\t\t\treturn {\n\t\t\t\t...accumulator,\n\t\t\t\t[collection.id]: collection,\n\t\t\t}\n\t\t}\n\t\treturn accumulator\n\t}, {})\n\n\tconst sideLists = {\n\t\tpublished: [],\n\t\tunpublished: [],\n\t\tarchived: [],\n\t}\n\n\tObject.keys(professorCollections).forEach(id => {\n\t\tconst { archived, published, name } = professorCollections[id]\n\n\t\tif (archived) sideLists.archived.push({ id, name })\n\t\telse if (published) sideLists.published.push({ id, name })\n\t\telse sideLists.unpublished.push({ id, name })\n\t})\n\n\tconst createNew = () => {\n\t\ttoggleModal({\n\t\t\tcomponent: CreateCollectionContainer,\n\t\t\tisLabAssistantRoute: true,\n\t\t})\n\t}\n\n\tconst viewstate = {\n\t\tadmin,\n\t\tcollection: professorCollections[collectionId],\n\t\tpath: `lab-assistant-manager/${professor.id}`,\n\t\tsideLists,\n\t\tuser: professor,\n\t}\n\n\tconst handlers = {\n\t\tcreateNew,\n\t}\n\n\treturn <Manager viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = store => ({\n\tprofessor: store.adminStore.professor,\n\tcollections: store.adminStore.professorCollections,\n\tadmin: store.authStore.user.roles === 0,\n})\n\nconst mapDispatchToProps = {\n\tsearchCollections: adminService.searchCollections,\n\tsetHeaderBorder: interfaceService.setHeaderBorder,\n\tsetProfessor: adminService.setProfessor,\n\ttoggleModal: interfaceService.toggleModal,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LabAssistantManagerContainer)\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport { authService } from 'services'\n\nimport { Landing } from 'components'\n\nconst LandingContainer = props => {\n\n\tconst {\n\t\tlogin,\n\t} = props\n\n\tconst [overlay, setOverlay] = useState(false)\n\n\tconst toggleOverlay = () => {\n\t\tsetOverlay(!overlay)\n\t}\n\n\tconst handleLogin = e => {\n\t\te.preventDefault()\n\t\tlogin()\n\t}\n\n\tconst viewstate = {\n\t\toverlay,\n\t}\n\n\tconst handlers = {\n\t\ttoggleOverlay,\n\t\thandleLogin,\n\t}\n\n\treturn <Landing viewstate={viewstate} handlers={handlers} />\n\n}\n\nconst mapDispatchToProps = {\n\tlogin: authService.login,\n}\n\nexport default connect(null, mapDispatchToProps)(LandingContainer)\n","import { Component } from 'react'\nimport { connect } from 'react-redux'\nimport {\n\tauthService,\n} from 'services'\n\nclass LoginContainer extends Component {\n\n\t// caslogin = () => {\n\t// \tconst url = `${process.env.REACT_APP_YVIDEO_SERVER}/auth/cas/redirect${window.location.origin}/success`\n\t// \tconst name = `BYU CAS Secure Login`\n\t// \tconst popup = window.open(url, name, `width=500,height=1030`)\n\n\t// \tconst popuppoll = setInterval(() => {\n\t// \t\ttry {\n\t// \t\t\tif (popup.location.origin === window.location.origin || popup.closed) {\n\t// \t\t\t\tclearInterval(popuppoll)\n\t// \t\t\t\tpopup.close()\n\t// \t\t\t\tthis.props.login().then(() => {\n\t// \t\t\t\t\tthis.props.history.push(`/`)\n\t// \t\t\t\t})\n\t// \t\t\t}\n\t// \t\t} catch ({ message }) {\n\t// \t\t\tconsole.error(message)\n\t// \t\t}\n\t// \t}, 300)\n\t// }\n\n\trender() {\n\t\treturn null\n\t}\n\n\t// componentDidMount = () => {\n\t// \tconst {\n\t// \t\tuser,\n\t// \t} = this.props\n\n\t// \tif (!user) this.caslogin()\n\t// }\n}\n\nconst mapStoreToProps = ({ authStore, interfaceStore }) => ({\n\tuser: authStore.user,\n\tloading: authStore.loading,\n})\n\nconst mapDispatchToProps = {\n\tlogin: authService.login,\n}\n\nexport default connect(mapStoreToProps, mapDispatchToProps)(LoginContainer)\n","import React, { useState, useEffect } from 'react'\n\nimport { connect } from 'react-redux'\n\nimport { collectionService, contentService, interfaceService } from 'services'\n\nimport { ManageCollection } from 'components'\n\nimport CreateContentContainer from 'components/modals/containers/CreateContentContainer'\n\nimport { objectIsEmpty } from 'lib/util'\n\nconst ManageCollectionContainer = props => {\n\n\tconst {\n\t\tadmin,\n\t\tcollection,\n\t\tcontent,\n\t\tgetContent,\n\t\tupdateCollectionName,\n\t\tupdateCollectionStatus,\n\t} = props\n\n\tconst [isContent, setIsContent] = useState(true)\n\tconst [isEditingCollectionName, setIsEditingCollectionName] = useState(false)\n\tconst [collectionName, setCollectionName] = useState(collection.name)\n\n\tuseEffect(() => {\n\t\tconst ids = collection.content.map(item => (item.id))\n\t\tgetContent(ids)\n\t\tsetCollectionName(collection.name)\n\t}, [collection.content, collection.name, content, getContent])\n\n\tconst toggleEdit = e => {\n\t\tsetIsEditingCollectionName(!isEditingCollectionName)\n\t\tif (isEditingCollectionName)\n\t\t\tupdateCollectionName(collection.id, collectionName)\n\t}\n\n\tconst handleNameChange = e => {\n\t\tconst { value } = e.target\n\t\tsetCollectionName(value)\n\t}\n\n\tconst togglePublish = e => {\n\t\te.preventDefault()\n\t\tupdateCollectionStatus(collection.id, collection.published ? `unpublish` : `publish`)\n\t}\n\n\tconst createContent = () => {\n\t\tprops.toggleModal({\n\t\t\tcomponent: CreateContentContainer,\n\t\t\tcollectionId: collection.id,\n\t\t})\n\t}\n\n\tconst archive = e => {\n\t\te.preventDefault()\n\t\tupdateCollectionStatus(collection.id, `archive`)\n\t}\n\n\tconst unarchive = e => {\n\t\te.preventDefault()\n\t\tupdateCollectionStatus(collection.id, `unarchive`)\n\t}\n\n\tconst setTab = isContent => _e => {\n\t\tsetIsContent(isContent)\n\t}\n\n\tif (objectIsEmpty(content) && collection.content.length) return null\n\n\t// Forces rerender when content and collection.content don't contain the same content, and when creating new content\n\tconst contentCheck = collection.content.map(item => content[item.id])\n\tif (contentCheck.length > 0 &&\n\t\t(contentCheck[0] === undefined || contentCheck[contentCheck.length - 1] === undefined))\n\t\treturn null\n\n\tconst viewstate = {\n\t\tadmin,\n\t\tisEditingCollectionName,\n\t\tcollection,\n\t\tcollectionName,\n\t\tcontent: collection.content.map(item => content[item.id]),\n\t\tisContent,\n\t}\n\n\tconst handlers = {\n\t\tunarchive,\n\t\ttoggleEdit,\n\t\thandleNameChange,\n\t\ttogglePublish,\n\t\tcreateContent,\n\t\tarchive,\n\t\tsetTab,\n\t}\n\n\treturn <ManageCollection viewstate={viewstate} handlers={handlers} />\n\n}\n\nconst mapStateToProps = store => ({\n\tcontent: store.contentStore.cache,\n\tadmin: store.authStore.user.roles,\n})\n\nconst mapDispatchToProps = {\n\tgetContent: contentService.getContent,\n\ttoggleModal: interfaceService.toggleModal,\n\tupdateCollectionName: collectionService.updateCollectionName,\n\tupdateCollectionStatus: collectionService.updateCollectionStatus,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ManageCollectionContainer)","import React, { useEffect } from 'react'\nimport { useParams, useLocation } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport { collectionService, interfaceService } from 'services'\n\nimport { Manager } from 'components'\n\nimport CreateCollectionContainer from 'components/modals/containers/CreateCollectionContainer'\n\nimport { objectIsEmpty } from 'lib/util'\n\nconst ManagerContainer = props => {\n\n\tconst {\n\t\tadmin,\n\t\tcollections,\n\t\tgetCollections,\n\t\tsetHeaderBorder,\n\t\ttoggleModal,\n\t} = props\n\n\tconst params = useParams()\n\tconst location = useLocation()\n\n\tuseEffect(() => {\n\t\tsetHeaderBorder(true)\n\t\tgetCollections()\n\n\t\tif(location.createCollection) {\n\t\t\ttoggleModal({\n\t\t\t\tcomponent: CreateCollectionContainer,\n\t\t\t\troute: `manager`,\n\t\t\t})\n\t\t}\n\t}, [collections, getCollections, setHeaderBorder, location.createCollection, toggleModal])\n\n\tif (objectIsEmpty(collections)) return null\n\n\tconst sideLists = {\n\t\tpublished: [],\n\t\tunpublished: [],\n\t\tarchived: [],\n\t}\n\n\tObject.keys(collections).forEach(id => {\n\t\tconst { archived, published, name } = collections[id]\n\n\t\tif (archived) sideLists.archived.push({ id, name })\n\t\telse if (published) sideLists.published.push({ id, name })\n\t\telse sideLists.unpublished.push({ id, name })\n\t})\n\n\tconst createNew = () => {\n\t\ttoggleModal({\n\t\t\tcomponent: CreateCollectionContainer,\n\t\t})\n\t}\n\n\tconst viewstate = {\n\t\tadmin,\n\t\tcollection: collections[params.id],\n\t\tpath: `manager`,\n\t\tsideLists,\n\t}\n\n\tconst handlers = {\n\t\tcreateNew,\n\t}\n\n\treturn <Manager viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = store => ({\n\tcollections: store.collectionStore.cache,\n\tadmin: store.authStore.user.roles === 0,\n})\n\nconst mapDispatchToProps = {\n\tgetCollections: collectionService.getCollections,\n\tsetHeaderBorder: interfaceService.setHeaderBorder,\n\ttoggleModal: interfaceService.toggleModal,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ManagerContainer)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport services from 'services'\n\nimport { Menu } from 'components'\n\nimport { getInitials } from 'lib/util'\n\nconst MenuContainer = props => {\n\n\tconst {\n\t\tuser,\n\t\tisProf,\n\t\tisAdmin,\n\t\tmenuActive,\n\t\tlogout,\n\t\ttoggleMenu,\n\t} = props\n\n\tconst handleLogout = async e => {\n\t\te.preventDefault()\n\t\tawait logout()\n\t}\n\n\tconsole.log(user)\n\n\tconst viewstate = {\n\t\tuser,\n\t\tinitials: getInitials(user.name),\n\t\tmenuActive,\n\t\tisProf,\n\t\tisAdmin,\n\t}\n\n\tconst handlers = {\n\t\ttoggleMenu,\n\t\thandleLogout,\n\t}\n\n\treturn <Menu viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStoreToProps = ({ authStore, interfaceStore }) => ({\n\tuser: authStore.user,\n\tisProf: authStore.user.roles === 2,\n\tisAdmin: authStore.user.roles  === 0,\n\tisStudent: authStore.user.roles  === 3,\n\tmenuActive: interfaceStore.menuActive,\n})\n\nconst mapDispatchToProps = {\n\tlogout: services.authService.logout,\n\ttoggleMenu: services.interfaceService.toggleMenu,\n}\n\nexport default connect(mapStoreToProps, mapDispatchToProps)(MenuContainer)\n","import React, { useEffect, useRef } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport { contentService } from 'services'\n\nimport { objectIsEmpty } from 'lib/util'\n\nimport { Player } from 'components'\n\nconst PlayerContainer = props => {\n\n\tconst {\n\t\tuserId,\n\t\tcontent,\n\t\tgetContent,\n\t\taddView,\n\t} = props\n\n\tconst params = useParams()\n\tconst ref = useRef(null)\n\n\tuseEffect(() => {\n\t\tgetContent([params.id])\n\t}, [getContent, params.id])\n\n\tif(!objectIsEmpty(content)) addView(params.id)\n\n\tconst viewstate = {\n\t\tref,\n\t\tuserId,\n\t\tvideoId: params.id,\n\t\tcontent: content[params.id],\n\t}\n\n\treturn <Player viewstate={viewstate} />\n}\n\nconst mapStateToProps = ({ authStore, contentStore }) => ({\n\tisProf: authStore.user.roles === 2,\n\tisAdmin: authStore.user.roles === 0,\n\tuserId: authStore.user.id,\n\tcontent: contentStore.cache,\n})\n\nconst mapDispatchToProps = {\n\tgetContent: contentService.getContent,\n\taddView: contentService.addView,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayerContainer)\n","/* eslint-disable no-prototype-builtins */\n\nimport React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport services from 'services'\n\nimport { Root } from 'components'\n\nconst RootContainer = props => {\n\n\tconst {\n\t\tuser,\n\t\tloading,\n\t\ttried,\n\t\tmodal,\n\t\tcheckAuth,\n\t} = props\n\n\tuseEffect(() => {\n\t\tif (!user && !tried) checkAuth()\n\t}, [checkAuth, tried, user])\n\n\tconst viewstate = {\n\t\tuser,\n\t\tloading,\n\t\tmodal,\n\t}\n\n\treturn <Root viewstate={viewstate} />\n}\n\nconst mapStoreToProps = ({ authStore, interfaceStore, collectionStore, contentStore, resourceStore }) => ({\n\tuser: authStore.user,\n\tloading: authStore.loading,\n\ttried: authStore.tried,\n\tmodal: interfaceStore.modal,\n})\n\nconst mapDispatchToProps = {\n\tcheckAuth: services.authService.checkAuth,\n}\n\nexport default connect(mapStoreToProps, mapDispatchToProps)(RootContainer)\n","/* eslint-disable function-paren-newline */\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport * as serviceWorker from './serviceWorker'\n\nimport { Provider } from 'react-redux'\nimport store from 'services/store'\n\nimport { RootContainer } from 'containers'\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<RootContainer />\n\t</Provider>,\n\tdocument.getElementById(`root`),\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n// serviceWorker.register()\n","module.exports = __webpack_public_path__ + \"static/media/hexborder.418c1fbb.svg\";","module.exports = __webpack_public_path__ + \"static/media/search.a87eca9e.svg\";","module.exports = __webpack_public_path__ + \"static/media/carrot.b524e66e.svg\";","module.exports = __webpack_public_path__ + \"static/media/translation.dc20c630.svg\";","module.exports = __webpack_public_path__ + \"static/media/captions.1e66ccc3.svg\";","module.exports = __webpack_public_path__ + \"static/media/annotations.1cbb02c0.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus_blue.4d17e675.svg\";","module.exports = __webpack_public_path__ + \"static/media/admin-icon-edit.e405f6cd.svg\";","module.exports = __webpack_public_path__ + \"static/media/radio-checked.a855490f.svg\";","module.exports = __webpack_public_path__ + \"static/media/radio-unchecked.241ecef5.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow-left.3468c9c1.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow-right.b2096af9.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete.d5396b98.svg\";","module.exports = __webpack_public_path__ + \"static/media/block-view.f57dfe10.svg\";","module.exports = __webpack_public_path__ + \"static/media/list-view.411001d1.svg\";","module.exports = __webpack_public_path__ + \"static/media/desertbackground.80366c48.svg\";","module.exports = __webpack_public_path__ + \"static/media/CometsLeft.15e0bbfb.svg\";","module.exports = __webpack_public_path__ + \"static/media/CometsRight.9625e200.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus_gray.679a2b95.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus.5f720d7d.svg\";"],"sourceRoot":""}
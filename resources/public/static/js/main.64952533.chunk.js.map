{"version":3,"sources":["assets/search.svg","assets/hexborder.svg","assets/upload.svg","assets/carat_white.svg","assets/carrot.svg","assets/translation.svg","assets/captions.svg","assets/annotations.svg","assets/controls_pause.svg","assets/controls_play.svg","assets/controls_muted.svg","assets/plus_blue.svg","assets/trash.svg","assets/save.svg","assets/trash_icon.svg","assets/close_icon.svg","assets/admin-icon-edit.svg","assets/admin-icon-filter.svg","assets/admin-icon-sort.svg","assets/radio-checked.svg","assets/radio-unchecked.svg","assets/arrow-left.svg","assets/arrow-right.svg","assets/delete.svg","assets/controls_closed_captions.svg","assets/controls_enter_fullscreen.svg","assets/controls_exit_fullscreen.svg","assets/controls_volume.svg","assets/block-view.svg","assets/list-view.svg","assets/controls_unmuted.svg","assets/desertbackground.svg","assets/CometsLeft.svg","assets/CometsRight.svg","assets/plus_gray.svg","assets/plus.svg","assets/menu-white.svg","assets/event_skip.svg","assets/event_mute.svg","assets/event_pause.svg","assets/event_comment.svg","assets/event_blank.svg","assets/annotations-save.svg","assets/te-chevrons-left.svg","assets/te-chevrons-right.svg","assets/te-chevron-left.svg","assets/te-chevron-right.svg","assets/plus-square.svg","assets/time-bar-icon.svg","assets/x.svg","serviceWorker.js","models/User.js","models/Content.js","proxy/p/ApiProxy.js","proxy/p/Cookies.js","proxy/p/BrowserStorage.js","proxy/index.js","models/BackEndContent.js","models/ResourceObject.js","services/index.js","services/s/admin.redux.js","services/s/auth.redux.js","services/s/collections.redux.js","services/s/content.redux.js","services/s/interface.redux.js","services/s/resources.redux.js","services/s/file.redux.js","services/store.js","components/modals/components/ConfirmDelete/styles.js","components/modals/components/ConfirmDelete/index.jsx","components/modals/containers/ConfirmDeleteContainer.jsx","components/bits/Accordion/styles.js","components/bits/Accordion/index.jsx","components/bits/AdminTable/styles.js","components/bits/AdminTable/index.jsx","components/bits/AspectRadio/styles.js","components/bits/Bar/styles.js","components/bits/Bar/index.jsx","components/bits/BlockCollection/styles.js","components/bits/BlockCollection/index.jsx","components/bits/BlockItem/styles.js","components/bits/BlockItem/index.jsx","components/bits/EventCard/styles.js","components/bits/EventCard/index.jsx","components/bits/LabAssistantTable/styles.js","components/bits/LabAssistantTable/index.jsx","components/bits/LazyImage/styles.js","components/bits/LazyImage/index.jsx","components/bits/ListCollection/styles.js","components/bits/ListCollection/index.jsx","components/bits/ListItem/styles.js","components/bits/ListItem/index.jsx","components/bits/Modal/styles.js","components/bits/Modal/index.jsx","components/bits/PermissionTable/styles.js","components/bits/PermissionTable/index.jsx","components/bits/PlayerControls/styles.js","components/bits/PlayerControls/index.jsx","components/bits/ResourceTable/styles.js","components/bits/ResourceTable/index.jsx","components/bits/Scrubber/styles.js","components/bits/Scrubber/index.jsx","components/bits/Spinner/styles.js","components/bits/Spinner/index.jsx","components/bits/SwitchToggle/styles.js","components/bits/SwitchToggle/index.js","components/bits/Tag/styles.js","components/bits/Tag/index.jsx","components/bits/TrackEditorSideMenu/styles.js","components/bits/TrackEditorSideMenu/index.jsx","components/bits/VolumeBar/styles.js","components/bits/VolumeScrubber/styles.js","components/bits/VolumeScrubber/index.jsx","components/c/ResourceOverview/styles.js","components/c/ResourceOverview/index.jsx","components/c/Admin/styles.js","components/c/Admin/index.jsx","components/c/CollectionPermissions/styles.js","lib/util.js","components/c/CollectionPermissions/index.jsx","components/c/Collections/styles.js","components/c/Collections/index.jsx","components/c/ContentOverview/styles.js","components/c/ContentOverview/index.jsx","components/c/Controller/styles.js","components/c/Controller/index.jsx","components/c/Error/styles.js","components/c/Error/index.jsx","components/c/Events/styles.js","components/c/Events/index.jsx","components/c/Header/styles.js","components/c/Header/index.jsx","components/c/LabAssistant/styles.js","components/c/LabAssistant/index.jsx","components/c/Landing/styles.js","components/c/Landing/index.jsx","components/c/Load/styles.js","components/c/Load/index.jsx","components/c/ManageCollection/styles.js","components/c/ManageCollection/index.jsx","components/c/Manager/styles.js","components/c/Manager/index.jsx","components/c/Menu/styles.js","components/c/Menu/index.jsx","components/c/Overlay/styles.js","components/c/Overlay/index.jsx","components/c/Player/styles.js","components/c/Player/index.jsx","components/c/Root/index.jsx","components/c/NewTrackEditor/styles.js","components/c/NewTrackEditor/index.jsx","components/c/TrackLayer/styles.js","components/c/TrackLayer/index.jsx","components/c/VideoControls/styles.js","components/c/ManageResource/styles.js","components/modals/components/FileUpload/styles.js","components/modals/components/FileUpload/index.jsx","components/modals/containers/FileUploadContainer.jsx","containers/c/FileOverviewContainer.jsx","components/modals/components/ManageFiles/styles.js","components/modals/components/ManageFiles/index.jsx","components/modals/containers/ManageFilesContainer.jsx","containers/c/ResourceOverviewContainer.jsx","components/c/ManageResource/index.jsx","components/c/FileOverview/styles.js","components/c/FileOverview/index.jsx","containers/c/AdminContainer.jsx","containers/c/CollectionsContainer.jsx","containers/c/ContentOverviewContainer.jsx","containers/c/CollectionPermissionsContainer.jsx","models/events/index.js","containers/c/EventsContainer.jsx","containers/c/HeaderContainer.jsx","containers/c/LabAssistantContainer.jsx","components/modals/components/CreateContent/styles.js","components/modals/components/CreateContent/index.jsx","components/modals/containers/CreateContentContainer.jsx","containers/c/LabAssistantManageCollectionContainer.jsx","components/modals/components/CreateCollection/styles.js","components/modals/components/CreateCollection/index.jsx","components/modals/containers/CreateCollectionContainer.jsx","containers/c/LabAssistantManagerContainer.jsx","containers/c/LandingContainer.jsx","containers/c/LoginContainer.jsx","containers/c/ManageCollectionContainer.jsx","containers/c/ManagerContainer.jsx","containers/c/MenuContainer.jsx","containers/c/PlayerContainer.jsx","containers/c/RootContainer.jsx","containers/c/TrackEditorContainer.jsx","components/modals/components/CreateResource/styles.js","components/modals/components/CreateResource/index.jsx","components/modals/containers/CreateResourceContainer.jsx","containers/c/ManageResourceContainer.jsx","index.jsx"],"names":["module","exports","Boolean","window","location","hostname","match","User","constructor","obj","this","id","username","name","email","roles","lastLogin","Content","authKey","collectionId","contentType","dateValidated","description","expired","fullVideo","isCopyrighted","physicalCopyExists","published","requester","resourceId","thumbnail","views","url","resource","keywords","settings","aspectRatio","captionTrack","showTranscripts","showWordList","targetLanguages","showCaptions","allowDefinitions","annotationDocument","undefined","split","stringToArray","string","array","forEach","element","push","JSON","parse","updateSessionId","clj_session_id","apiProxy","admin","search","get","searchCategory","searchQuery","a","axios","process","withCredentials","headers","then","res","data","collection","result","create","ownerId","post","stringify","delete","content","results","reduce","map","item","createFromResource","user","auth","cas","href","logout","patch","edit","state","remove","permissions","endpoint","body","ids","Promise","all","returnMe","newItem","addView","metadata","update","resources","files","console","log","error","collections","temp","file","fileId","media","getKey","cookies","set","cookieName","cookieValue","maxDays","path","domain","date","Date","setTime","getTime","document","cookie","toUTCString","decodeURIComponent","c","charAt","substring","indexOf","length","getAll","trim","key","val","Object","assign","e","browserStorage","displayBlocksKey","value","localStorage","setItem","getItem","proxies","BackEndContent","backEndData","allowCaptions","arrayToString","join","str","ResourceObject","copyrighted","resourceName","requesterEmail","allFileVersions","resourceType","adminService","types","ADMIN_START","ADMIN_ABORT","ADMIN_CLEAN","ADMIN_ERROR","ADMIN_SEARCH","ADMIN_CREATE_COLLECTION","ADMIN_CREATE_CONTENT","ADMIN_GET_COLLECTION_CONTENT","ADMIN_SEARCH_PROFESSORS","ADMIN_SET_PROFESSOR","ADMIN_SEARCH_COLLECTIONS","ADMIN_COLLECTION_EDIT","ADMIN_COLLECTION_DELETE","ADMIN_USER_DELETE","ADMIN_CONTENT_DELETE","ADMIN_CONTENT_DELETE_FROM_TABLE","actions","adminStart","type","adminAbort","adminClean","adminCreateCollection","adminCreateContent","payload","adminError","adminGetCollectionContent","adminSearch","adminSearchProfessors","adminSetProfessor","professor","adminSearchCollections","adminCollectionEdit","adminCollectionDelete","response","adminUserDelete","adminContentDelete","adminContentDeleteFromTable","store","cache","professors","professorCollections","profCollectionContent","loading","lastFetched","lastFetchedProfContent","lastFetchedProfessors","lastFetchedCollections","reducer","action","now","force","dispatch","getState","time","adminStore","finalData","message","searchProfessors","profArray","setProfessor","professorId","getCollectionContent","createContent","createContentFromResource","searchCollections","acc","cur","updateCollectionStatus","colId","keys","currentCollection","abort","archived","finalState","deleteCollection","currentResults","splice","findIndex","deleteContent","contentId","fromAdmin","currentState","deleteUser","userId","clean","authService","AUTH_START","AUTH_ABORT","AUTH_CLEAN","AUTH_ERROR","AUTH_GET","authStart","authAbort","authError","authGet","tried","checkAuth","_getState","login","_dispatch","collectionService","COLLECTIONS_START","COLLECTIONS_ABORT","COLLECTIONS_CLEAN","COLLECTIONS_ERROR","COLLECTIONS_GET","COLLECTIONS_REMOVE_CONTENT","COLLECTION_CREATE","COLLECTION_EDIT","COLLECTION_ROLES_GET","COLLECTION_ROLES_UPDATE","roleEndpoints","addCourse","addTA","addException","removeCourse","removeUser","collectionsStart","collectionsAbort","collectionsClean","collectionsError","collectionsGet","collectionsRemoveContent","collectionCreate","collectionEdit","collectionRolesGet","collectionRolesUpdate","getCollections","collectionStore","removeCollectionContent","isLabAssistant","contentIndex","index","createCollection","getCollectionRoles","stale","cached","includes","updateCollectionName","collectionName","updateCollectionRoles","newRoles","courses","filter","admins","exceptions","contentService","CONTENT_START","CONTENT_ABORT","CONTENT_CLEAN","CONTENT_CREATE","CONTENT_ERROR","CONTENT_GET","CONTENT_ADD_VIEW","CONTENT_UPDATE","contentStart","contentAbort","contentClean","contentCreate","contentError","contentGet","contentAddView","contentUpdate","setContent","getContent","contentIds","contentStore","cachedIds","notCached","updateContent","interfaceService","MENU_TOGGLE","MODAL_TOGGLE","COLLECTIONS_DISPLAY_TOGGLE","SET_HEADER_BORDER","SET_EDITOR_STYLE","SET_LOST","SET_EVENTS","GET_EVENTS","menuToggle","modalToggle","component","isLabAssistantRoute","collectionsDisplayToggle","setHeaderBorder","active","setEditorStyle","setLost","lost","setEvents","events","getEvents","menuActive","modal","props","displayBlocks","headerBorder","editorStyle","toggleMenu","toggleModal","toggleCollectionsDisplay","resourceService","RESOURCE_START","RESOURCE_ABORT","RESOURCE_CLEAN","RESOURCE_ERROR","RESOURCE_GET","RESOURCE_ADD","RESOURCE_FILES","RESOURCE_SEARCH","RESOURCE_EDIT","RESOURCE_DELETE","RESOURCE_STREAM","resourcesStart","resourcesAbort","resourcesClean","resourcesError","resourcesGet","resourcesAdd","resourcesFiles","resourceSearch","resourceEdit","resourceDelete","filteredResources","resourceStream","streamKey","term","convertedResult","resourceObj","getFiles","getResource","getResources","resourceStore","relations","subjectId","addResource","editResource","backendForm","removeResource","currentResources","getStreamKey","language","allFiles","find","fileService","FIle_START","FIle_ABORT","FIle_CLEAN","FIle_ERROR","FIle_UPLOAD","FIle_UPDATE","fileStart","fileAbort","fileClean","fileError","fileUpload","fileUpdate","upload","services","createStore","combineReducers","authStore","interfaceStore","fileStore","composeWithDevTools","applyMiddleware","thunk","withExtraArgument","ConfirmDeleteBox","styled","div","ConfirmBox","ConfirmButton","button","Logo","HexLogo","ConfirmDelete","PureComponent","render","category","toLowerCase","handlers","deleteConfirmed","onClick","mapDispatchToProps","adminDeleteCollection","adminDeleteUser","adminDeleteContent","connect","adminContent","menuItemInfo","handleDeleteCollection","handleDeleteUser","handleDeleteContent","Container","List","numChildren","Arrow","src","AccordionMenu","super","handleToggle","preventDefault","setState","header","children","arrow","Style","Table","table","Filter","iconFilter","Sort","iconSort","ItemEdit","iconEdit","ItemMenu","mousePos","y","x","AdminTable","sortType","reverse","viewstate","handleConfirmDelete","sort","b","localeCompare","sensitivity","owner","Users","sortBy","descending","columns","title","Admin","Manager","Professor","TA","Student","Collections","Video","Image","Text","Audio","toString","printTableValues","onMouseLeave","cat","to","target","menuOptions","checked","radioChecked","radioUnchecked","BarBall","position","BarCurrent","BarBackground","Bar","handleClick","Header","SlideWrapper","count","right","arrowRight","hideLeft","left","arrowLeft","BlockEnd","BlockCollection","Component","scrollListener","scrollLeft","setTimeout","wrapper","current","scrollBy","scrollRight","React","createRef","className","onScroll","ref","onScrollCapture","shimmer","keyframes","ItemContainer","Thumbnail","loaded","css","BlockItem","componentDidMount","img","onload","opacity","I","i","EventCard","event","useDrag","collect","monitor","isDragging","icon","StyledLink","Link","LabAssistantTable","height","width","heightSm","widthSm","LazyImage","alt","carrot","isOpen","Body","parseInt","ListCollection","togglePanel","prevState","Icon","li","translation","captions","annotations","ListItem","Wrapper","done","Modal","componentDidUpdate","prevProps","classList","add","Comp","ReactDOM","createPortal","getElementById","RemoveButton","removeFunc","column","index2","NetID","data-item","PlayPause","playing","pauseIcon","playIcon","Volume","muted","volumeIconMute","volumeIcon","closedCaption","fullscreen","exitFullscreen","enterFullscreen","PlayerControls","hovering","progress","volume","handlePause","handlePlay","handleSeekChange","handleToggleFullscreen","handleMuted","handleUnmuted","handleVolumeChange","played","alert","Scrubber","rotate","logo","size","Circle","on","Groove","SwitchToggle","setToggle","data-key","data_key","Remove","plus","Tag","data-value","minimized","TrackEditorSideMenu","singleEvent","updateEvents","deleteEvent","videoLength","closeSideEditor","useState","setEvent","editComment","setEditComment","useEffect","handleEditComment","cEvent","int","comment","start","toFixed","end","closeIcon","style","visibility","parseFloat","onChange","color","number","layer","isNaN","handleEditEventBTimeChange","handleEditEventETimeChange","placeholder","flexDirection","textAlign","margin","rows","cols","ind","Preview","BoxRow","Buttons","TextButton","EditButton","InnerContainer","Type","Column","RemoveIcon","span","trashIcon","SaveIcon","saveIcon","UploadIcon","uploadIcon","FileUploadButton","TitleEdit","input","Title","form","ResourceTitle","TypeButton","selected","ResourceOverview","handleResourceName","handleFiles","handleResourceMetadata","handleToggleEdit","handleRemoveResource","handleTogglePhysicalCopyExists","handleTogglePublish","handleToggleCopyRighted","handleToggleFullVideo","handleTypeChange","handleResourceEmail","handleFileUploadToResource","editing","data-type","Search","SearchIcon","searchIcon","CategorySelect","select","FeedbackMessage","updateSearchBar","handleSubmit","updateCategory","onSubmit","DepartmentSelect","CatalogInput","disabled","SectionInput","AddButton","getInitials","fullName","initials","shift","pop","toUpperCase","objectIsEmpty","o","entries","departments","code","CollectionPermissions","department","catalog","section","taFaculty","exception","reducedCourses","Department","Catalog","catalogNumber","Section","sectionNumber","reducedAdmins","Name","Email","reducedExceptions","handleDepartmentChange","min","handleCatalogChange","handleSectionChange","submit","addTaFaculty","handleTaFacultyChange","removeFaculty","handleExceptionChange","removeException","ViewToggle","listView","blockView","isProf","isAdmin","collectionsLength","PublishButton","ContentOverview","tag","showing","handleNameChange","handleRemoveContent","addTag","setContentState","setShowing","removeTag","handleToggleSettings","handleDescription","changeTag","showAnnotations","display","resourceCache","TimeBar","scale","cursor","Blank","blank","Comment","wProp","hProp","commentX","commentY","carat","Controller","getDuration","togglendTimeline","getCurrentTime","useRef","setPlaying","setVolumeState","setMuted","setPlayed","duration","setDuration","elapsed","setElapsed","playbackRate","setPlaybackRate","setBlank","videoComment","setVideoComment","commentPosition","setCommentPosition","setCurrentZone","video","toggleMute","setVolume","handleReady","reactPlayer","handleProgress","playedSeconds","handleDuration","handlePlaybackRate","rate","handleSeek","newPlayed","scrubber","currentTarget","getBoundingClientRect","pageX","Infinity","seekTo","handleMute","handleUnMute","handleBlank","bool","handleShowComment","dateElapsed","setSeconds","formattedElapsed","toISOString","substr","addEventListener","keyCode","maxHeight","onContextMenu","config","youtube","playerVars","autoplay","controls","iv_load_policy","modestbranding","rel","enablejsapi","showinfo","preload","progressInterval","onReady","onError","onPlay","onPause","onProgress","onDuration","pause","play","unmute","mute","max","currentTime","SError","Background","SLink","Error","componentWillUnmount","Events","eventClassArray","border","backgroundColor","LogoWrapper","h1","Shadow","LabAssistant","showResource","handleShowResource","show","Comets","LComets","RComets","Welcome","Button","Landing","overlay","toggleOverlay","handleLogin","fadein","fadeout","Spinner","Load","TitleEditButton","ArchiveButton","Tab","TabHeader","Selector","isContent","NewContent","ManageCollection","isEditingCollectionName","unarchive","toggleEdit","togglePublish","archive","setTab","contenteditable","onKeyPress","autoFocus","SideMenu","CreateButton","Plus","NoCollection","sideLists","activeId","createNew","empty","Accordion","unpublished","LinkStyled","h4","UserPic","LogoutButton","Menu","handleLogout","pathname","fadeIn","fadeOut","out","Overlay","visible","closeModal","Player","handleMouseOut","handleMouseOver","onMouseOver","onMouseOut","Root","exact","Timeline","zoom","menu","NewLayer","EventList","AnnotationMessage","TrackEditor","eventsArray","currentContent","skipIcon","muteIcon","commentIcon","blankIcon","allEvents","setAllEvents","layers","setLayers","shouldUpdate","setShouldUpdate","showSideEditor","setSideEditor","eventToEdit","setEventToEdit","displayLayer","setDisplayLayer","setVideoLength","tab","timelineMinimized","setTimelineMinimized","eventListMinimized","layerWidth","setWidth","zoomFactor","setZoomFactor","setScrollWidth","annotationsSaved","setSaved","scrollBarWidth","setScrollBar","innerHeight","innerWidth","setDimensions","getElementsByClassName","clientWidth","largestLayer","initialLayers","addEventToLayer","currentEvents","matchingEvent","filterValue","eventObj","layerIndex","canAccessDom","innerText","innerHTML","openSideEditor","eventIndex","v","handleScrollFactor","direction","timeIndicator","alllayers","Array","from","currentLayerWidth","scrollBarContainer","offsetWidth","scrollBar","cLeft","scrollBarOffset","lastPossibleRight","DndProvider","backend","Backend","zIndex","currentLayers","toDelete","handleRemoveLayer","activeEvent","onDrop","eventDropHandler","sideEditor","closeEditor","newLayer","bounds","enableResizing","top","bottom","topRight","bottomRight","bottomLeft","topLeft","dragAxis","onDragStop","d","Math","abs","marginLeft","llIcon","lIcon","rIcon","rrIcon","timeBarIcon","TrackLayer","layerRef","initialWidth","setInitialWidth","setLayerWidth","layerHeight","setLayerHeight","setEditorOpen","useLayoutEffect","offsetHeight","Enable","useDrop","accept","drop","hover","dropRef","printEvents","cEvents","beginTimePercentage","endPercentage","handleDrag","onResizeStop","delta","difference","handleResize","toggleEditor","Form","Upload","FileUpload","selectedFile","updateFileVersion","handleFileChange","handleFileUpload","htmlFor","uploadFile","English","French","Mandarin","Japanese","Spainsh","Korean","setSelectedFile","fileVersion","setFileVersion","formData","FormData","append","removeFile","updateFile","fileCache","fileState","setFileState","handleFileMetadata","handleUpdateFile","handleRemoveFile","xIcon","ManageFiles","getResourceFiles","thisfiles","setEditing","resourceState","setResourceState","setFiles","FileUploadContainer","ManageFilesContainer","dataset","handleMetadata","ManageResource","handleSearchTextChange","FileOverview","defaultValue","setSearchQuery","setSearchCategory","setPlaceholder","setMenuItemInfo","setMenuActive","setMousePos","pageY","ConfirmDeleteContainer","allContent","k","adminRemoveCollectionContent","setTag","contentState","newTags","collectionRoles","Event","print","SkipEvent","MuteEvent","PauseEvent","CommentEvent","BlankEvent","eventArray","setEventArray","tempArray","HeaderContainer","setShowResource","FormResource","RemoveKeyword","TableContainer","Tabs","CreateContent","resourceContent","hideResources","languages","selectedResource","changeTab","handleAddResourceSubmit","handleSelectResourceChange","handleTextChange","required","flex","justifyContent","keyword","data-keyword","list","slice","adminCreateContentFromResource","searchResource","setHide","setSelectedResource","setLanguages","setData","addKeyword","reset","tags","videoId","URL","which","badkeyword","setIsContent","setIsEditingCollectionName","setCollectionName","CreateContentContainer","_e","CreateCollection","setName","defaultV","useParams","singleCollection","CreateCollectionContainer","setOverlay","LoginContainer","contentCheck","params","useLocation","route","isStudent","contentCache","setResource","setFullscreen","setHovering","player","setPlayer","loadedSeconds","setProgress","seeking","setSeeking","setUrl","handlePlaybackRateChange","progression","handleSeekMouseDown","handleSeekMouseUp","mapThunksToProps","setEventsArray","setCurrentContent","hasOwnProperty","CreateResource","defaultSearch","isDefaultSearched","setIsDefaultSearched","CreateResourceContainer","navigator","serviceWorker","ready","registration","unregister"],"mappings":"iIAAAA,EAAOC,QAAU,IAA0B,oC,sBCA3CD,EAAOC,QAAU,IAA0B,uC,mBCA3CD,EAAOC,QAAU,IAA0B,oC,sBCA3CD,EAAOC,QAAU,IAA0B,yC,sBCA3CD,EAAOC,QAAU,IAA0B,oC,iBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,4C,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,4C,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,qBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,4CCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,iBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,sD,gBCA3CD,EAAOC,QAAU,IAA0B,uD,gBCA3CD,EAAOC,QAAU,IAA0B,sD,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,kBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,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","file":"static/js/main.64952533.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/search.a87eca9e.svg\";","module.exports = __webpack_public_path__ + \"static/media/hexborder.418c1fbb.svg\";","module.exports = __webpack_public_path__ + \"static/media/upload.f1f4514d.svg\";","module.exports = __webpack_public_path__ + \"static/media/carat_white.962a8e97.svg\";","module.exports = __webpack_public_path__ + \"static/media/carrot.b524e66e.svg\";","module.exports = __webpack_public_path__ + \"static/media/translation.dc20c630.svg\";","module.exports = __webpack_public_path__ + \"static/media/captions.1e66ccc3.svg\";","module.exports = __webpack_public_path__ + \"static/media/annotations.1cbb02c0.svg\";","module.exports = __webpack_public_path__ + \"static/media/controls_pause.f5ecfb47.svg\";","module.exports = __webpack_public_path__ + \"static/media/controls_play.8113e882.svg\";","module.exports = __webpack_public_path__ + \"static/media/controls_muted.111d301e.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus_blue.4d17e675.svg\";","module.exports = __webpack_public_path__ + \"static/media/trash.dfa45393.svg\";","module.exports = __webpack_public_path__ + \"static/media/save.882215d0.svg\";","module.exports = __webpack_public_path__ + \"static/media/trash_icon.e9633493.svg\";","module.exports = __webpack_public_path__ + \"static/media/close_icon.ddb8f8e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/admin-icon-edit.e405f6cd.svg\";","module.exports = __webpack_public_path__ + \"static/media/admin-icon-filter.f8e67eb8.svg\";","module.exports = __webpack_public_path__ + \"static/media/admin-icon-sort.b80aff1d.svg\";","module.exports = __webpack_public_path__ + \"static/media/radio-checked.a855490f.svg\";","module.exports = __webpack_public_path__ + \"static/media/radio-unchecked.241ecef5.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow-left.3468c9c1.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow-right.b2096af9.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete.d5396b98.svg\";","module.exports = __webpack_public_path__ + \"static/media/controls_closed_captions.1641edfd.svg\";","module.exports = __webpack_public_path__ + \"static/media/controls_enter_fullscreen.4234ccb8.svg\";","module.exports = __webpack_public_path__ + \"static/media/controls_exit_fullscreen.546b3706.svg\";","module.exports = __webpack_public_path__ + \"static/media/controls_volume.d3a7a6de.svg\";","module.exports = __webpack_public_path__ + \"static/media/block-view.f57dfe10.svg\";","module.exports = __webpack_public_path__ + \"static/media/list-view.411001d1.svg\";","module.exports = __webpack_public_path__ + \"static/media/controls_unmuted.99b3b42e.svg\";","module.exports = __webpack_public_path__ + \"static/media/desertbackground.80366c48.svg\";","module.exports = __webpack_public_path__ + \"static/media/CometsLeft.15e0bbfb.svg\";","module.exports = __webpack_public_path__ + \"static/media/CometsRight.9625e200.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus_gray.679a2b95.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus.9db7216b.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu-white.9bd7f9a9.svg\";","module.exports = __webpack_public_path__ + \"static/media/event_skip.cbe8f9bf.svg\";","module.exports = __webpack_public_path__ + \"static/media/event_mute.ba25733d.svg\";","module.exports = __webpack_public_path__ + \"static/media/event_pause.f0719471.svg\";","module.exports = __webpack_public_path__ + \"static/media/event_comment.fe93f59e.svg\";","module.exports = __webpack_public_path__ + \"static/media/event_blank.58f2d558.svg\";","module.exports = __webpack_public_path__ + \"static/media/annotations-save.996cd83b.svg\";","module.exports = __webpack_public_path__ + \"static/media/te-chevrons-left.4a2a0b47.svg\";","module.exports = __webpack_public_path__ + \"static/media/te-chevrons-right.78281712.svg\";","module.exports = __webpack_public_path__ + \"static/media/te-chevron-left.5727f869.svg\";","module.exports = __webpack_public_path__ + \"static/media/te-chevron-right.9c59704b.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus-square.b9e25a7a.svg\";","module.exports = __webpack_public_path__ + \"static/media/time-bar-icon.8ab3f346.svg\";","module.exports = __webpack_public_path__ + \"static/media/x.b0200bf7.svg\";","/* eslint-disable eqeqeq, no-mixed-operators */\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(window.location.hostname === `localhost` ||\n\t// [::1] is the IPv6 localhost address.\n\twindow.location.hostname === `[::1]` ||\n\t// 127.0.0.1/8 is considered localhost for IPv4.\n\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === `production` && `serviceWorker` in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn\n\t\t}\n\n\t\twindow.addEventListener(`load`, () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(`This web app is being served cache-first by a service ` +\n\t\t\t\t\t\t`worker. To learn more, visit http://bit.ly/CRA-PWA`)\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing\n\t\t\t\tif (installingWorker == null)\n\t\t\t\t\treturn\n\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === `installed`) {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(`New content is available and will be used when all ` +\n\t\t\t\t\t\t\t\t`tabs for this page are closed. See http://bit.ly/CRA-PWA.`)\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate)\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log(`Content is cached for offline use.`)\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess)\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error(`Error during service worker registration:`, error)\n\t\t})\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get(`content-type`)\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\tcontentType != null && contentType.indexOf(`javascript`) === -1\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload()\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(`No internet connection found. App is running in offline mode.`)\n\t\t})\n}\n\nexport function unregister() {\n\tif (`serviceWorker` in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister()\n\t\t})\n\t}\n}\n","export default class User {\n\n\tid\n\tusername\n\tname\n\temail\n\troles\n\tlastLogin\n\taccountName\n\n\tconstructor(obj) {\n\n\t\tthis.id = obj[`id`]\n\t\tthis.username = obj[`username`]\n\t\tthis.name = obj[`account-name`]\n\t\tthis.email = obj[`email`]\n\t\tthis.roles = obj[`account-type`]\n\t\tthis.lastLogin = obj[`last-login`]\n\t}\n}\n","export default class Content {\n\tauthKey = ``\n\tcollectionId = null\n\tcontentType = ``\n\tdateValidated = ``\n\tdescription = ``\n\texpired = false\n\tfullVideo = false\n\tid = null\n\tisCopyrighted = false\n\tname = ``\n\tphysicalCopyExists = false\n\tpublished = false\n\trequester = ``\n\tresourceId = ``\n\tthumbnail = ``\n\tviews = 0\n\turl = ``\n\tresource = {\n\t\tkeywords: [],\n\t}\n\n\tsettings = {\n\t\taspectRatio:`1.77`,\n\t\tcaptionTrack: [],\n\t\tshowTranscripts: false,\n\t\tshowWordList: false,\n\t\ttargetLanguages: '',\n\t\tshowCaptions: true,\n\t\tallowDefinitions: true,\n\t\tannotationDocument: [],\n\t}\n\n\tconstructor(obj){\n\n\t\tif(obj !== undefined){\n\t\t\tthis.id = obj[`id`]\n\t\t\tthis.views = obj[`views`]\n\t\t\tthis.collectionId = obj[`collection-id`]\n\t\t\tthis.url = obj[`url`]\n\t\t\tthis.contentType = obj[`content-type`]\n\t\t\tthis.thumbnail = obj[`thumbnail`]\n\t\t\tthis.description = obj[`description`]\n\t\t\tthis.resourceId = obj[`resource-id`]\n\t\t\tthis.resource.keywords = obj[`tags`].split(`; `)\n\t\t\tthis.name = obj[`title`]\n\n\t\t\tthis.settings = {\n\t\t\t\tallowDefinitions: obj['allow-definitions'],\n\t\t\t\tannotationDocument: this.stringToArray(obj['annotations']),\n\t\t\t\tshowCaptions: obj['allow-captions'],\n\t\t\t\ttargetLanguages: obj['file-version'],\n\t\t\t}\n\t\t}\n\n\t}\n\n\tstringToArray(string){\n\t\tlet array = []\n\n\t\tlet temp = string.split(\"; \")\n\n\t\t//console.log(temp)\n\n\t\ttemp.forEach(element => {\n\t\t\tif(element !== ''){\n\t\t\t\tarray.push(JSON.parse(element))\n\t\t\t}\n\t\t})\n\n\t\treturn array\n\t}\n}\n","import axios from 'axios'\nimport User from 'models/User'\nimport Content from 'models/Content'\n\nconst updateSessionId = (id) => {\n\twindow.clj_session_id = id\n\t// console.log('update session id from: ', window.clj_session_id)\n\t// console.log(' to ', id)\n}\n\nconst apiProxy = {\n\tadmin: {\n\t\tsearch: {\n\t\t\t/**\n\t\t\t * Retrieves an array of users, collections, or content depending on the category and search word\n\t\t\t */\n\t\t\tget: async (searchCategory, searchQuery) => await axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/admin/${searchCategory}/${searchQuery}`,\n\t\t\t\t{\n\t\t\t\t\twithCredentials: true,\n\t\t\t\t\theaders: {'session-id': window.clj_session_id},\n\t\t\t\t}).then(async res => {\n\t\t\t\t\tawait updateSessionId(res.headers['session-id'])\n\t\t\t\t\treturn res.data\n\t\t\t\t}),\n\t\t},\n\t\tcollection: {\n\t\t\t// get: async (id) => await axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/user/${id}/collections`, { withCredentials: true, headers: {'session-id': window.clj_session_id,} }).then(res => res.data),\n\t\t\tget: async (id) => {\n\n\t\t\t\tconst result = await axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/user/${id}/collections`, { withCredentials: true, headers: {'session-id': window.clj_session_id} })\n\n\t\t\t\tupdateSessionId(result.headers[`session-id`])\n\n\t\t\t\tresult.forEach(element => {\n\t\t\t\t\telement[`name`] = element[`collection-name`]\n\t\t\t\t\tdelete element[`collection-name`]\n\t\t\t\t})\n\n\t\t\t\treturn result\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Create a new collection\n\t\t\t *\n\t\t\t * @param name The name of the new collection\n\t\t\t * @param ownerId The id of the owner of the collection (null if owner is the user, defined if the owner is someone other than user)\n\t\t\t */\n\t\t\tcreate: async (name, ownerId) => axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/collection/create`, JSON.stringify({ name, ownerId }), {\n\t\t\t\twithCredentials: true ,\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t\t},\n\t\t\t}).then(res => {\n\t\t\t\tupdateSessionId(res.headers[`session-id`])\n\t\t\t\treturn res.data\n\t\t\t}),\n\t\t\t/*\n\t\t\t\t* Deletes a collection using just the collection ID\n\t\t\t*/\n\t\t\tdelete: async (id) => await axios.delete(`${process.env.REACT_APP_YVIDEO_SERVER}/api/collection/${id}`, { withCredentials: true, headers: {'session-id': window.clj_session_id }}).then(res => {\n\t\t\t\tupdateSessionId(res.headers[`session-id`])\n\t\t\t}),\n\t\t\tcontent: {\n\t\t\t\t/**\n\t\t\t\t * Get content for collection\n\t\t\t\t *\n\t\t\t\t * @param id The id of a collection\n\t\t\t\t * @returns A map of { contentId: content } pairs for the collection\n\t\t\t\t */\n\t\t\t\tget: async (id) => {\n\t\t\t\t\tconst results = await axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/collection/${id}/contents`, { withCredentials: true, headers: {'session-id': window.clj_session_id} })\n\n\t\t\t\t\tupdateSessionId(results.headers[`session-id`])\n\n\t\t\t\t\treturn results.reduce((map, item) => {\n\t\t\t\t\t\tmap[item.id] = new Content(item)\n\t\t\t\t\t\treturn map\n\t\t\t\t\t}, {})\n\t\t\t\t},\n\t\t\t\t/**\n\t\t\t\t * Create content from resource id\n\t\t\t\t *\n\t\t\t\t * @param collectionId the collection id\n\t\t\t\t * @param resourceId the resource id\n\t\t\t\t */\n\t\t\t\tcreateFromResource: async (collectionId, resourceId) => await axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/content/create/resource?collectionId=${collectionId}`, JSON.stringify({ resourceId }), {\n\t\t\t\t\twithCredentials: true,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t\t\t},\n\t\t\t\t}).then(res => {\n\t\t\t\t\tupdateSessionId(res.headers[`session-id`])\n\t\t\t\t}),\n\t\t\t},\n\t\t},\n\t\tuser: {\n\t\t\tdelete: async (id) => await axios.delete(`${process.env.REACT_APP_YVIDEO_SERVER}/api/user/${id}`, { withCredentials: true, headers: {'session-id': window.clj_session_id }}).then(res => {\n\t\t\t\tupdateSessionId(res.headers[`session-id`])\n\t\t\t\treturn res.data\n\t\t\t}),\n\t\t\t/* This is to delete a user by just getting the user ID  ^^ */\n\t\t\tget: async (id) => await axios.get(`${process.env.REACT_APP_YVIDEO_SERVER}/api/user/${id}`, { withCredentials: true, headers: {'session-id': window.clj_session_id }}).then(res => {\n\t\t\t\tupdateSessionId(res.headers[`session-id`])\n\t\t\t\treturn res.data\n\t\t\t}),\n\n\t\t},\n\t\tcontent: {\n\t\t\tdelete: async (id) => await axios.delete(`${process.env.REACT_APP_YVIDEO_SERVER}/api/content/${id}`, { withCredentials: true, headers: {'session-id': window.clj_session_id, }}).then(async res => {\n\t\t\t\t\tawait updateSessionId(res.headers['session-id'])\n\t\t\t\t\treturn res.data\n\t\t\t\t}),\n\t\t\t/* This is to delete a piece of content by just getting the content ID  ^^ */\n\t\t},\n\n\t},\n\tauth: {\n\t\t/**\n\t\t * Sets the current URL to the OAuth2 BYU CAS Login page, then redirects back to the original URL\n\t\t */\n\t\tcas: () => {\n\t\t\twindow.location.href = `${process.env.REACT_APP_YVIDEO_SERVER}/auth/cas/redirect${window.location.href}`\n\t\t},\n\t\t/**\n\t\t * Sets the current URL to the OAuth2 BYU CAS Logout page, then redirects back to the original URL\n\t\t */\n\t\tlogout: () => {\n\t\t\twindow.location.href = `${process.env.REACT_APP_YVIDEO_SERVER}/auth/logout/redirect${window.location.href}`\n\t\t},\n\t},\n\tcollection: {\n\t\t/**\n\t\t * Create a new collection\n\t\t *\n\t\t * @param name The name of the new collection\n\t\t */\n\t\tcreate: async (obj) => axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/api/collection`, obj, {\n\t\t\t\twithCredentials: true ,\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t\t},\n\t\t\t}).then(async res => {\n\t\t\t\tawait updateSessionId(res.headers['session-id'])\n\t\t\t\treturn res.data\n\t\t\t}),\n\t\t/**\n\t\t * Changes the name of a specified collection\n\t\t *\n\t\t * @param id The ID of the collection\n\t\t * @param name The new name of the collection\n\t\t */\n\t\tpost: async (id, name) => axios.patch(`${process.env.REACT_APP_YVIDEO_SERVER}/api/collection/${id}`, { \"collection-name\": name }, { withCredentials: true, headers: {'session-id': window.clj_session_id,} })\n\t\t.then(res => {\n\t\t\t\tupdateSessionId(res.headers['session-id'])\n\t\t\t}),\n\t\t/**\n\t\t * Publishes, Unpublishes, Archives, or Unarchives a collection\n\t\t *\n\t\t * @param id The ID of the collection\n\t\t * @param action The action to perform, must be one of `archive`, `unarchive`, `publish`, `unpublish`\n\t\t */\n\t\tedit: async (id, state) => axios.patch(`${process.env.REACT_APP_YVIDEO_SERVER}/api/collection/${id}`, state, { withCredentials: true, headers: {'session-id': window.clj_session_id,},})\n\t\t.then( async res => {\n\t\t\t\tawait updateSessionId(res.headers['session-id'])\n\t\t\t\treturn res.data\n\t\t\t}),\n\t\t/**\n\t\t * Removes a list of content ids from a collection\n\t\t *\n\t\t * @param id The ID of the collection\n\t\t * @param contentIds List of content ids\n\t\t */\n\t\tremove: async (id) => axios.delete(`${process.env.REACT_APP_YVIDEO_SERVER}/api/content/${id}`, {\n\t\t\twithCredentials: true,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t},\n\t\t}).then(res => {\n\t\t\tupdateSessionId(res.headers[`session-id`])\n\t\t}),\n\t\tpermissions: {\n\t\t\t/**\n\t\t\t * Gets the current roles/permissions for the specified collection\n\t\t\t *\n\t\t\t * @param id the ID of the collection\n\t\t\t *\n\t\t\t * @returns a set of roles for a collection\n\t\t\t */\n\t\t\t// get: async id => axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/collection/${id}/permissions`, { withCredentials: true }),\n\t\t\tget: async id => axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/collections`, { withCredentials: true, headers: {'session-id': window.clj_session_id} }).then(res => {\n\t\t\t\tupdateSessionId(res.headers[`session-id`])\n\t\t\t}),\n\t\t\t/**\n\t\t\t * Edits a collections roles/permissions\n\t\t\t *\n\t\t\t * @param id the ID of the collection\n\t\t\t * @param endpoint which permissions endpoint you want to change, can be one of: ['linkCourses', 'addTA', 'addException', 'unlinkCourses', 'removeTA', 'removeException']\n\t\t\t * @param body contains the data which will overwrite the old data\n\t\t\t *\n\t\t\t * @returns nothing, idk\n\t\t\t */\n\t\t\tpost: async (id, endpoint, body) => axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/api/collection/${id}/${endpoint}`, JSON.stringify(body), {\n\t\t\t\twithCredentials: true,\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t\t},\n\t\t\t}).then(res => {\n\t\t\t\tupdateSessionId(res.headers[`session-id`])\n\t\t\t}),\n\t\t},\n\t},\n\tcontent: {\n\t\t/**\n\t\t * Retrieves content from a list of content IDs\n\t\t *\n\t\t * @param ids the set of IDs of content you wish to retrieve\n\t\t *\n\t\t * @returns a map of the content, where the key is the content's ID\n\t\t */\n\t\tget: async ids => {\n\n\t\t\tconst results = await Promise.all(ids.map(id => axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/content/${id}`,\n\t\t\t\t{\n\t\t\t\t\twithCredentials: true,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t\t\t},\n\t\t\t\t}).then(async res => {\n\n\t\t\t\t\tawait updateSessionId(res.headers['session-id'])\n\n\t\t\t\t\treturn res.data\n\t\t\t\t})))\n\n\t\t\t// console.log('get content')\n\t\t\tconst returnMe = results.reduce((map, item) => {\n\t\t\t\tconst newItem = new Content(item)\n\t\t\t\tmap[item.id] = newItem\n\t\t\t\treturn map\n\t\t\t}, {})\n\t\t\t// console.log(returnMe)\n\t\t\treturn returnMe\n\t\t},\n\t\t/**\n\t\t * Create content for collection\n\t\t *\n\t\t * @param data the content data\n\t\t * @param collectionId the collection id\n\t\t */\n\t\tpost: async (data) => await axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/api/content`, data, {\n\t\t\twithCredentials: true,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t},\n\t\t}).then(res => {\n\t\t\tupdateSessionId(res.headers[`session-id`])\n\t\t}),\n\t\taddView: {\n\t\t\t/**\n\t\t\t * Increments number of views from a content ID\n\t\t\t *\n\t\t\t * @param id the ID of the content you wish to increment the number of views for\n\t\t\t */\n\t\t\tget: async id => axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/content/${id}/addview`, { withCredentials: true, headers: {'session-id': window.clj_session_id} }).then(res => {\n\t\t\t\tupdateSessionId(res.headers[`session-id`])\n\t\t\t}),\n\t\t},\n\t\tmetadata: {\n\t\t\tpost: async (id, metadata) => axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/content/${id}/metadata`, JSON.stringify(metadata), {\n\t\t\t\twithCredentials: true,\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t\t},\n\t\t\t}).then(res => {\n\t\t\t\tupdateSessionId(res.headers[`session-id`])\n\t\t\t}),\n\t\t},\n\t\tupdate: async (content) => axios.patch(`${process.env.REACT_APP_YVIDEO_SERVER}/api/content/${content[`id`]}`, content, {\n\t\t\twithCredentials: true,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t},\n\t\t}).then(res => {\n\t\t\tupdateSessionId(res.headers[`session-id`])\n\t\t\treturn res.data\n\t\t}),\n\t},\n\tresources: {\n\t\tpost: async (resource) => await axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/api/resource`, resource, {\n\t\t\twithCredentials: true,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t},\n\t\t}).then(res => {\n\t\t\tupdateSessionId(res.headers[`session-id`])\n\t\t\treturn res.data\n\t\t}),\n\n\t\tdelete: async (resourceId) => await axios.delete(`${process.env.REACT_APP_YVIDEO_SERVER}/api/resource/${resourceId}`, {\n\t\t\twithCredentials: true,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t},\n\t\t}).then(res => {\n\t\t\tupdateSessionId(res.headers[`session-id`])\n\t\t}),\n\n\t\tedit: async (resource, resourceId) => await axios.patch(`${process.env.REACT_APP_YVIDEO_SERVER}/api/resource/${resourceId}`, resource, {\n\t\t\twithCredentials: true,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t},\n\t\t}).then(res => {\n\t\t\tupdateSessionId(res.headers[`session-id`])\n\t\t}),\n\t\t/**\n\t\t * Retrieves a single resource from a resource ID\n\t\t *\n\t\t * @param id the resource ID of the requested resource\n\t\t *\n\t\t * @returns a resource object\n\t\t */\n\t\tget: async (id) => await axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/resource/${id}`, {\n\t\t\twithCredentials: true,\n\t\t\theaders: {\n\t\t\t\t'session-id': window.clj_session_id},\n\t\t}).then(async res => {\n\t\t\tawait updateSessionId(res.headers['session-id'])\n\t\t\treturn res.data\n\t\t}),\n\n\t\tsearch: async (searchQuery) => await axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/admin/resource/${searchQuery}`,\n\t\t\t{\n\t\t\t\twithCredentials: true,\n\t\t\t\theaders: {\n\t\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t\t}\n\t\t\t}).then( async res => {\n\t\t\t\tawait updateSessionId(res.headers['session-id'])\n\t\t\t\treturn res.data\n\t\t\t}),\n\t\tfiles: async (id) => await axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/resource/${id}/files`, \n\t\t\t{\n\t\t\t\twithCredentials: true,\n\t\t\t\theaders: {\n\t\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t\t},\n\t\t\t}).then(async res => {\n\t\t\t\tawait updateSessionId(res.headers['session-id'])\n\t\t\t\treturn res.data\n\t\t\t}),\n\t},\n\tuser: {\n\t\t/**\n\t\t * Retrieves the currently logged-in user from the API\n\t\t *\n\t\t * @returns a User object\n\t\t */\n\t\tget: async () => {\n\t\t\ttry {\n\t\t\t\tif (window.clj_session_id === '{{ session-id }}') {\n\t\t\t\t\t//CALL TO GET SESSION ID FROM CLOJURE BACK END\n\t\t\t\t\tconst res = await axios.get(`${process.env.REACT_APP_YVIDEO_SERVER}/api/get-session-id/esdras/868a60ef-1bc3-440c-a4a8-70f4c89844ca`).then(async res => {\n\t\t\t\t\t\tconsole.log('%c From User 1' , 'color: red;')\n\t\t\t\t\t\tawait updateSessionId(res.data['session-id'])\n\t\t\t\t\t})\n\t\t\t\t\t// window.clj_session_id = res.data['session-id']\n\t\t\t\t\t// CALL TO GET THE USER ONCE THE SESSION ID HAS BEEN SET\n\t\t\t\t}\n\t\t\t\tconst url = `${process.env.REACT_APP_YVIDEO_SERVER}/api/user`\n\t\t\t\tconst result = await axios.get(url, {\n\t\t\t\t\twithCredentials: true,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t\t\t},\n\t\t\t\t}).then(async res => {\n\t\t\t\t\tconsole.log('%c From User 2' , 'color: blue;', res)\n\t\t\t\t\tawait updateSessionId(res.headers['session-id'])\n\t\t\t\t\treturn res\n\t\t\t\t})\n\n\t\t\t\treturn new User(result.data)\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error)\n\t\t\t}\n\t\t},\n\t\tcollections: {\n\t\t\t/**\n\t\t\t * Retrieves the collections for the current user\n\t\t\t *\n\t\t\t * @returns a map of the collections, where the key is the collection's ID\n\t\t\t */\n\t\t\tget: async () => {\n\t\t\t\t// const result = await axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/user/collections`, { withCredentials: true }).then(res => res.data)\n\t\t\t\tconst result = await axios(`${process.env.REACT_APP_YVIDEO_SERVER}/api/collections`, { withCredentials: true, headers: {'session-id': window.clj_session_id} })\n\t\t\t\t.then(async res => {\n\t\t\t\t\tawait updateSessionId(res.headers['session-id'])\n\t\t\t\t\treturn res.data\n\t\t\t\t})\n\n\t\t\t\treturn result.reduce((map, item) => {\n\t\t\t\t\titem[`name`] = item[`collection-name`]\n\n\t\t\t\t\tconst temp = []\n\t\t\t\t\titem[`content`].forEach(element => {\n\t\t\t\t\t\ttemp.push(new Content(element))\n\t\t\t\t\t})\n\n\t\t\t\t\titem[`content`] = temp\n\n\t\t\t\t\tdelete item[`collection-name`]\n\t\t\t\t\t// console.log(item)\n\t\t\t\t\tmap[item.id] = item\n\t\t\t\t\treturn map\n\t\t\t\t}, {})\n\t\t\t},\n\t\t},\n\t},\n\tfile: {\n\t\tpost: async (file) => await axios.post(`${process.env.REACT_APP_YVIDEO_SERVER}/api/file`, file, {\n\t\t\twithCredentials: true,\n\t\t\theaders: {\n\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t},\n\t\t}).then(res => {\n\t\t\tupdateSessionId(res.headers[`session-id`])\n\t\t\treturn res.data\n\t\t}),\n\n\t\tpatch: async (fileId, file) => await axios.patch(`${process.env.REACT_APP_YVIDEO_SERVER}/api/file/${fileId}`, file,{\n\t\t\twithCredentials: true,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t},\n\t\t}).then(res => {\n\t\t\tupdateSessionId(res.headers[`session-id`])\n\t\t\treturn res.data\n\t\t}),\n\n\t\tdelete: async (fileId) => await axios.delete(`${process.env.REACT_APP_YVIDEO_SERVER}/api/file/${fileId}`, {\n\t\t\twithCredentials: true,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t},\n\t\t}).then(res => {\n\t\t\tupdateSessionId(res.headers[`session-id`])\n\t\t}),\n\t},\n\tmedia: {\n\t\tgetKey: async (id)  => await axios.get(`${process.env.REACT_APP_YVIDEO_SERVER}/api/media/get-file-key/${id}`, {\n\t\t\twithCredentials: true,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': `application/json`,\n\t\t\t\t'session-id': window.clj_session_id,\n\t\t\t},\n\t\t}).then(res => {\n\t\t\tupdateSessionId(res.headers['session-id'])\n\t\t\treturn res.data\n\t\t})\n\t},\n}\n\nexport default apiProxy\n\n","const cookies = {\n\tset: (cookieName, cookieValue, maxDays, path = '', domain = '') => {\n\t\tconst date = new Date()\n\t\tdate.setTime(date.getTime() + maxDays * 24 * 60 * 60 * 1000)\n\t\tdocument.cookie = `${cookieName}=${cookieValue};path=${path};domain=${domain};expires=${date.toUTCString()}`\n\t},\n\n\tget: cookieName => {\n\t\tconst name = `${cookieName}=`\n\t\tconst decodedCookie = decodeURIComponent(document.cookie)\n\t\tconst ca = decodedCookie.split(';')\n\n\t\tca.forEach(c => {\n\t\t\twhile(c.charAt(0) === ' ')\n\t\t\t\tc = c.substring(1)\n\t\t\tif (c.indexOf(name) === 0)\n\t\t\t\treturn c.substring(name.length, c.length)\n\t\t})\n\n\t\treturn ''\n\t},\n\n\tgetAll: () => {\n\t\treturn document.cookie\n\t\t\t.split(';')\n\t\t\t.reduce((res, c) => {\n\t\t\t\tconst [key, val] = c.trim().split('=').map(decodeURIComponent)\n\t\t\t\ttry {\n\t\t\t\t\treturn Object.assign(res, { [key]: JSON.parse(val) })\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn Object.assign(res, { [key]: val })\n\t\t\t\t}\n\t\t\t}, {})\n\t},\n\n\tdelete: (cookieName, path, domain) => {\n\t\tif (this.get(cookieName))\n\t\t\tdocument.cookie = `${cookieName}=${path && `;path=${path}`}${domain && `;domain=${domain}`};expires=Thu, 01 Jan 1970 00:00:01 GMT`\n\t}\n}\n\nexport default cookies\n","class BrowserStorage {\n\n\tdisplayBlocksKey = `displayBlocks`\n\n\t/**\n\t * Sets the collection display type to either block or list\n\t *\n\t * @param type The type you want to set collectionDisplay to. Must be either `block` or `list`.\n\t */\n\tset displayBlocks(value) {\n\t\tlocalStorage.setItem(this.displayBlocksKey, value)\n\t}\n\n\t/**\n\t * Sets the collection display type to either block or list\n\t *\n\t * @returns either `block` or `list`\n\t */\n\tget displayBlocks() {\n\t\treturn localStorage.getItem(this.displayBlocksKey) === `true`\n\t}\n}\n\nconst browserStorage = new BrowserStorage()\n\nexport default browserStorage\n","import apiProxy from\n\t'./p/ApiProxy'\n// './p/test/ApiProxy'\n\nimport cookies from './p/Cookies'\nimport browserStorage from './p/BrowserStorage'\n\nexport {\n\tapiProxy,\n\tcookies,\n\tbrowserStorage,\n}\n\nconst proxies = {\n\tapiProxy,\n\tcookies,\n\tbrowserStorage,\n}\n\nexport default proxies\n","export default class BackEndContent {\n\n\tbackEndData = {\n\t\t\"allow-definitions\": true,\n\t\t\"url\": \"string\",\n\t\t\"allow-captions\": true,\n\t\t\"content-type\": \"string\",\n\t\t\"resource-id\": \"string\",\n\t\t\"tags\": \"string\",\n\t\t\"thumbnail\": \"string\",\n\t\t\"file-version\": \"string\",\n\t\t\"collection-id\": \"string\",\n\t\t\"views\": 0,\n\t\t\"annotations\": \"string\",\n\t\t\"title\": \"string\",\n\t\t\"allow-notes\": true,\n\t\t\"description\": \"string\"\n\t}\n\n\tconstructor(obj){\n\n\t\tif(obj !== undefined){\n\t\t\tthis.backEndData['id'] = obj.id\n\t\t\tthis.backEndData['views'] = obj.views\n\t\t\tthis.backEndData['collection-id']  = obj.collectionId\n\t\t\tthis.backEndData['url'] = obj.url\n\t\t\tthis.backEndData['content-type']  = obj.contentType\n\t\t\tthis.backEndData['thumbnail'] = obj.thumbnail\n\t\t\tthis.backEndData['description'] = obj.description\n\t\t\tthis.backEndData['resource-id'] = obj.resourceId\n\t\t\tthis.backEndData['title'] = obj.name\n\n\t\t\tthis.backEndData['allow-definitions'] = obj.settings.allowDefinitions\n\t\t\tthis.backEndData['allow-captions'] = obj.settings.allowCaptions\n\n\t\t\tthis.backEndData['annotations'] =  this.arrayToString(obj.settings.annotationDocument)//settings\n\n\t\t\tthis.backEndData['file-version'] = obj.settings.targetLanguages\n\n\t\t\tthis.backEndData['tags'] = obj.resource.keywords.join(\"; \")\n\t\t}\n\n\t}\n\n\tarrayToString(array){\n\t\tlet str = ''\n\n\t\tarray.forEach(element => {\n\t\t\tstr += `${JSON.stringify(element)}; `\n\t\t});\n\n\t\treturn str\n\t}\n\n}\n","export default class ResourceObject {\n\n\tid\n\tcopyrighted\n\tresourceName\n\tphysicalCopyExists\n\tpublished\n\tviews\n\tfullVideo\n\tmetadata\n\trequesterEmail\n\tallFileVersions\n\tresourceType\n\tdateValidated\n\n\tconstructor(obj) {\n\n\t\tthis.id = obj[`id`]\n\t\tthis.copyrighted = obj[`copyrighted`]\n\t\tthis.resourceName = obj[`resource-name`]\n\t\tthis.physicalCopyExists = obj[`physical-copy-exists`]\n\t\tthis.published = obj[`published`]\n\t\tthis.views = obj[`views`]\n\t\tthis.fullVideo = obj[`full-video`]\n\t\tthis.metadata = obj[`metadata`]\n\t\tthis.requesterEmail = obj[`requester-email`]\n\t\tthis.allFileVersions = obj[`all-file-versions`]\n\t\tthis.resourceType = obj[`resource-type`]\n\t\tthis.dateValidated = obj[`date-validated`]\n\t}\n}","import AdminService from './s/admin.redux'\nimport AuthService from './s/auth.redux'\nimport CollectionService from './s/collections.redux'\nimport ContentService from './s/content.redux'\nimport InterfaceService from './s/interface.redux'\nimport ResourceService from './s/resources.redux'\nimport FileService from './s/file.redux'\n\nexport const adminService = new AdminService()\nexport const authService = new AuthService()\nexport const collectionService = new CollectionService()\nexport const contentService = new ContentService()\nexport const interfaceService = new InterfaceService()\nexport const resourceService = new ResourceService()\nexport const fileService = new FileService()\n\nconst services = {\n\tadminService,\n\tauthService,\n\tcollectionService,\n\tcontentService,\n\tinterfaceService,\n\tresourceService,\n\tfileService,\n}\n\nexport default services\n","import User from 'models/User'\nimport Content from 'models/Content'\n\nexport default class AdminService {\n\n\t// TODO: Move all functionality from this service into appropriate services\n\n\t// This whole service doesn't make sense. There is no object in the database called an \"admin\". That's just a role.\n\t// So all of the collection stuff should be put into the collections service, all the search_professor stuff should\n\t// be in some kind of user service, etc.\n\n\t// types\n\n\ttypes = {\n\t\tADMIN_START: `ADMIN_START`,\n\t\tADMIN_ABORT: `ADMIN_ABORT`,\n\t\tADMIN_CLEAN: `ADMIN_CLEAN`,\n\t\tADMIN_ERROR: `ADMIN_ERROR`,\n\t\tADMIN_SEARCH: `ADMIN_SEARCH`,\n\t\tADMIN_CREATE_COLLECTION: `ADMIN_CREATE_COLLECTION`,\n\t\tADMIN_CREATE_CONTENT: `ADMIN_CREATE_CONTENT`,\n\t\tADMIN_GET_COLLECTION_CONTENT: `ADMIN_GET_COLLECTION_CONTENT`,\n\t\tADMIN_SEARCH_PROFESSORS: `ADMIN_SEARCH_PROFESSORS`,\n\t\tADMIN_SET_PROFESSOR: `ADMIN_SET_PROFESSOR`,\n\t\tADMIN_SEARCH_COLLECTIONS: `ADMIN_SEARCH_COLLECTIONS`,\n\t\tADMIN_COLLECTION_EDIT: `ADMIN_COLLECTION_EDIT`,\n\t\tADMIN_COLLECTION_DELETE: `ADMIN_COLLECTION_DELETE`,\n\t\tADMIN_USER_DELETE: `ADMIN_USER_DELETE`,\n\t\tADMIN_CONTENT_DELETE: `ADMIN_CONTENT_DELETE`,\n\t\tADMIN_CONTENT_DELETE_FROM_TABLE: `ADMIN_CONTENT_DELETE_FROM_TABLE`,\n\t}\n\n\t// action creators\n\n\tactions = {\n\t\tadminStart: () => ({ type: this.types.ADMIN_START }),\n\t\tadminAbort: () => ({ type: this.types.ADMIN_ABORT }),\n\t\tadminClean: () => ({ type: this.types.ADMIN_CLEAN }),\n\t\tadminCreateCollection: () => ({ type: this.types.ADMIN_CREATE_COLLECTION }),\n\t\tadminCreateContent: (content) => ({ type: this.types.ADMIN_CREATE_CONTENT, payload: { content } }),\n\t\tadminError: error => ({ type: this.types.ADMIN_ERROR, payload: { error } }),\n\t\tadminGetCollectionContent: content => ({ type: this.types.ADMIN_GET_COLLECTION_CONTENT, payload: { content }}),\n\t\tadminSearch: results => ({ type: this.types.ADMIN_SEARCH, payload: { results } }),\n\t\tadminSearchProfessors: results => ({ type: this.types.ADMIN_SEARCH_PROFESSORS, payload: { results }}),\n\t\tadminSetProfessor: professor => ({ type: this.types.ADMIN_SET_PROFESSOR, payload: { professor }}),\n\t\tadminSearchCollections: results => ({ type: this.types.ADMIN_SEARCH_COLLECTIONS, payload: { results }}),\n\t\tadminCollectionEdit: collection => ({ type: this.types.ADMIN_COLLECTION_EDIT, payload: { collection }}),\n\t\tadminCollectionDelete: response => ({ type: this.types.ADMIN_COLLECTION_DELETE, payload: { response }}),\n\t\tadminUserDelete: data => ({ type: this.types.ADMIN_USER_DELETE, payload: { data }}),\n\t\tadminContentDelete: content => ({ type: this.types.ADMIN_CONTENT_DELETE, payload: { content }}),\n\t\tadminContentDeleteFromTable: content => ({ type: this.types.ADMIN_CONTENT_DELETE_FROM_TABLE, payload: { content }}),\n\t}\n\n\t// default store\n\n\tstore = {\n\t\tdata: null,\n\t\tcache: {},\n\t\tprofessors: [],\n\t\tprofessor: {},\n\t\tprofessorCollections: null,\n\t\tprofCollectionContent: null,\n\t\tloading: false,\n\t\tlastFetched: 0,\n\t\tlastFetchedProfContent: 0,\n\t\tlastFetchedProfessors: 0,\n\t\tlastFetchedCollections: 0,\n\t}\n\n\t// reducer\n\n\treducer = (store = this.store, action) => {\n\n\t\tconst {\n\t\t\tADMIN_START,\n\t\t\tADMIN_ABORT,\n\t\t\tADMIN_CLEAN,\n\t\t\tADMIN_CREATE_COLLECTION,\n\t\t\tADMIN_CREATE_CONTENT,\n\t\t\tADMIN_ERROR,\n\t\t\tADMIN_GET_COLLECTION_CONTENT,\n\t\t\tADMIN_SEARCH,\n\t\t\tADMIN_SEARCH_PROFESSORS,\n\t\t\tADMIN_SET_PROFESSOR,\n\t\t\tADMIN_SEARCH_COLLECTIONS,\n\t\t\tADMIN_COLLECTION_EDIT,\n\t\t\tADMIN_COLLECTION_DELETE,\n\t\t\tADMIN_USER_DELETE,\n\t\t\tADMIN_CONTENT_DELETE,\n\t\t\tADMIN_CONTENT_DELETE_FROM_TABLE,\n\t\t} = this.types\n\n\t\tswitch (action.type) {\n\n\t\tcase ADMIN_START:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: true,\n\t\t\t}\n\n\t\tcase ADMIN_ABORT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tdata: null,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase ADMIN_CLEAN:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tdata: null,\n\t\t\t\tcache: {},\n\t\t\t}\n\n\t\tcase ADMIN_CREATE_COLLECTION:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tprofessor: {},\n\t\t\t\tprofessorCollections: null,\n\t\t\t\tprofCollectionContent: null,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase ADMIN_CREATE_CONTENT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tprofCollectionContent: {\n\t\t\t\t\t...store.profCollectionContent,\n\t\t\t\t\t[action.payload.content.id]: action.payload.content,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase ADMIN_ERROR:\n\t\t\tconsole.error(action.payload.error)\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tdata: null,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase ADMIN_GET_COLLECTION_CONTENT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tprofCollectionContent: action.payload.content,\n\t\t\t\tlastFetchedProfContent: Date.now(),\n\t\t\t}\n\n\t\tcase ADMIN_SEARCH:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tdata: action.payload.results,\n\t\t\t\tcache: {\n\t\t\t\t\t...action.payload.results,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t\tlastFetched: Date.now(),\n\t\t\t}\n\n\t\tcase ADMIN_SEARCH_PROFESSORS:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tprofessors: action.payload.results,\n\t\t\t\tprofessor: {},\n\t\t\t\tprofessorCollections: null,\n\t\t\t\tprofCollectionContent: null,\n\t\t\t\tloading: false,\n\t\t\t\tlastFetchedProfessors: Date.now(),\n\t\t\t}\n\n\t\tcase ADMIN_SET_PROFESSOR:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tprofessor: action.payload.professor,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase ADMIN_SEARCH_COLLECTIONS:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tprofessors: [],\n\t\t\t\tprofessorCollections: action.payload.results,\n\t\t\t\tloading: false,\n\t\t\t\tlastFetchedCollections: Date.now(),\n\t\t\t}\n\n\t\tcase ADMIN_COLLECTION_EDIT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tprofessorCollections: {\n\t\t\t\t\t...store.professorCollections,\n\t\t\t\t\t[action.payload.collection.id]: action.payload.collection,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase ADMIN_COLLECTION_DELETE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tdata: action.payload.response,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase ADMIN_USER_DELETE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tdata: action.payload.data,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\t//THIS IS DELETING CONTENT FROM MANAGE COLLECTION\n\t\tcase ADMIN_CONTENT_DELETE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tprofCollectionContent: action.payload.content,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\t//THIS IS DELETING CONTENT FROM THE ADMIN CONTAINER / ADMIN DASHBOARD\n\t\tcase ADMIN_CONTENT_DELETE_FROM_TABLE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tdata: action.payload.content,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn store\n\t\t}\n\t}\n\n\t// thunks\n\n\tsearch = (searchCategory, searchQuery, force = false) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tconst time = Date.now() - getState().adminStore.lastFetched\n\n\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\tif (stale || force) {\n\n\t\t\tdispatch(this.actions.adminStart())\n\n\t\t\ttry {\n\n\t\t\t\tconst results = await apiProxy.admin.search.get(searchCategory, searchQuery)\n\n\t\t\t\tconst finalData = []\n\t\t\t\tswitch (searchCategory) {\n\t\t\t\tcase `user`:\n\t\t\t\t\tresults.forEach((item) => {\n\t\t\t\t\t\tfinalData.push(new User(item))\n\t\t\t\t\t})\n\t\t\t\t\tbreak\n\n\t\t\t\tcase `collection`:\n\t\t\t\t\tresults.forEach((item) => {\n\t\t\t\t\t\titem[`name`] = item[`collection-name`]\n\t\t\t\t\t\tdelete item[`collection-name`]\n\t\t\t\t\t\tfinalData.push(item)\n\t\t\t\t\t})\n\t\t\t\t\tbreak\n\n\t\t\t\tcase `content`:\n\t\t\t\t\tresults.forEach((item) => {\n\t\t\t\t\t\tfinalData.push(new Content(item))\n\t\t\t\t\t})\n\t\t\t\t\tbreak\n\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t\t}\n\n\t\t\t\tdispatch(this.actions.adminSearch(finalData))\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error.message)\n\t\t\t\tdispatch(this.actions.adminError(error))\n\t\t\t}\n\n\t\t} else dispatch(this.actions.adminAbort())\n\t}\n\n\tsearchProfessors = (searchQuery, force = false) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tconsole.log('search prof')\n\n\t\tconst time = Date.now() - getState().adminStore.lastFetchedProfessors\n\n\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\tif (stale || force) {\n\n\t\t\tdispatch(this.actions.adminStart())\n\n\t\t\ttry {\n\n\t\t\t\tconst results = await apiProxy.admin.search.get(`user`, searchQuery)\n\n\t\t\t\tconst profArray = []\n\n\t\t\t\tresults.forEach(element => {\n\t\t\t\t\tprofArray.push(new User(element))\n\t\t\t\t})\n\n\t\t\t\tdispatch(this.actions.adminSearchProfessors(profArray))\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error.message)\n\t\t\t\tdispatch(this.actions.adminError(error))\n\t\t\t}\n\n\t\t} else dispatch(this.actions.adminAbort())\n\t}\n\n\tsetProfessor = (professorId, force = false) => async (dispatch, getState, { apiProxy }) => {\n\t\tconsole.log('set prof')\n\n\n\t\tdispatch(this.actions.adminStart())\n\n\t\t// console.log(professorId)\n\n\t\ttry {\n\n\t\t\tconst results = await apiProxy.admin.user.get(professorId)\n\n\t\t\tconsole.log('setProf RESULTS', results)\n\n\t\t\t// console.log(new User(results))\n\n\t\t\tdispatch(this.actions.adminSetProfessor(new User(results)))\n\n\t\t} catch (error) {\n\t\t\tconsole.error('ERRROR', error.message)\n\t\t\tdispatch(this.actions.adminError(error))\n\t\t}\n\t}\n\n\tgetCollectionContent = (id, force = false) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tconsole.log('getting collection content')\n\n\t\tconst time = Date.now() - getState().adminStore.lastFetchedProfContent\n\n\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\tif (stale || force) {\n\n\t\t\tdispatch(this.actions.adminStart())\n\n\t\t\ttry {\n\n\t\t\t\tconst content = await apiProxy.admin.collection.content.get(id)\n\n\t\t\t\tdispatch(this.actions.adminGetCollectionContent(content))\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error.message)\n\t\t\t\tdispatch(this.actions.adminError(error))\n\t\t\t}\n\n\t\t} else dispatch(this.actions.adminAbort())\n\t}\n\n\t// createCollection = (name) => async (dispatch, getState, { apiProxy }) => {\n\n\t// \tdispatch(this.actions.adminStart())\n\n\t// \ttry {\n\n\t// \t\tconst ownerId = getState().adminStore.professor.id\n\n\t// \t\tawait apiProxy.admin.collection.create(name, parseInt(ownerId)) // maybe parseInt(ownerId) -> ownerId -Matthew\n\n\t// \t\tdispatch(this.actions.adminCreateCollection())\n\n\t// \t\tthis.searchCollections(ownerId)\n\n\t// \t} catch (error) {\n\t// \t\tconsole.log(error.message)\n\t// \t\tdispatch(this.actions.adminError(error))\n\t// \t}\n\t// }\n\n\tcreateContent = (content) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.adminStart())\n\n\t\ttry {\n\t\t\t// console.log('got here')\n\t\t\tconst result = await apiProxy.content.post(content)\n\n\t\t} catch (error) {\n\t\t\tconsole.log('errorr api proxy ?')\n\t\t\tdispatch(this.actions.adminError(error))\n\t\t}\n\t}\n\n\tcreateContentFromResource = (collectionId, resourceId) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.adminStart())\n\n\t\ttry {\n\n\t\t\t// console.log(resourceId)\n\t\t\tconst result = await apiProxy.admin.collection.content.createFromResource(collectionId, resourceId)\n\n\t\t\t// console.log(result.data)\n\n\t\t\t// const data = { [result.data.id]: result.data }\n\n\t\t\t// dispatch(this.actions.adminCreateContent(data))\n\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.adminError(error))\n\t\t}\n\t}\n\n\tsearchCollections = (professorId, force = false) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tconst time = Date.now() - getState().adminStore.lastFetchedCollections\n\n\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\tif (stale || force) {\n\n\t\t\tdispatch(this.actions.adminStart())\n\n\t\t\ttry {\n\n\t\t\t\tconst results = await apiProxy.admin.collection.get(professorId)\n\n\t\t\t\tconst collections = results.reduce((acc, cur) => ({ ...acc, [cur.id]: cur }), {})\n\n\t\t\t\tdispatch(this.actions.adminSearchCollections(collections))\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error.message)\n\t\t\t\tdispatch(this.actions.adminError(error))\n\t\t\t}\n\n\t\t} else dispatch(this.actions.adminAbort())\n\t}\n\n\tupdateCollectionStatus = (colId, action) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.adminStart())\n\n\t\t// Grab all the collections from the admin store\n\t\tconst collections = { ...getState().adminStore.professorCollections}\n\t\t// Grab the current collection from the admin store\n\t\tconst professorId = { ...getState().adminStore.professor.id }\n\t\tlet currentCollection\n\t\tObject.keys(collections).forEach(item => {\n\t\t\tconst {id} = collections[item]\n\t\t\tif (id === colId){\n\t\t\t\tcurrentCollection = collections[item]\n\t\t\t\treturn\n\t\t\t}\n\t\t})\n\n\t\t// console.log(collections)\n\n\t\tlet abort = false\n\n\t\tswitch (action) {\n\t\tcase `publish`:\n\t\t\tcurrentCollection.published = true\n\t\t\tbreak\n\n\t\tcase `unpublish`:\n\t\t\tcurrentCollection.published = false\n\t\t\tbreak\n\n\t\tcase `archive`:\n\t\t\tcurrentCollection.archived = true\n\t\t\tbreak\n\n\t\tcase `unarchive`:\n\t\t\tcurrentCollection.published = false\n\t\t\tcurrentCollection.archived = false\n\t\t\tbreak\n\n\t\tdefault:\n\t\t\tabort = true\n\t\t\tbreak\n\t\t}\n\n\t\tconst finalState = {\n\t\t\tpublished: currentCollection.published,\n\t\t\tarchived: currentCollection.archived,\n\t\t}\n\n\t\tif (abort) dispatch(this.actions.adminAbort())\n\t\telse {\n\t\t\ttry {\n\t\t\t\t// Edit the desired collection\n\t\t\t\tawait apiProxy.collection.edit(colId, finalState)\n\t\t\t\t// Get the updated collection and all the other collections\n\t\t\t\t// This fixes the bug that it will add a duplicated collection\n\t\t\t\t// to the professorCollections\n\t\t\t\tawait this.searchCollections(professorId, true)\n\t\t\t\t// The result will be the updated professorCollections\n\t\t\t\t// This will be the paidload for the adminSeachCollections\n\t\t\t\tconst result = { ...getState().adminStore.professorCollections}\n\t\t\t\tdispatch(this.actions.adminSearchCollections(result))\n\t\t\t} catch (error) {\n\t\t\t\tdispatch(this.actions.adminError(error))\n\t\t\t}\n\t\t}\n\t}\n\n\tdeleteCollection = (collectionId) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.adminStart())\n\n\t\ttry {\n\n\t\t\tconst currentResults = [...getState().adminStore.data]\n\n\t\t\t// console.log(currentResults)\n\n\t\t\tcurrentResults.splice(currentResults.findIndex((element) => element.id === collectionId) ,1)\n\n\t\t\tconst result = await apiProxy.admin.collection.delete(collectionId)\n\t\t\t// console.log(result)\n\n\t\t\t// console.log(currentResults)\n\n\t\t\tdispatch(this.actions.adminCollectionDelete(currentResults))\n\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.adminError(error))\n\t\t}\n\t}\n\n\tdeleteContent = (contentId, fromAdmin) => async (dispatch, getState, { apiProxy }) => {\n\t\tdispatch(this.actions.adminStart())\n\n\t\tlet currentState;\n\n\t\tif(fromAdmin){\n\t\t\tcurrentState = [...getState().adminStore.data]\n\n\t\t\tcurrentState.splice(currentState.findIndex((element) => element.id === contentId) ,1)\n\t\t}\n\t\telse {\n\t\t\tcurrentState = { ...getState().adminStore.profCollectionContent }\n\n\t\t\tdelete currentState[contentId]\n\t\t}\n\n\t\tconsole.log(currentState)\n\n\t\ttry {\n\t\t\tconst result = await apiProxy.admin.content.delete(contentId)\n\n\t\t\tif(fromAdmin){\n\t\t\t\tdispatch(this.actions.adminContentDeleteFromTable(currentState))\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdispatch(this.actions.adminContentDelete(currentState))\n\t\t\t}\n\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.adminError(error))\n\t\t}\n\t}\n\n\tdeleteUser = (userId) => async (dispatch, getState, { apiProxy }) => {\n\t\tdispatch(this.actions.adminStart())\n\n\t\tconst currentResults = [...getState().adminStore.data]\n\n\t\t// console.log(currentResults)\n\n\t\tcurrentResults.splice(currentResults.findIndex((element) => element.id === userId) ,1)\n\n\n\t\t// console.log(result)\n\n\t\t// console.log(currentResults)\n\n\t\ttry {\n\n\t\t\tconst result = await apiProxy.admin.user.delete(userId)\n\n\t\t\tdispatch(this.actions.adminUserDelete(currentResults))\n\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.adminError(error))\n\t\t}\n\t}\n\n\tclean = () => async (dispatch) => {\n\t\tdispatch(this.actions.adminClean())\n\t}\n\n}\n","export default class AuthService {\n\n\t// types\n\n\ttypes = {\n\t\tAUTH_START: `AUTH_START`,\n\t\tAUTH_ABORT: `AUTH_ABORT`,\n\t\tAUTH_CLEAN: `AUTH_CLEAN`,\n\t\tAUTH_ERROR: `AUTH_ERROR`,\n\t\tAUTH_GET: `AUTH_GET`,\n\t}\n\n\t// action creators\n\n\tactions = {\n\t\tauthStart: () => ({ type: this.types.AUTH_START }),\n\t\tauthAbort: () => ({ type: this.types.AUTH_ABORT }),\n\t\tauthError: ({ message }) => ({\n\t\t\ttype: this.types.AUTH_ERROR,\n\t\t\tpayload: { message },\n\t\t}),\n\t\tauthGet: user => ({\n\t\t\ttype: this.types.AUTH_GET,\n\t\t\tpayload: { user },\n\t\t}),\n\t}\n\n\t// default store\n\n\tstore = {\n\t\tuser: null,\n\t\tloading: true,\n\t\tmessage: ``,\n\t\ttried: false,\n\t}\n\n\t// reducer\n\n\treducer = (store = this.store, { type, payload }) => {\n\t\tswitch (type) {\n\n\t\tcase this.types.AUTH_START:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: true,\n\t\t\t}\n\n\t\tcase this.types.AUTH_ERROR:\n\t\t\tconsole.error(payload.message)\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tuser: null,\n\t\t\t\tloading: false,\n\t\t\t\tmessage: payload.message,\n\t\t\t\ttried: true,\n\t\t\t}\n\n\t\tcase this.types.AUTH_ABORT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tuser: null,\n\t\t\t\tloading: false,\n\t\t\t\ttried: false,\n\t\t\t}\n\n\t\tcase this.types.AUTH_GET:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tuser: payload.user,\n\t\t\t\tloading: false,\n\t\t\t\ttried: true,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn store\n\t\t}\n\t}\n\n\t// thunks\n\n\t/**\n\t * Tries to get the current user from the API. If unsuccessful, we know the user isn't logged in.\n\t */\n\tcheckAuth = () => async (dispatch, _getState, { apiProxy }) => {\n\t\tdispatch(this.actions.authStart())\n\t\ttry {\n\t\t\tconst user = await apiProxy.user.get()\n\t\t\tdispatch(this.actions.authGet(user))\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.authError(error))\n\t\t}\n\t}\n\n\t/**\n\t * Redirects to the BYU CAS Login page\n\t */\n\tlogin = () => async (_dispatch, _getState, { apiProxy }) => {\n\t\tapiProxy.auth.cas()\n\t}\n\n\t/**\n\t * Redirects to the BYU CAS Logout page\n\t */\n\tlogout = () => async (_dispatch, _getState, { apiProxy }) => {\n\t\tapiProxy.auth.logout()\n\t}\n\n}\n","export default class CollectionService {\n\t// types\n\n\ttypes = {\n\t\tCOLLECTIONS_START: `COLLECTIONS_START`,\n\t\tCOLLECTIONS_ABORT: `COLLECTIONS_ABORT`,\n\t\tCOLLECTIONS_CLEAN: `COLLECTIONS_CLEAN`,\n\t\tCOLLECTIONS_ERROR: `COLLECTIONS_ERROR`,\n\t\tCOLLECTIONS_GET: `COLLECTIONS_GET`,\n\t\tCOLLECTIONS_REMOVE_CONTENT: `COLLECTION_REMOVE_CONTENT`,\n\t\tCOLLECTION_CREATE: `COLLECTION_CREATE`,\n\t\tCOLLECTION_EDIT: `COLLECTION_EDIT`,\n\t\tCOLLECTION_ROLES_GET: `COLLECTION_ROLES_GET`,\n\t\tCOLLECTION_ROLES_UPDATE: `COLLECTION_ROLES_UPDATE`,\n\t}\n\n\troleEndpoints = {\n\t\taddCourse: `add-course`,\n\t\taddTA: `add-user`,\n\t\taddException: `add-user`,\n\t\tremoveCourse: `remove-course`,\n\t\tremoveUser: `remove-user`,\n\t}\n\n\t// action creators\n\n\tactions = {\n\t\tcollectionsStart: () => ({ type: this.types.COLLECTIONS_START }),\n\t\tcollectionsAbort: () => ({ type: this.types.COLLECTIONS_ABORT }),\n\t\tcollectionsClean: () => ({ type: this.types.COLLECTIONS_CLEAN }),\n\t\tcollectionsError: error => ({ type: this.types.COLLECTIONS_ERROR, payload: { error } }),\n\t\tcollectionsGet: collections => ({ type: this.types.COLLECTIONS_GET, payload: { collections } }),\n\t\tcollectionsRemoveContent: (id, collection) => ({ type: this.types.COLLECTIONS_REMOVE_CONTENT, payload: {id, collection} }),\n\t\tcollectionCreate: collection => ({ type: this.types.COLLECTION_CREATE, payload: { collection }}),\n\t\tcollectionEdit: collection => ({ type: this.types.COLLECTION_EDIT, payload: { collection }}),\n\t\tcollectionRolesGet: data => ({ type: this.types.COLLECTION_ROLES_GET, payload: { ...data }}),\n\t\tcollectionRolesUpdate: data => ({ type: this.types.COLLECTION_ROLES_UPDATE, payload: { ...data }}),\n\t}\n\n\t// default store\n\n\tstore = {\n\t\troles: {},\n\t\tcache: {},\n\t\tloading: false,\n\t\tlastFetched: 0,\n\t}\n\n\t// reducer\n\n\treducer = (store = this.store, action) => {\n\n\t\tconst {\n\t\t\tCOLLECTIONS_START,\n\t\t\tCOLLECTIONS_ABORT,\n\t\t\tCOLLECTIONS_CLEAN,\n\t\t\tCOLLECTIONS_ERROR,\n\t\t\tCOLLECTIONS_GET,\n\t\t\tCOLLECTIONS_REMOVE_CONTENT,\n\t\t\tCOLLECTION_CREATE,\n\t\t\tCOLLECTION_EDIT,\n\t\t\tCOLLECTION_ROLES_GET,\n\t\t\tCOLLECTION_ROLES_UPDATE,\n\t\t} = this.types\n\n\t\tswitch (action.type) {\n\n\t\tcase COLLECTIONS_START:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: true,\n\t\t\t}\n\n\t\tcase COLLECTIONS_ABORT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase COLLECTIONS_CLEAN:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {},\n\t\t\t}\n\n\t\tcase COLLECTION_CREATE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase COLLECTIONS_ERROR:\n\t\t\tconsole.error(action.payload.error)\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase COLLECTIONS_GET:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...store.cache,\n\t\t\t\t\t...action.payload.collections,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t\tlastFetched: Date.now(),\n\t\t\t}\n\n\t\tcase COLLECTIONS_REMOVE_CONTENT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...store.cache,\n\t\t\t\t\t[action.payload.collection.id]: action.payload.collection,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase COLLECTION_EDIT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...store.cache,\n\t\t\t\t\t[action.payload.collection.id]: action.payload.collection,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase COLLECTION_ROLES_GET:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\troles: {\n\t\t\t\t\t...store.roles,\n\t\t\t\t\t...action.payload,\n\t\t\t\t},\n\t\t\t}\n\n\t\tcase COLLECTION_ROLES_UPDATE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\troles: {\n\t\t\t\t\t...store.roles,\n\t\t\t\t\t...action.payload,\n\t\t\t\t},\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn store\n\t\t}\n\t}\n\n\t// thunks\n\n\tgetCollections = (force = false) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tconst time = Date.now() - getState().collectionStore.lastFetched\n\n\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\tif (stale || force) {\n\n\t\t\tdispatch(this.actions.collectionsStart())\n\n\t\t\ttry {\n\n\t\t\t\tconst result = await apiProxy.user.collections.get()\n\n\t\t\t\tdispatch(this.actions.collectionsGet(result))\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error.message)\n\t\t\t\tdispatch(this.actions.collectionsError(error))\n\t\t\t}\n\n\t\t} else dispatch(this.actions.collectionsAbort())\n\t}\n\n\tremoveCollectionContent = (id, contentId, isLabAssistant) => async (dispatch, getState, { apiProxy }) => {\n\t\tdispatch(this.actions.collectionsStart())\n\n\t\tconst currentState = { ...getState().collectionStore.cache[id] }\n\t\tlet contentIndex = 0\n\n\t\tcurrentState.content.forEach((element, index) => {\n\t\t\tif(element.id === contentId){\n\t\t\t\t// console.log(true)\n\t\t\t\tcontentIndex = index\n\t\t\t}\n\t\t})\n\t\tcurrentState.content.splice(contentIndex, 1)\n\n\t\ttry {\n\t\t\tconst result = await apiProxy.collection.remove(contentId)\n\t\t\t// console.log(result)\n\n\t\t\t// You also have to be an admin to do this, I'm pretty sure\n\t\t\tdispatch(this.actions.collectionsRemoveContent(id, currentState))\n\t\t} catch (error) {\n\t\t\tconsole.log(error)\n\t\t\tdispatch(this.actions.collectionsError(error))\n\t\t}\n\t}\n\n\tcreateCollection = (name) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.collectionsStart())\n\n\t\ttry {\n\n\t\t\tawait apiProxy.collection.create(name)\n\n\t\t\tconst results = await apiProxy.user.collections.get()\n\n\t\t\t// TODO: We need to update state\n\t\t\tdispatch(this.actions.collectionsGet(results))\n\n\t\t} catch (error) {\n\t\t\tconsole.log(error.message)\n\t\t\tdispatch(this.actions.collectionsError(error))\n\t\t}\n\n\t}\n\n\tupdateCollectionStatus = (id, action) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.collectionsStart())\n\n\t\tconst currentState = getState().collectionStore.cache[id]\n\n\t\tlet abort = false\n\n\t\tswitch (action) {\n\t\tcase `publish`:\n\t\t\tcurrentState.published = true\n\n\t\t\tbreak\n\n\t\tcase `unpublish`:\n\t\t\tcurrentState.published = false\n\t\t\tbreak\n\n\t\tcase `archive`:\n\t\t\tcurrentState.archived = true\n\t\t\tbreak\n\n\t\tcase `unarchive`:\n\t\t\tcurrentState.published = false\n\t\t\tcurrentState.archived = false\n\t\t\tbreak\n\n\t\tdefault:\n\t\t\tabort = true\n\t\t\tbreak\n\t\t}\n\n\t\tconst finalState = {\n\t\t\tpublished: currentState.published,\n\t\t\tarchived: currentState.archived,\n\t\t}\n\n\t\t// console.log(`finalState: `, finalState)\n\n\t\tif (abort) dispatch(this.actions.collectionsAbort())\n\t\telse {\n\t\t\ttry {\n\t\t\t\tawait apiProxy.collection.edit(id, finalState)\n\t\t\t\tdispatch(this.actions.collectionEdit(currentState))\n\t\t\t} catch (error) {\n\t\t\t\tdispatch(this.actions.collectionsError(error))\n\t\t\t}\n\t\t}\n\t}\n\n\tgetCollectionRoles = (collectionId, force = false) => {\n\t\treturn async (dispatch, getState, { apiProxy }) => {\n\n\t\t\tconst store = getState().collectionStore\n\n\t\t\tconst time = Date.now() - store.lastFetched\n\n\t\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\t\tconst { roles } = store\n\t\t\tconst cached = Object.keys(roles).includes(collectionId)\n\n\t\t\tif (stale || !cached || force) {\n\n\t\t\t\tdispatch(this.actions.collectionsStart())\n\n\t\t\t\ttry {\n\n\t\t\t\t\tconst { data = {} } = await apiProxy.collection.permissions.get(collectionId)\n\t\t\t\t\tdispatch(this.actions.collectionRolesGet({ [collectionId]: data }))\n\n\t\t\t\t} catch (error) {\n\t\t\t\t\tdispatch(this.actions.collectionsError(error))\n\t\t\t\t}\n\n\t\t\t} else dispatch(this.actions.collectionsAbort())\n\t\t}\n\t}\n\n\tupdateCollectionName = (collectionId, collectionName) => {\n\t\treturn async (dispatch, getState, { apiProxy }) => {\n\t\t\tdispatch(this.actions.collectionsStart())\n\n\t\t\ttry {\n\n\t\t\t\tawait apiProxy.collection.post(collectionId, collectionName)\n\n\t\t\t\tlet currentState = {}\n\n\t\t\t\tcurrentState = getState().collectionStore.cache[collectionId]\n\t\t\t\t// console.log(`not admin`, currentState)\n\t\t\t\tcurrentState.name = collectionName\n\t\t\t\tdispatch(this.actions.collectionEdit(currentState))\n\n\t\t\t} catch (error) {\n\t\t\t\tdispatch(this.actions.collectionsError(error))\n\t\t\t}\n\t\t}\n\t}\n\n\tupdateCollectionRoles = (collectionId, endpoint, body) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.collectionsStart())\n\n\t\ttry {\n\t\t\tconst { data = {} } = await apiProxy.collection.permissions.post(collectionId, endpoint, body)\n\n\t\t\tconst newRoles = getState().collectionStore.roles[collectionId]\n\n\t\t\tswitch (endpoint) {\n\t\t\tcase this.roleEndpoints.addCourse:\n\t\t\t\tnewRoles.courses = [...newRoles.courses, data[0]]\n\t\t\t\tbreak\n\t\t\tcase this.roleEndpoints.removeCourse:\n\t\t\t\tnewRoles.courses = newRoles.courses.filter(item => item.id !== body[0].id)\n\t\t\t\tbreak\n\t\t\tcase this.roleEndpoints.addTA:\n\t\t\t\tnewRoles.admins = [...newRoles.admins, data]\n\t\t\t\tnewRoles.exceptions = [...newRoles.exceptions, data]\n\t\t\t\tbreak\n\n\t\t\tcase this.roleEndpoints.addException:\n\t\t\t\tnewRoles.exceptions = [...newRoles.exceptions, data]\n\t\t\t\tbreak\n\t\t\tcase this.roleEndpoints.removeUser:\n\t\t\t\tnewRoles.admins = newRoles.admins.filter(item => item.username !== body)\n\t\t\t\tnewRoles.exceptions = newRoles.exceptions.filter(item => item.username !== body)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tdispatch(this.actions.collectionRolesUpdate({ [collectionId]: newRoles }))\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.collectionsError(error))\n\t\t}\n\n\t}\n}\n","import BackEndContent from 'models/BackEndContent'\n\nexport default class ContentService {\n\n\t// types\n\n\ttypes = {\n\t\tCONTENT_START: `CONTENT_START`,\n\t\tCONTENT_ABORT: `CONTENT_ABORT`,\n\t\tCONTENT_CLEAN: `CONTENT_CLEAN`,\n\t\tCONTENT_CREATE: `CONTENT_CREATE`,\n\t\tCONTENT_ERROR: `CONTENT_ERROR`,\n\t\tCONTENT_GET: `CONTENT_GET`,\n\t\tCONTENT_ADD_VIEW: `CONTENT_ADD_VIEW`,\n\t\tCONTENT_UPDATE: `CONTENT_UPDATE`,\n\t}\n\n\t// action creators\n\n\tactions = {\n\t\tcontentStart: () => ({ type: this.types.CONTENT_START }),\n\t\tcontentAbort: () => ({ type: this.types.CONTENT_ABORT }),\n\t\tcontentClean: () => ({ type: this.types.CONTENT_CLEAN }),\n\t\tcontentCreate: (content) => ({ type: this.types.CONTENT_CREATE, payload: { content }}),\n\t\tcontentError: error => ({ type: this.types.CONTENT_ERROR, payload: { error } }),\n\t\tcontentGet: content => ({ type: this.types.CONTENT_GET, payload: { content } }),\n\t\tcontentAddView: id => ({ type: this.types.CONTENT_ADD_VIEW, payload: { id } }),\n\t\tcontentUpdate: content => ({ type: this.types.CONTENT_UPDATE, payload: { content }}),\n\t}\n\n\t// default store\n\n\tstore = {\n\t\tcache: {},\n\t\tloading: false,\n\t\tlastFetched: 0,\n\t}\n\n\t// reducer\n\n\treducer = (store = this.store, action) => {\n\n\t\tconst {\n\t\t\tCONTENT_START,\n\t\t\tCONTENT_ABORT,\n\t\t\tCONTENT_CLEAN,\n\t\t\tCONTENT_CREATE,\n\t\t\tCONTENT_ERROR,\n\t\t\tCONTENT_GET,\n\t\t\tCONTENT_ADD_VIEW,\n\t\t\tCONTENT_UPDATE,\n\t\t} = this.types\n\n\t\tswitch (action.type) {\n\n\t\tcase CONTENT_START:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: true,\n\t\t\t}\n\n\t\tcase CONTENT_ABORT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase CONTENT_CLEAN:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {},\n\t\t\t}\n\n\t\tcase CONTENT_CREATE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...store.cache,\n\t\t\t\t\t...action.payload.content,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase CONTENT_ERROR:\n\t\t\tconsole.error(action.payload.error)\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase CONTENT_GET:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...store.cache,\n\t\t\t\t\t...action.payload.content,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t\tlastFetched: Date.now(),\n\t\t\t}\n\n\t\tcase CONTENT_UPDATE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...store.cache,\n\t\t\t\t\t[action.payload.content.id]: action.payload.content,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase CONTENT_ADD_VIEW:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t[action.payload.id]: {\n\t\t\t\t\t\t...store.cache[action.payload.id],\n\t\t\t\t\t\tviews: store.cache[action.payload.id].views + 1,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn store\n\t\t}\n\t}\n\n\t// thunks\n\tsetContent = (content) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.contentStart())\n\n\t\t// console.log('updated content1', content)\n\n\t\ttry {\n\t\t\t// TODO: Why doesn't this update to state cause it to rerender?\n\t\t\t// dispatch(this.actions.contentCreate(data))\n\n\t\t\tdispatch(this.actions.contentGet(content))\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.contentError(error))\n\t\t}\n\n\t}\n\n\tgetContent = (contentIds = [], force = false) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tconst time = Date.now() - getState().contentStore.lastFetched\n\n\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\tconst { cache } = getState().contentStore\n\t\tconst cachedIds = Object.keys(cache).map(id => id)\n\t\tconst notCached = contentIds.filter(id => !cachedIds.includes(id))\n\n\t\t// console.log('updated store', contentIds)\n\n\t\tif (stale || notCached.length || force) {\n\n\t\t\tdispatch(this.actions.contentStart())\n\n\t\t\ttry {\n\n\t\t\t\tconst result = await apiProxy.content.get(notCached)\n\n\t\t\t\tdispatch(this.actions.contentGet(result))\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error.message)\n\t\t\t\tdispatch(this.actions.contentError(error))\n\t\t\t}\n\n\t\t} else dispatch(this.actions.contentAbort())\n\t}\n\n\tcreateContent = (content) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.contentStart())\n\n\t\ttry {\n\t\t\tconst result = await apiProxy.content.post(content)\n\n\t\t\t//const data = { [result.data.id]: result.data }\n\n\t\t\t// console.log(result.data)\n\n\t\t\t// TODO: Why doesn't this update to state cause it to rerender?\n\t\t\t// dispatch(this.actions.contentCreate(data))\n\n\t\t\tdispatch(this.actions.contentAbort())\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.contentError(error))\n\t\t}\n\t}\n\n\tupdateContent = content => async (dispatch, _getState, { apiProxy }) => {\n\n\t\t// console.log(content)\n\n\t\tdispatch(this.actions.contentStart())\n\n\t\ttry {\n\n\t\t\tconst finalData = new BackEndContent(content).backEndData\n\n\t\t\tconst results = await apiProxy.content.update(finalData)\n\n\t\t\t// const metaResult =\n\t\t\t// await apiProxy.content.metadata.post(id, metadata)\n\n\t\t\t// console.log(settingsResult)\n\n\t\t\tdispatch(this.actions.contentUpdate(content))\n\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.contentError(error))\n\t\t}\n\t}\n\n\taddView = (id, force = false) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tconst time = Date.now() - getState().contentStore.lastFetched\n\n\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\tif (stale || force) {\n\n\t\t\tdispatch(this.actions.contentStart())\n\n\t\t\ttry {\n\n\t\t\t\tawait apiProxy.content.addView.get(id)\n\n\t\t\t\tdispatch(this.actions.contentAddView(id))\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error.message)\n\t\t\t\tdispatch(this.actions.contentError(error))\n\t\t\t}\n\n\t\t} else dispatch(this.actions.contentAbort())\n\t}\n\n}","import { browserStorage } from 'proxy'\n\nexport default class InterfaceService {\n\n\t// types\n\n\ttypes = {\n\t\tMENU_TOGGLE: `MENU_TOGGLE`,\n\t\tMODAL_TOGGLE: `MODAL_TOGGLE`,\n\t\tCOLLECTIONS_DISPLAY_TOGGLE: `COLLECTIONS_DISPLAY_TOGGLE`,\n\t\tSET_HEADER_BORDER: `SET_HEADER_BORDER`,\n\t\tSET_EDITOR_STYLE: `SET_EDITOR_STYLE`,\n\t\tSET_LOST: `SET_LOST`,\n\t\tSET_EVENTS: `SET_EVENTS`,\n\t\tGET_EVENTS: `GET_EVENTS`,\n\t}\n\n\t// action creators\n\n\tactions = {\n\t\tmenuToggle: () => ({ type: this.types.MENU_TOGGLE }),\n\t\tmodalToggle: (payload = { component: null, collectionId: -1, isLabAssistantRoute:false }) => ({ type: this.types.MODAL_TOGGLE, payload }),\n\t\tcollectionsDisplayToggle: () => ({ type: this.types.COLLECTIONS_DISPLAY_TOGGLE }),\n\t\tsetHeaderBorder: active => ({ type: this.types.SET_HEADER_BORDER, payload: { active }}),\n\t\tsetEditorStyle: active => ({ type: this.types.SET_EDITOR_STYLE, payload: { active }}),\n\t\tsetLost: lost => ({ type: this.types.SET_LOST, payload: { lost }}),\n\t\tsetEvents: events => ({ type: this.types.SET_EVENTS, payload: { events }}),\n\t\tgetEvents: events => ({ type: this.types.GET_EVENTS, payload: { events }}),\n\t}\n\n\t// default store\n\n\tstore = {\n\t\tmenuActive: false,\n\t\tmodal: {\n\t\t\tactive: false,\n\t\t\tcomponent: null,\n\t\t\tcollectionId: -1,\n\t\t\tisLabAssistantRoute: false,\n\t\t\tprops: {},\n\t\t},\n\t\tdisplayBlocks: browserStorage.displayBlocks,\n\t\theaderBorder: false,\n\t\teditorStyle: false,\n\t\tlost: false,\n\t\tevents: [],\n\t}\n\n\t// reducer\n\n\treducer = (store = this.store, action) => {\n\t\tswitch (action.type) {\n\n\t\tcase this.types.MENU_TOGGLE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tmenuActive: !store.menuActive,\n\t\t\t}\n\n\t\tcase this.types.MODAL_TOGGLE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tmodal: {\n\t\t\t\t\t...store.modal,\n\t\t\t\t\tactive: !store.modal.active,\n\t\t\t\t\tcomponent: action.payload.component,\n\t\t\t\t\tcollectionId: action.payload.collectionId,\n\t\t\t\t\tisLabAssistantRoute: action.payload.isLabAssistantRoute,\n\t\t\t\t\tprops: action.payload.props,\n\t\t\t\t},\n\t\t\t}\n\n\t\tcase this.types.COLLECTIONS_DISPLAY_TOGGLE:\n\t\t\tbrowserStorage.displayBlocks = !store.displayBlocks\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tdisplayBlocks: !store.displayBlocks,\n\t\t\t}\n\n\t\tcase this.types.SET_HEADER_BORDER:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\theaderBorder: action.payload.active,\n\t\t\t}\n\n\t\tcase this.types.SET_EDITOR_STYLE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\teditorStyle: action.payload.active,\n\t\t\t}\n\n\t\tcase this.types.SET_LOST:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tlost: action.payload.lost,\n\t\t\t}\n\n\t\tcase this.types.SET_EVENTS:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tevents: action.payload.events,\n\t\t\t}\n\n\t\tcase this.types.GET_EVENTS:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tevents: action.payload.events,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn store\n\t\t}\n\t}\n\n\t// thunks\n\n\t/**\n\t * Toggles the side menu\n\t */\n\ttoggleMenu = () => async dispatch => {\n\t\tdispatch(this.actions.menuToggle())\n\t}\n\n\t/**\n\t * Toggles the Modal\n\t *\n\t * @param modal an object representing the modal you want to display. Takes the following properties: `component` (the component to display) and `id` (the id of the collection)\n\t */\n\ttoggleModal = modal => async dispatch => {\n\t\tdispatch(this.actions.modalToggle(modal))\n\t}\n\n\ttoggleCollectionsDisplay = () => async dispatch => {\n\t\tdispatch(this.actions.collectionsDisplayToggle())\n\t}\n\n\tsetHeaderBorder = active => async dispatch => {\n\t\tdispatch(this.actions.setHeaderBorder(active))\n\t}\n\n\tsetLost = lost => async dispatch => {\n\t\tdispatch(this.actions.setLost(lost))\n\t}\n\n\tsetEditorStyle = active => async dispatch => {\n\t\tdispatch(this.actions.setEditorStyle(active))\n\t}\n\n\tsetEvents = events => async dispatch => {\n\t\t// console.log('%c Updated Store', 'color: purple; font-weight: bold;')\n\t\tdispatch(this.actions.setEvents(events))\n\t}\n}\n","import ResourceObject from '../../models/ResourceObject'\n\nexport default class ResourceService {\n\n\t// types\n\n\ttypes = {\n\t\tRESOURCE_START: `RESOURCE_START`,\n\t\tRESOURCE_ABORT: `RESOURCE_ABORT`,\n\t\tRESOURCE_CLEAN: `RESOURCE_CLEAN`,\n\t\tRESOURCE_ERROR: `RESOURCE_ERROR`,\n\t\tRESOURCE_GET: `RESOURCE_GET`,\n\t\tRESOURCE_ADD: `RESOURCE_ADD`,\n\t\tRESOURCE_FILES: `RESOURCE_FILES`,\n\t\tRESOURCE_SEARCH:`RESOURCE_SEARCH`,\n\t\tRESOURCE_EDIT: `RESOURCE_EDIT`,\n\t\tRESOURCE_DELETE: `RESOURCE_DELETE`,\n\t\tRESOURCE_STREAM: 'RESOURCE_STREAM',\n\t}\n\n\t// action creators\n\n\tactions = {\n\t\tresourcesStart: () => ({ type: this.types.RESOURCE_START }),\n\t\tresourcesAbort: () => ({ type: this.types.RESOURCE_ABORT }),\n\t\tresourcesClean: () => ({ type: this.types.RESOURCE_CLEAN }),\n\t\tresourcesError: error => ({ type: this.types.RESOURCE_ERROR, payload: { error } }),\n\t\tresourcesGet: resource => ({ type: this.types.RESOURCE_GET, payload: { resource } }),\n\t\tresourcesAdd: resource => ({ type: this.types.RESOURCE_ADD, payload: { resource } }),\n\t\tresourcesFiles: (id, files) => ({ type: this.types.RESOURCE_FILES, payload: { id, files } }),\n\t\tresourceSearch: resource => ({ type: this.types.RESOURCE_SEARCH, payload: { resource } }),\n\t\tresourceEdit: resource => ({ type: this.types.RESOURCE_EDIT, payload: { resource } }),\n\t\tresourceDelete: filteredResources => ({ type: this.types.RESOURCE_DELETE, payload: { filteredResources } }),\n\t\tresourceStream: key => ({ type: this.types.RESOURCE_STREAM, payload: { key } })\n\t}\n\n\t// default store\n\n\tstore = {\n\t\tcache: {},\n\t\tloading: false,\n\t\tlastFetched: 0,\n\t\tstreamKey: '',\n\t}\n\n\t// reducer\n\n\treducer = (store = this.store, action) => {\n\n\t\tconst {\n\t\t\tRESOURCE_START,\n\t\t\tRESOURCE_ABORT,\n\t\t\tRESOURCE_CLEAN,\n\t\t\tRESOURCE_ERROR,\n\t\t\tRESOURCE_GET,\n\t\t\tRESOURCE_ADD,\n\t\t\tRESOURCE_SEARCH,\n\t\t\tRESOURCE_EDIT,\n\t\t\tRESOURCE_DELETE,\n\t\t\tRESOURCE_FILES,\n\t\t\tRESOURCE_STREAM\n\t\t} = this.types\n\n\t\tswitch (action.type) {\n\n\t\tcase RESOURCE_START:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: true,\n\t\t\t}\n\n\t\tcase RESOURCE_ABORT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase RESOURCE_CLEAN:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {},\n\t\t\t}\n\n\t\tcase RESOURCE_ERROR:\n\t\t\tconsole.error(action.payload.error)\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase RESOURCE_GET:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...store.cache,\n\t\t\t\t\t[action.payload.resource.id]: action.payload.resource,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t\tlastFetched: Date.now(),\n\t\t\t}\n\n\t\tcase RESOURCE_ADD:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...store.cache,\n\t\t\t\t\t[action.payload.resource.id]: action.payload.resource,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase RESOURCE_FILES:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...store.cache,\n\t\t\t\t\t[action.payload.id]: {\n\t\t\t\t\t\t...store.cache[action.payload.id],\n\t\t\t\t\t\tfiles: action.payload.files,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t\tlastFetched: Date.now(),\n\t\t\t}\n\n\t\tcase RESOURCE_EDIT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...store.cache,\n\t\t\t\t\t[action.payload.resource.id]: action.payload.resource,\n\t\t\t\t},\n\t\t\t}\n\n\t\tcase RESOURCE_DELETE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...action.payload.filteredResources,\n\t\t\t\t},\n\t\t\t}\n\n\t\tcase RESOURCE_SEARCH:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...action.payload.resource,\n\t\t\t\t},\n\t\t\t}\n\n\t\tcase RESOURCE_STREAM:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tstreamKey: action.payload.key,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn store\n\t\t}\n\t}\n\n\t// thunks\n\n\tsearch = (term, force = false) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.resourcesStart())\n\n\t\ttry {\n\n\t\t\tdispatch(this.actions.resourcesClean())\n\n\t\t\tconst result = await apiProxy.resources.search(term)\n\n\t\t\tconst convertedResult = []\n\n\t\t\tresult.forEach((resource) => {\n\t\t\t\tconst resourceObj = new ResourceObject(resource)\n\t\t\t\tconvertedResult[resourceObj.id] = resourceObj\n\t\t\t})\n\n\t\t\tdispatch(this.actions.resourceSearch(convertedResult))\n\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.resourcesError(error))\n\t\t}\n\t}\n\n\tgetFiles = (id, force = false) => async (dispatch, getState, { apiProxy }) => {\n\t\tdispatch(this.actions.resourcesStart())\n\n\t\ttry {\n\n\t\t\tconst result = await apiProxy.resources.files(id)\n\n\t\t\tdispatch(this.actions.resourcesFiles(id, result))\n\n\t\t\t// console.log(getState().resourceStore)\n\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.resourcesError(error))\n\t\t}\n\t}\n\n\tgetResource = (id, force = false) => async (dispatch, getState, { apiProxy }) => {\n\t\tdispatch(this.actions.resourcesStart())\n\n\t\ttry {\n\n\t\t\tconst result = await apiProxy.resources.get(id)\n\n\t\t\tdispatch(this.actions.resourcesGet(result))\n\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.resourcesError(error))\n\t\t}\n\t}\n\n\tgetResources = (id, force = false) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tconst { resourceStore } = getState()\n\n\t\tconst time = Date.now() - resourceStore.lastFetched\n\n\t\tconst stale = time >= process.env.REACT_APP_STALE_TIME\n\n\t\tconst { cache } = getState().resourceStore\n\t\tconst cachedIds = Object.keys(cache)\n\t\tconst cached = cachedIds.includes(id)\n\n\t\tif (stale || !cached || force) {\n\n\t\t\tdispatch(this.actions.resourcesStart())\n\n\t\t\ttry {\n\n\t\t\t\tconst result = await apiProxy.resources.get(id)\n\n\t\t\t\tconst { resource } = result.data\n\t\t\t\tresource.resources = {}\n\t\t\t\tresource.relations.forEach(item => resource.resources[item.type] = [])\n\n\t\t\t\tPromise.all(resource.relations.map(async item => {\n\t\t\t\t\tconst result = await apiProxy.resources.get(item.subjectId)\n\t\t\t\t\tresource.resources[item.type].push(result.data.resource)\n\t\t\t\t}))\n\n\t\t\t\tif (typeof resource.keywords === `string`) resource.keywords = resource.keywords.split(`,`)\n\n\t\t\t\tdispatch(this.actions.resourcesGet(resource))\n\n\t\t\t} catch (error) {\n\t\t\t\tdispatch(this.actions.resourcesError(error))\n\t\t\t}\n\n\t\t} else dispatch(this.actions.resourcesAbort())\n\t}\n\n\taddResource = (resource, data) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.resourcesStart())\n\n\t\ttry {\n\t\t\tconst result = await apiProxy.resources.post(resource)\n\n\t\t\tdata.id = result.id\n\n\t\t\tdispatch(this.actions.resourcesAdd(data))\n\t\t} catch(error){\n\t\t\tdispatch(this.actions.resourcesError(error))\n\t\t}\n\t}\n\n\teditResource = (resource, resourceId) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.resourcesStart())\n\n\t\ttry {\n\t\t\tconst backendForm = {\n\t\t\t\t\"id\": resource.id,\n\t\t\t\t\"copyrighted\": resource.copyrighted,\n\t\t\t\t\"resource-name\": resource.resourceName,\n\t\t\t\t\"physical-copy-exists\": resource.physicalCopyExists,\n\t\t\t\t\"published\": resource.published,\n\t\t\t\t\"views\": resource.views,\n\t\t\t\t\"full-video\": resource.fullVideo,\n\t\t\t\t\"metadata\": resource.metadata,\n\t\t\t\t\"requester-email\": resource.requesterEmail,\n\t\t\t\t\"all-file-versions\": resource.allFileVersions,\n\t\t\t\t\"resource-type\": resource.resourceType,\n\t\t\t\t\"date-validated\": resource.dateValidated,\n\t\t\t}\n\n\t\t\tconst result = await apiProxy.resources.edit(backendForm, resourceId)\n\n\t\t\tdispatch(this.actions.resourceEdit(resource))\n\t\t} catch(error){\n\t\t\tdispatch(this.actions.resourcesError(error))\n\t\t}\n\t}\n\n\tremoveResource = (resourceId) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.resourcesStart())\n\n\t\ttry {\n\n\t\t\tconst currentResources = getState().resourceStore.cache\n\t\t\tconst filteredResources = []\n\t\t\tObject.keys(currentResources).forEach(key => {\n\t\t\t\tif(key !== resourceId)\n\t\t\t\t\tfilteredResources[key] = currentResources[key]\n\t\t\t})\n\n\t\t\tconst result = await apiProxy.resources.delete(resourceId)\n\t\t\tdispatch(this.actions.resourceDelete(filteredResources))\n\n\t\t} catch(error){\n\t\t\tdispatch(this.actions.resourcesError(error))\n\t\t}\n\t}\n\n\tgetStreamKey = (resourceId, language) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.resourcesStart())\n\n\t\ttry {\n\n\t\t\tconst allFiles = await apiProxy.resources.files(resourceId)\n\n\t\t\t//console.log(allFiles)\n\n\t\t\tlet fileId = allFiles.find(element => element['file-version'].includes(language) !== false)['id']\n\n\t\t\t//console.log(fileId)\n\t\t\tconst result = await apiProxy.media.getKey(fileId)\n\t\t\t//console.log('FILE KEY', result)\n\n\n\t\t\tdispatch(this.actions.resourceStream(result['file-key']))\n\n\t\t} catch(error){\n\t\t\tdispatch(this.actions.resourcesError(error))\n\t\t}\n\t}\n\n}","export default class FileService {\n\n\t// types\n\n\ttypes = {\n\t\tFIle_START: `FIle_START`,\n\t\tFIle_ABORT: `FIle_ABORT`,\n\t\tFIle_CLEAN: `FIle_CLEAN`,\n\t\tFIle_ERROR: `FIle_ERROR`,\n\t\tFIle_UPLOAD:`FIle_UPLOAD`,\n\t\tFIle_UPDATE: `FIle_UPDATE`,\n\t}\n\n\t// action creators\n\n\tactions = {\n\t\tfileStart: () => ({ type: this.types.FIle_START }),\n\t\tfileAbort: () => ({ type: this.types.FIle_ABORT }),\n\t\tfileClean: () => ({ type: this.types.FIle_CLEAN }),\n\t\tfileError: error => ({ type: this.types.FIle_ERROR, payload: { error } }),\n\t\tfileUpload: file => ({ type: this.types.FIle_UPLOAD, payload: { file } }),\n\t\tfileUpdate: file => ({ type: this.types.FIle_UPDATE, payload: { file } }),\n\t}\n\n\t// default store\n\n\tstore = {\n\t\tcache: {},\n\t\tloading: false,\n\t\tlastFetched: 0,\n\t}\n\n\t// reducer\n\n\treducer = (store = this.store, action) => {\n\n\t\tconst {\n\t\t\tFIle_START,\n\t\t\tFIle_ABORT,\n\t\t\tFIle_CLEAN,\n\t\t\tFIle_ERROR,\n\t\t\tFIle_UPLOAD,\n\t\t\tFIle_UPDATE,\n\t\t} = this.types\n\n\t\tswitch (action.type) {\n\n\t\tcase FIle_START:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: true,\n\t\t\t}\n\n\t\tcase FIle_ABORT:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase FIle_CLEAN:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {},\n\t\t\t}\n\n\t\tcase FIle_ERROR:\n\t\t\tconsole.error(action.payload.error)\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase FIle_UPLOAD:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...store.cache,\n\t\t\t\t\t[action.payload.file.id]: action.payload.file.id,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t\tlastFetched: Date.now(),\n\t\t\t}\n\n\t\tcase FIle_UPDATE:\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcache: {\n\t\t\t\t\t...store.cache,\n\t\t\t\t\t[action.payload.file.id]: action.payload.file,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t\tlastFetched: Date.now(),\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn store\n\t\t}\n\t}\n\n\t// thunks\n\n\tupload = (file) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.fileStart())\n\n\t\ttry {\n\t\t\tconst result = await apiProxy.file.post(file)\n\n\t\t\tdispatch(this.actions.fileUpload(result))\n\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.fileError(error))\n\t\t}\n\t}\n\n\tdelete = (id) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.fileStart())\n\n\t\ttry {\n\t\t\tconst result = await apiProxy.file.delete(id)\n\n\t\t\tconsole.log(result)\n\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.resourcesError(error))\n\t\t}\n\t}\n\n\tupdate = (id, file) => async (dispatch, getState, { apiProxy }) => {\n\n\t\tdispatch(this.actions.fileStart())\n\n\t\ttry {\n\t\t\tconst result = await apiProxy.file.patch(id, file)\n\n\t\t\tdispatch(this.actions.fileUpdate(file))\n\n\t\t\tconsole.log(result)\n\n\t\t} catch (error) {\n\t\t\tdispatch(this.actions.resourcesError(error))\n\t\t}\n\t}\n}","import { applyMiddleware, combineReducers, createStore } from 'redux'\n\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nimport thunk from 'redux-thunk'\n\nimport proxies from 'proxy'\n\nimport {\n\tadminService,\n\tauthService,\n\tcollectionService,\n\tinterfaceService,\n\tcontentService,\n\tresourceService,\n\tfileService,\n} from 'services'\n\n// Use this const to change the settings in Redux Dev Tools. Set\n// the options here, and then replace `composeWithDevTools` with\n// `composeEnhancers` down below.\n\nconst store = createStore(\n\n\t// This is what the store looks like\n\tcombineReducers({\n\t\tadminStore: adminService.reducer,\n\t\tauthStore: authService.reducer,\n\t\tcollectionStore: collectionService.reducer,\n\t\tcontentStore: contentService.reducer,\n\t\tinterfaceStore: interfaceService.reducer,\n\t\tresourceStore: resourceService.reducer,\n\t\tfileStore: fileService.reducer,\n\t}),\n\n\t// This is the initial state of the store\n\t{\n\t\tadminStore: adminService.store,\n\t\tauthStore: authService.store,\n\t\tcollectionStore: collectionService.store,\n\t\tcontentStore: contentService.store,\n\t\tinterfaceStore: interfaceService.store,\n\t\tresourceStore: resourceService.store,\n\t\tfileStore: fileService.store,\n\t},\n\n\tcomposeWithDevTools(\n\t\tapplyMiddleware(thunk.withExtraArgument(proxies)),\n\t),\n)\n\nexport default store","import styled from 'styled-components'\nimport HexLogo from 'assets/hexborder.svg'\n\nexport const ConfirmDeleteBox = styled.div`\n\tposition: fixed;\n\tdisplay: flex;\n\ttop: 0px;\n\tleft: 0px;\n\twidth: 100vw;\n\theight: 100vh;\n\tbackground-color: rgba(0,0,0, 0.2);\n`\nexport const ConfirmBox = styled.div`\n\tdisplay: grid;\n  grid-template-columns: auto;\n\tmargin: auto;\n\tmin-width: 460px;\n\theight: 260px;\n\tbackground-color: white;\n\tbox-shadow: 0 2px 5px -1px rgba(0,0,0,0.3);\n\tborder-radius: 10px;\n\n\t& p {\n\t\tline-height: 2.5rem;\n\t\tmargin: auto;\n\t\tpadding: 2px;\n\t\ttext-align: center;\n\t\tfont-size: 20px;\n\t\tword-wrap: break-word;\n\t}\n\n\t& div {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\tmargin: auto;\n\n\t\t& div {\n\t\t\tmargin: auto auto auto 11rem;\n\t\t\twidth: 20rem;\n\t\t}\n\n\t\t& p {\n\t\t\tfont-size: 3rem;\n\t\t\ttext-align: left;\n\t\t\twidth: 250%;\n\t\t\tmargin: auto;\n\t\t}\n\n\t\t& button {\n\t\t\tfont-size: 2rem;\n\t\t\tbackground-color: white;\n\t\t\tborder: none;\n\t\t\tborder-radius: 3px;\n\t\t\ttext-align: center;\n\t\t\twidth: 12rem;\n\t\t\theight: 4rem;\n\t\t\tmargin: auto auto 2rem auto;\n\t\t\tcursor: pointer;\n\t\t\ttransition: .5s;\n\t\t\tcolor: black;\n\n\t\t\t&:focus{\n\t\t\t\toutline: 0;\n\t\t\t}\n\t\t\t&:hover {\n\t\t\t\tcolor: #0582CA;\n\t\t\t\tbox-shadow: 0 3px 6px -2px rgba(5, 130, 202,0.9);\n\t\t\t}\n\t\t}\n\t}\n`\nexport const ConfirmButton = styled.button`\n\tborder: 2px solid #FA6F5C !important;\n\tcolor: red !important;\n\t&:hover {\n\t\tbox-shadow: 0 3px 6px -2px rgba(250, 111, 92,0.9) !important;\n\t}\n\t&:active{\n\t\tcolor: white !important;\n\t\tbackground-color: red !important;\n\t}\n`\nexport const Logo = styled.div`\n\tposition: relative;\n\tbackground: url(${HexLogo}) no-repeat left;\n\tbackground-size: contain;\n\theight: 7rem;\n`","import React, { PureComponent } from 'react'\n\nimport { ConfirmDeleteBox, ConfirmBox, ConfirmButton, Logo } from './styles'\n\nexport default class ConfirmDelete extends PureComponent {\n\n\trender() {\n\t\tconst category = (searchCategory) => {\n\t\t\tif(searchCategory === 'Users' || searchCategory === 'Collections'){\n\t\t\t\treturn searchCategory.substring(0, searchCategory.length - 1).toLowerCase()\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn searchCategory.toLowerCase()\n\t\t\t}\n\t\t}\n\n\t\tconst { searchCategory } = this.props\n\t\tconst { toggleModal, deleteConfirmed } = this.props.handlers\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{\n\t\t\t\t\t<ConfirmDeleteBox>\n\t\t\t\t\t\t<ConfirmBox>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Logo></Logo><p>Delete {category(searchCategory)}?</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p>Are you sure you want to delete this {category(searchCategory)}?<br/>Once deleted it cannot be recovered</p>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<button onClick={toggleModal}>Cancel</button>\n\t\t\t\t\t\t\t\t\t<ConfirmButton onClick={deleteConfirmed}>Delete</ConfirmButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</ConfirmBox>\n\t\t\t\t\t</ConfirmDeleteBox>\n\t\t\t\t}\n\t\t\t</>\n\t\t)\n\t}\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport ConfirmDelete from '../components/ConfirmDelete'\n\nimport {\n\tadminService,\n\tinterfaceService\n} from 'services'\n\n\n//This component takes two parameters. menuItemInfo which is the object to be deleted and category so the component knows\n//what type of delete it should perform. Ths component is called from AdminContainer using toggleModal passing component and props\n//To close this modal toggleModal is called without passing any parameters\n\nconst ConfirmDeleteContainer = props => {\n\n\tconst {\n\t\tadminDeleteCollection,\n\t\tadminDeleteUser,\n\t\tadminDeleteContent,\n\t\ttoggleModal,\n\t\tmenuItemInfo,\n\t\tsearchCategory\n\t} = props\n\n\tconst deleteConfirmed = () => {\n\t\ttoggleModal()\n\t\tswitch (searchCategory) {\n\t\tcase `Users`:\n\t\t\thandleDeleteUser()\n\t\t\tbreak\n\n\t\tcase `Collections`:\n\t\t\thandleDeleteCollection()\n\t\t\tbreak\n\n\t\tcase `Content`:\n\t\t\thandleDeleteContent()\n\t\t\tbreak\n\n\t\tdefault:\n\t\t\tbreak\n\t\t}\n\t}\n\n\tconst handleDeleteCollection = () => {\n\t\t//console.log(menuItemInfo, `Called delete collection`)\n\t\tadminDeleteCollection(menuItemInfo.id)\n\t}\n\n\tconst handleDeleteUser = () => {\n\t\t//console.log(menuItemInfo, `Called delete user`)\n\t\tadminDeleteUser(menuItemInfo.id)\n\t}\n\n\tconst handleDeleteContent = () => {\n\t\t//console.log(menuItemInfo, `Called delete content`)\n\t\tadminDeleteContent(menuItemInfo.id, true)\n\t}\n\n\tconst handlers = {\n\t\ttoggleModal,\n\t\tdeleteConfirmed,\n\t}\n\n\treturn <ConfirmDelete handlers={handlers} searchCategory={searchCategory}/>\n}\n\nconst mapStateToProps = store => ({\n\tadmin: store.authStore.user.roles === 0,\n\tadminContent: store.adminStore.data,\n})\n\nconst mapDispatchToProps = {\n\tsearch: adminService.search,\n\tadminDeleteCollection: adminService.deleteCollection,\n\tadminDeleteUser: adminService.deleteUser,\n\tadminDeleteContent: adminService.deleteContent,\n\ttoggleModal: interfaceService.toggleModal,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConfirmDeleteContainer)","import styled from 'styled-components'\n\nexport const Container = styled.div`\n\t& > h6 {\n\t\tfont-size: 1.2rem;\n\t\tfont-weight: normal;\n\t\tpadding: .8rem 0;\n\n\t\tcursor: pointer;\n\t}\n`\n\nexport const List = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\n\theight: ${props => props.active ? `calc(4.16rem * ${props.numChildren})` : `0`};\n\n\ttransition: height .25s ease-in-out;\n\n\toverflow: hidden;\n\n\t& > a {\n\t\tpadding: 1.4rem;\n\t\tbackground-color: transparent;\n\n\t\tfont-weight: lighter;\n\n\t\tborder-radius: .3rem;\n\t}\n`\n\nexport const Arrow = styled.div`\n\tfloat: right;\n\n\theight: 1.2rem;\n\twidth: 1.2rem;\n\n\tbackground: url(${props => props.src}) center no-repeat;\n\tbackground-size: contain;\n\n\ttransform: ${props => props.active ? `rotate(-180deg)` : `rotate(0deg)`};\n\n\ttransition: transform .25s ease-in-out;\n`","import React, { PureComponent } from 'react'\n\nimport { Container, List, Arrow } from './styles'\n\nimport arrow from 'assets/carrot.svg'\n\nclass AccordionMenu extends PureComponent {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tactive: props.active,\n\t\t}\n\t}\n\n\thandleToggle = e => {\n\t\te.preventDefault()\n\n\t\tthis.setState({\n\t\t\tactive: !this.state.active,\n\t\t})\n\t}\n\n\trender() {\n\n\t\tconst { handleToggle } = this\n\t\tconst { header, children = [] } = this.props\n\t\tconst { active } = this.state\n\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<h6 onClick={handleToggle}>{header}<Arrow src={arrow} active={this.state.active} /></h6>\n\t\t\t\t<List numChildren={children.length} active={active}>\n\t\t\t\t\t{children}\n\t\t\t\t</List>\n\t\t\t</Container>\n\t\t)\n\t}\n\n}\n\nexport default AccordionMenu\n","import styled from 'styled-components'\n\nimport iconEdit from 'assets/admin-icon-edit.svg'\nimport iconFilter from 'assets/admin-icon-filter.svg'\nimport iconSort from 'assets/admin-icon-sort.svg'\n\nconst Style = styled.div`\n\tpadding: 3rem 5rem;\n\tmargin: 0 2rem;\n\twidth: 90%;\n\tmax-width: 100vw;\n\toverflow: scroll;\n`\n\nexport default Style\n\nexport const Table = styled.table`\n\tbackground: white;\n\tbox-shadow: 0 2px 5px -1px rgba(0,0,0,0.15);\n\tborder-radius: 10px;\n\twidth: 100%;\n\n\t& th {\n\t\tpadding: 1.5rem;\n\t\tfont-size: 1.5rem;\n\t\ttext-align: left;\n\t\tborder-bottom: 0.7px solid rgba(0,0,0,0.15)\n\t}\n\n\t& td {\n\t\tpadding: 1.5rem;\n\t\tfont-size: 1.4rem;\n\t\ttext-align: left;\n\t}\n`\n\nexport const Filter = styled.button`\n\tbackground: url(${iconFilter}) center no-repeat;\n\tborder: none;\n\theight: 1.5rem;\n\tcursor: pointer;\n`\n\nexport const Sort = styled.button`\n\tbackground: url(${iconSort}) center no-repeat;\n\tborder: none;\n\theight: 1.5rem;\n\tcursor: pointer;\n`\n\nexport const ItemEdit = styled.button`\n\tbackground: url(${iconEdit}) center no-repeat;\n\tborder: none;\n\twidth: 2.5rem;\n  height: 2rem;\n\tcursor: pointer;\n\t&:focus{\n\t\toutline: 0;\n\t}\n`\n\nexport const ItemMenu = styled.div`\n\tposition: fixed;\n\tfloat: right;\n\ttop: ${props => props.mousePos.y}px;\n\tleft: ${props => props.mousePos.x  - 170}px;\n\n\tbackground: white;\n\tbox-shadow: 0 2px 5px -1px rgba(0,0,0,0.3);\n\n\twidth: 12rem;\n\tfont-size: 1.7rem;\n\tpadding: 2rem;\n\n\t& > ul {\n\t\tlist-style: none;\n\t\tpadding: 0;\n\n\t\t& > li {\n\t\t\tmargin-bottom: 1.5rem;\n\n\t\t\t&:last-child {\n\t\t\t\tmargin: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& button {\n\t\tborder: none;\n\t\tbackground: transparent;\n\t\tcolor: red;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\toutline: none;\n\t\tcursor: pointer;\n\t}\n`","import React, { PureComponent } from 'react'\n\nimport { Link } from 'react-router-dom'\n\nimport Style, { Table, ItemEdit, Filter, Sort, ItemMenu } from './styles'\n\n// AdminTable has a function that returns the pop up menu for the users.\n// Since we are only looking at users part of the code has been commented out\n// Handlers come from the AdminContainer and to call the modal to confirm a delete\n// we use toggleModal from interfaceService from the AdminContainer\n\nexport default class AdminTable extends PureComponent {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state={\n\t\t\tsortType: {\n\t\t\t\tid: ``,\n\t\t\t\treverse: false,\n\t\t\t},\n\t\t}\n\t}\n\n\trender() {\n\n\t\tconst {\n\t\t\tmenuActive,\n\t\t\tsearchCategory,\n\t\t\tmenuItemInfo,\n\t\t\tdata,\n\t\t\tmousePos,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\thandleConfirmDelete,\n\t\t\ttoggleMenu,\n\t\t} = this.props.handlers\n\n\t\tif (!data.length || data[0] === undefined) return null\n\n\t\tconst headers = {\n\t\t\tUsers: {\n\t\t\t\tsortBy: ``,\n\t\t\t\tdescending: false,\n\t\t\t\tcolumns: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `NetID`,\n\t\t\t\t\t\tsort: true,\n\t\t\t\t\t\tdescending: false,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Name`,\n\t\t\t\t\t\tsort: true,\n\t\t\t\t\t\tdescending: false,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Roles`,\n\t\t\t\t\t\tfilter: {\n\t\t\t\t\t\t\tAdmin: false,\n\t\t\t\t\t\t\tManager: false,\n\t\t\t\t\t\t\tProfessor: false,\n\t\t\t\t\t\t\tTA: false,\n\t\t\t\t\t\t\tStudent: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Email`,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Last Login`,\n\t\t\t\t\t\tsort: true,\n\t\t\t\t\t\tdescending: false,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\tCollections: {\n\t\t\t\tsortBy: ``,\n\t\t\t\tdescending: false,\n\t\t\t\tcolumns: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Name`,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Owner`,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\tContent: {\n\t\t\t\tsortBy: ``,\n\t\t\t\tdescending: false,\n\t\t\t\tcolumns: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Name`,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Collection`,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Type`,\n\t\t\t\t\t\tfilter: {\n\t\t\t\t\t\t\tVideo: false,\n\t\t\t\t\t\t\tImage: false,\n\t\t\t\t\t\t\tText: false,\n\t\t\t\t\t\t\tAudio: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `Expired`,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: `ResourceID`,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t}\n\n\t\tconst printTableValues = (category, item) => {\n\t\t\t// console.log(item)\n\t\t\tconst date = new Date(item.lastLogin)\n\t\t\tswitch (category) {\n\t\t\tcase `Users`:\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{/* <td>{item.id}</td> */}\n\t\t\t\t\t\t<td>{item.username}</td>\n\t\t\t\t\t\t<td>{item.name}</td>\n\t\t\t\t\t\t<td>{item.roles}</td>\n\t\t\t\t\t\t<td>{item.email}</td>\n\t\t\t\t\t\t<td>{date.toString().substring(0, 16)}</td>\n\t\t\t\t\t</>\n\t\t\t\t)\n\t\t\tcase `Collections`:\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<td>{item.name}</td>\n\t\t\t\t\t\t<td>{item.owner}</td>\n\t\t\t\t\t</>\n\t\t\t\t)\n\t\t\tcase `Content`:\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<td>{item.name}</td>\n\t\t\t\t\t\t<td>{item.collectionId}</td>\n\t\t\t\t\t\t<td>{item.contentType}</td>\n\t\t\t\t\t\t<td>{item.expired.toString()}</td>\n\t\t\t\t\t\t<td>{item.resourceId}</td>\n\t\t\t\t\t</>\n\t\t\t\t)\n\n\t\t\tdefault:\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\tconst menuOptions = (cat, data) => {\n\t\t\tswitch (cat) {\n\t\t\tcase `Users`:\n\t\t\t\treturn (\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<Link to={`/lab-assistant-manager/${data.id}`} target='_blank'>Collections</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button onClick={handleConfirmDelete}>Delete</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t)\n\n\t\t\tcase `Collections`:\n\t\t\t\treturn (\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<Link to={`/lab-assistant-manager/${data.owner}/${data.id}`} target='_blank'>View/Edit</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button onClick={handleConfirmDelete}>Delete</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t)\n\n\t\t\tcase `Content`:\n\t\t\t\t//console.log(data)\n\t\t\t\treturn (\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<Link to={`/player/${data.id}`} target='_blank'>View</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<Link to={`/trackeditor/${data.id}`}>Edit</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button>Disable</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button onClick={handleConfirmDelete}>Delete</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t)\n\n\t\t\tdefault:\n\t\t\t\treturn null\n\t\t\t}\n\t\t}\n\n\t\tconst sort = (data,sortType) => {\n\t\t\tif (this.state.sortType.id === sortType && this.state.sortType.reverse === false){\n\t\t\t\tthis.setState({\n\t\t\t\t\tsortType:{\n\t\t\t\t\t\tid: sortType,\n\t\t\t\t\t\treverse: true,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tdata.sort((a, b) => {\n\t\t\t\t\tswitch (sortType) {\n\t\t\t\t\tcase `Name`:\n\t\t\t\t\t\treturn b.name.localeCompare(a.name,{sensitivity:`base`})\n\t\t\t\t\tcase `NetID`:\n\t\t\t\t\t\treturn b.username.localeCompare(a.username,{sensitivity:`base`})\n\t\t\t\t\tcase `Email`:\n\t\t\t\t\t\treturn b.email.localeCompare(a.email,{sensitivity:`base`})\n\t\t\t\t\tcase `Owner`:\n\t\t\t\t\t\treturn b.owner.localeCompare(a.owner,{sensitivity:`base`})\n\t\t\t\t\tdefault: return null\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}else{\n\t\t\t\tthis.setState({\n\t\t\t\t\tsortType:{\n\t\t\t\t\t\tid: sortType,\n\t\t\t\t\t\treverse: false,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tdata.sort((a, b) => {\n\t\t\t\t\tswitch (sortType) {\n\t\t\t\t\tcase `Name`:\n\t\t\t\t\t\treturn a.name.localeCompare(b.name,{sensitivity:`base`})\n\t\t\t\t\tcase `NetID`:\n\t\t\t\t\t\treturn a.username.localeCompare(b.username,{sensitivity:`base`})\n\t\t\t\t\tcase `Email`:\n\t\t\t\t\t\treturn a.email.localeCompare(b.email,{sensitivity:`base`})\n\t\t\t\t\tcase `Owner`:\n\t\t\t\t\t\treturn a.owner.localeCompare(b.owner,{sensitivity:`base`})\n\t\t\t\t\tdefault: return null\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\n\t\t\treturn data\n\t\t}\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<Table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t{headers[searchCategory].columns.map((header, index) => <th key={index}>{header.title}{header.filter && <Filter />}<Sort onClick={()=>sort(data,header.title)}/></th>)}\n\t\t\t\t\t\t\t<th/>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{data.map(\n\t\t\t\t\t\t\titem => <tr key={item.id}>\n\t\t\t\t\t\t\t\t{ printTableValues(searchCategory, item) }\n\t\t\t\t\t\t\t\t<td><ItemEdit onClick={toggleMenu(item.id)}></ItemEdit></td>\n\t\t\t\t\t\t\t</tr>,\n\t\t\t\t\t\t)}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t\t{menuActive &&\n\t\t\t\t\t<ItemMenu mousePos={mousePos} onMouseLeave={toggleMenu()}>{menuOptions(searchCategory, menuItemInfo)}</ItemMenu>\n\t\t\t\t}\n\t\t\t</Style>\n\t\t)\n\t}\n}","import styled from 'styled-components'\n\nimport radioChecked from 'assets/radio-checked.svg'\nimport radioUnchecked from 'assets/radio-unchecked.svg'\n\nexport const RadioButton = styled.div`\n\twidth: 1.5rem;\n\theight: 1.5rem;\n\tbackground: url(${props => props.checked ? radioChecked : radioUnchecked}) center no-repeat;\n\tbackground-size: contain;\n\tmargin-right: 1rem;\n\tposition: relative;\n\ttop: -.2rem;\n`","import styled from 'styled-components'\n\nconst barInactive = `.4rem`\nconst barActive = `.6rem`\nconst transSpeed = `.1s`\n\nconst Style = styled.div`\n\ttransition: all ${transSpeed} linear;\n\theight: ${props => props.active ? barActive : barInactive};\n\n\tposition: relative;\n`\n\nexport default Style\n\nexport const BarBall = styled.div`\n\n\tposition: absolute;\n\ttop: ${props => props.active ? `-.2rem` : `.3rem`};\n\n\tleft: calc(${props => props.position * 100}% - .5rem);\n\n\ttransition: all ${transSpeed} linear;\n\theight: ${props => props.active ? `1rem` : `0`};\n\twidth: ${props => props.active ? `1rem` : `0`};\n\tborder-radius: 50%;\n\n\tbackground-color: #0057b8;\n`\n\nexport const BarCurrent = styled.div`\n\tposition: absolute;\n\tleft: 0;\n\twidth: ${props => props.position * 100}%;\n\ttransition: all ${transSpeed} linear;\n\theight: ${props => props.active ? barActive : barInactive};\n\tbackground-color: #0057b8;\n`\n\nexport const BarBackground = styled.div`\n\tposition: absolute;\n\twidth: 100%;\n\ttransition: all ${transSpeed} linear;\n\theight: ${props => props.active ? barActive : barInactive};\n\tbackground-color: #fff;\n`\n","import React from 'react'\n\nimport Style, { BarBall, BarCurrent, BarBackground } from './styles'\n\nconst Bar = props => {\n\treturn (\n\t\t<Style position={props.position} active={props.active} onClick={props.handleClick}>\n\t\t\t<BarBackground position={props.position} active={props.active} />\n\t\t\t<BarCurrent position={props.position} active={props.active} />\n\t\t\t<BarBall position={props.position} active={props.active} />\n\t\t</Style>\n\t)\n}\n\nexport default Bar\n","import styled from 'styled-components'\n\nimport arrowLeft from 'assets/arrow-left.svg'\nimport arrowRight from 'assets/arrow-right.svg'\n\nexport const Container = styled.div`\n\tpadding: 2rem;\n\n\tborder-top: 1px solid #ccc;\n\n\t& > div {\n\t\tposition: relative;\n\t}\n`\n\nexport const Header = styled.div`\n\tdisplay: grid;\n\tgrid-template-columns: 18rem auto;\n\tjustify-items: start;\n\tpadding-bottom: 2rem;\n\n\t& > p {\n\t\tcolor: #a4a4a4;\n\t}\n\n\t& a {\n\t\tcolor: black;\n\t\tfont-weight: 500;\n\t\tfont-size: 1.17em;\n\t\ttext-decoration: none;\n\t}\n`\n\nexport const SlideWrapper = styled.div`\n\tdisplay: grid;\n\tgrid-auto-flow: column;\n\tgrid-template-columns: ${props => `repeat(${props.count}, 17.8rem)`};\n\tgrid-gap: 5rem;\n\n\toverflow-x: scroll;\n\toverflow-y: hidden;\n\n\twill-change: overflow;\n\n\tscroll-behavior: smooth;\n\n\t::-webkit-scrollbar {\n\t\tbackground: transparent;\n\t}\n\n\t& > a:last-child {\n\t\tmargin-right: 6rem;\n\t}\n`\n\nexport const Arrow = styled.div`\n\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\tposition: absolute;\n\ttop: 0;\n\n\theight: 10rem;\n\twidth: 6rem;\n\n\tcursor: pointer;\n\n\t&.right{\n\t\tright: 0;\n\t\tbackground-image: linear-gradient(to left, rgba(255,255,255,1), rgba(255,255,255,0));\n\n\t\t& > div {\n\t\t\theight: 1.5rem;\n\t\t\twidth: 1.5rem;\n\n\t\t\ttransition: opacity .25s ease-in-out;\n\t\t\topacity: ${props => props.right ? `0` : `1`};\n\t\t\tbackground-image: url(${arrowRight});\n\t\t\tbackground-size: cover;\n\t\t}\n\t}\n\n\t&.left {\n\t\tleft: ${props => props.hideLeft ? `-100rem` : `0`};\n\n\t\ttransition: opacity .25s ease-in-out;\n\t\topacity: ${props => props.left ? `0` : `1`};\n\t\tbackground-image: linear-gradient(to right, rgba(255,255,255,1), rgba(255,255,255,0));\n\n\t\t& > div {\n\t\t\theight: 1.5rem;\n\t\t\twidth: 1.5rem;\n\n\t\t\ttransition: opacity .25s ease-in-out;\n\t\t\topacity: ${props => props.left ? `0` : `1`};\n\t\t\tbackground-image: url(${arrowLeft});\n\t\t\tbackground-size: cover;\n\t\t}\n\t}\n`\n\nexport const BlockEnd = styled.div`\n\twidth: .1rem;\n\theight: 10rem;\n`","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { BlockItem } from 'components/bits'\n\nimport { Container, Header, SlideWrapper, Arrow, BlockEnd } from './styles.js'\n\nexport default class BlockCollection extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tleft: true,\n\t\t\thideLeft: true,\n\t\t}\n\n\t\tthis.wrapper = React.createRef()\n\t}\n\n\tscrollListener = e => {\n\t\tif (e.target.scrollLeft === 0) {\n\t\t\tthis.setState({\n\t\t\t\tleft: true,\n\t\t\t}, () => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thideLeft: true,\n\t\t\t\t\t})\n\t\t\t\t}, 250)\n\t\t\t})\n\t\t} else if (e.target.scrollLeft !== 0) {\n\t\t\tthis.setState({\n\t\t\t\thideLeft: false,\n\t\t\t}, () => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tleft: false,\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t}\n\n\tscrollLeft = () => {\n\t\tthis.wrapper.current.scrollBy({\n\t\t\tleft: -179,\n\t\t})\n\t}\n\n\tscrollRight = () => {\n\t\tthis.wrapper.current.scrollBy({\n\t\t\tleft: 178,\n\t\t})\n\t}\n\n\trender() {\n\n\t\tconst { name, content } = this.props.collection\n\t\t// contentIds is filtered for published content\n\t\t// This way, the number of videos (<p>{content.length} Videos</p>) includes the unpublished ones\n\t\t// const contentIds = this.props.contentIds\n\n\t\tif(this.props.collection.published){\n\t\t\treturn (\n\t\t\t\t<Container>\n\t\t\t\t\t<Header>\n\t\t\t\t\t\t<Link to={`/`}>{name}</Link>\n\t\t\t\t\t\t<p>{content.length} Videos</p>\n\t\t\t\t\t</Header>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Arrow className='left' left={this.state.left} hideLeft={this.state.hideLeft} onClick={this.scrollLeft}>\n\t\t\t\t\t\t\t<div />\n\t\t\t\t\t\t</Arrow>\n\t\t\t\t\t\t<SlideWrapper className='slide-wrapper' count={content.length} onScroll={this.scrollListener} ref={this.wrapper} onScrollCapture={this.scrollListener}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcontent.map(item => {\n\t\t\t\t\t\t\t\t\treturn <BlockItem key={item.id} data={item}/>\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<BlockEnd />\n\t\t\t\t\t\t</SlideWrapper>\n\t\t\t\t\t\t<Arrow className='right' onClick={this.scrollRight}>\n\t\t\t\t\t\t\t<div />\n\t\t\t\t\t\t</Arrow>\n\t\t\t\t\t</div>\n\t\t\t\t</Container>\n\t\t\t)\n\t\t}\n\t\telse {\n\t\t\treturn null\n\t\t}\n\t}\n}","import styled, { keyframes, css } from 'styled-components'\n\nconst shimmer = keyframes`\n\t0% {\n\tbackground-position: -30rem 0;\n\t}\n\t100% {\n\t\tbackground-position: 30rem 0;\n\t}\n`\n\nexport const ItemContainer = styled.div`\n\t& h4 {\n\t\tfont-weight: 500;\n\t}\n`\n\nexport const Thumbnail = styled.div`\n\twidth: 17.8rem;\n\theight: 10rem;\n\n\tmargin-bottom: 1rem;\n\n\t${\n\tprops => !props.loaded ?\n\t\tcss`\n\t\t\tbackground-color: #eee;\n\t\t\tbackground-image: linear-gradient(to right, #eee 0%, #fff 50%, #eee 100%);\n\t\t\tbackground-repeat: no-repeat;\n\n\t\t\tanimation: ${shimmer} 2s linear infinite;\n\t\t\tanimation-fill-mode: forwards;\n\t\t`\n\t\t:\n\t\tcss`\n\t\t\tbackground-color: gray;\n\t\t\tbackground-image: url(${props => props.src});\n\t\t\tbackground-size: cover;\n\t\t`\n}\n`\n","import React, { Component } from 'react'\n\nimport { Link } from 'react-router-dom'\n\nimport { ItemContainer, Thumbnail } from './styles.js'\n\nexport default class BlockItem extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\timg: props.data.thumbnail,\n\t\t\tloaded: false,\n\t\t}\n\t}\n\n\tcomponentDidMount = () => {\n\t\tconst temp = new Image()\n\t\ttemp.src = this.state.img\n\t\ttemp.onload = () => {\n\t\t\tthis.setState({ loaded: true })\n\t\t}\n\t}\n\n\trender() {\n\n\t\tconst { name, id } = this.props.data\n\t\tconst { loaded } = this.state\n\n\t\treturn (\n\t\t\t<ItemContainer>\n\t\t\t\t<Link to={`/player/${id}`}>\n\t\t\t\t\t<Thumbnail src={this.state.img} loaded={loaded} />\n\t\t\t\t\t<h4>{name}</h4>\n\t\t\t\t</Link>\n\t\t\t</ItemContainer>\n\t\t)\n\t}\n}\n","import styled from 'styled-components'\n\nconst Style = styled.div`\n\n\tposition: relative;\n\ttop: 0;\n\tleft: 0;\n\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\talign-items: center;\n\n\tbackground-color: var(--navy-blue);\n\tcolor: white;\n\tcursor: grab;\n\n\theight: 5rem;\n\twidth: 100%;\n\n\tborder: 1px solid #222;\n\n\tmargin-bottom: 1rem;\n\n\tbox-shadow: 0px 2px 4px -2px rgba(0,0,0,0.75);\n\n\topacity: ${props => props.opacity};\n\n\t&.ghost {\n\t\tz-index: 1000;\n\t\topacity: .75;\n\t\tpointer-events: none;\n\t}\n`\n\nexport default Style\n\nexport const I = styled.i`\n\tdisplay: block;\n\theight: 2rem;\n\twidth: 2rem;\n\tmargin: auto 1.5rem;\n\tbackground: url(${props => props.src}) center no-repeat;\n\tbackground-size: contain;\n`\n","import React from 'react'\n\nimport { useDrag } from 'react-dnd'\n\nimport Style, { I } from './styles'\n\nconst EventCard = ({ event }) => {\n\n\tconst [{ isDragging }, ref] = useDrag({\n\n\t\t// REQUIRED\n\t\titem: {\n\t\t\tid: event.type,\n\t\t\ttype: `timeline-event`,\n\t\t},\n\n\t\t// Use this if you need to do something here when the item is dropped\n\t\t// end: (item, monitor) => {\n\t\t// \tconst dropResult = monitor.getDropResult()\n\t\t// \tif (item && dropResult) console.log(`You just dropped:`, item)\n\t\t// },\n\n\t\t// Updates the props you get in the array at the top\n\t\tcollect: monitor => ({\n\t\t\tisDragging: monitor.isDragging(),\n\t\t}),\n\t})\n\n\tconst opacity = isDragging ? 0.5 : 1\n\n\treturn (\n\t\t<Style ref={ref} opacity={opacity} >\n\t\t\t<I src={event.icon}/>\n\t\t\t{event.type}\n\t\t</Style>\n\t)\n}\n\nexport default EventCard\n","import styled from 'styled-components'\n\nimport { Link } from 'react-router-dom'\n\nconst Style = styled.div`\n\tpadding: 3rem 5rem;\n\tmargin: 0 10rem;\n\tmax-width: 100vw;\n\toverflow: scroll;\n\twidth: 20%;\n`\n\nexport default Style\n\nexport const Table = styled.table`\n\tbackground: white;\n\tbox-shadow: 0 2px 5px -1px rgba(0,0,0,0.15);\n\tborder-radius: 10px;\n\twidth: 100%;\n\n\t& th {\n\t\tpadding: 1.5rem;\n\t\tfont-size: 1.5rem;\n\t\ttext-align: left;\n\t\tborder-bottom: 0.7px solid rgba(0,0,0,0.15)\n\t}\n\n\t& td {\n\t\tpadding: 1.5rem;\n\t\tfont-size: 1.4rem;\n\t\ttext-align: left;\n\t}\n`\n\nexport const StyledLink = styled(Link)`\n\tcolor: #0582CA;\n`\n","import React, { PureComponent } from 'react'\n\nimport Style, { Table, StyledLink } from './styles'\n\nexport default class LabAssistantTable extends PureComponent {\n\n\trender() {\n\t\tconst { data } = this.props\n\n\t\tif (data === null || !data.length || data[0] === undefined) return null\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<Table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t\tName\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{data.map((item, index) =>\n\t\t\t\t\t\t\t<tr key={item.id}>\n\t\t\t\t\t\t\t\t<td>{item.name}</td>\n\t\t\t\t\t\t\t\t<td><StyledLink key={index} to={`/lab-assistant-manager/${item.id}`} >View Collections</StyledLink></td>\n\t\t\t\t\t\t\t\t{/* <td><StyledLink key={index} to={`/lab-assistant-resource/${item.id}`}>Manage Resources</StyledLink></td> */}\n\t\t\t\t\t\t\t</tr>,\n\t\t\t\t\t\t)}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t</Style>\n\t\t)\n\t}\n}","import styled, { keyframes } from 'styled-components'\n\nconst shimmer = keyframes`\n\t0% {\n\t\tbackground-position: -30rem 0;\n\t}\n\t100% {\n\t\t\tbackground-position: 30rem 0;\n\t}\n`\n\nconst Style = styled.div`\n\theight: ${props => props.height};\n\twidth: ${props => props.width};\n\n\t@media screen and (max-width: 455px) {\n\t\theight: ${props => props.heightSm};\n\t\twidth: ${props => props.widthSm};\n\t}\n\n\tanimation: ${shimmer} 2s linear 1s infinite;\n\tanimation-fill-mode: forwards;\n\tbackground-color: #eee;\n\tbackground-image: linear-gradient(to right, #eee 0%, #fff 50%, #eee 100%);\n\tbackground-repeat: no-repeat;\n\n\toverflow: hidden;\n\n\t& > img {\n\t\tobject-fit: cover;\n\t\tobject-position: center;\n\n\t\theight: ${props => props.height};\n\t\twidth: ${props => props.width};\n\n\t\t@media screen and (max-width: 455px) {\n\t\t\theight: ${props => props.heightSm};\n\t\t\twidth: ${props => props.widthSm};\n\t\t}\n\t}\n`\n\nexport default Style\n","import React from 'react'\n\nimport Style from './styles'\n\nconst LazyImage =\n\t({\n\t\tsrc,\n\t\talt = ``,\n\t\theight = `10rem`,\n\t\twidth = `17.8rem`,\n\t\theightSm = `50.5vw`,\n\t\twidthSm = `90vw`,\n\t}) => {\n\n\t\treturn (\n\t\t\t<Style\n\t\t\t\theight={height}\n\t\t\t\twidth={width}\n\t\t\t\theightSm={heightSm}\n\t\t\t\twidthSm={widthSm}\n\t\t\t>\n\t\t\t\t{src &&\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={src}\n\t\t\t\t\t\talt={alt}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t</Style>\n\t\t)\n\t}\n\nexport default LazyImage\n","import styled from 'styled-components'\n\nimport carrot from 'assets/carrot.svg'\n\nexport const Header = styled.div`\n\tdisplay: grid;\n\tgrid-template-columns: 18rem auto 1.5rem;\n\tjustify-items: start;\n\n\tpadding: 2rem;\n\n\tborder-top: 1px solid #ccc;\n\n\t& > div {\n\t\tflex: 1;\n\n\t\tbackground: url(${carrot}) center no-repeat;\n\t\tbackground-size: contain;\n\t\theight: 1.5rem;\n\t\twidth: 1.5rem;\n\n\t\ttransform: ${props => props.isOpen ? `rotate(-180deg)` : `rotate(0deg)`};\n\t\ttransition: transform .25s ease-in-out;\n\t}\n\n\t& > h3 {\n\t\tflex: 2;\n\t\tfont-weight: 500;\n\t}\n\n\t& > p {\n\t\tflex: 2;\n\t\tcolor: #a4a4a4;\n\t}\n\n\t:hover {\n\t\tcursor: pointer;\n\t\ttext-decoration: underline;\n\t\tbackground: #efefef;\n\t}\n`\n\nexport const Body = styled.div`\n\theight: ${props => props.isOpen ? `${(parseInt(props.count) * 6.5 + 2).toString()}rem` : `0`};\n\ttransition: height .25s ease-in-out;\n\toverflow: hidden;\n`","import React, { PureComponent } from 'react'\n\nimport { ListItem } from 'components/bits'\n\nimport { Header, Body } from './styles'\n\nclass ListCollection extends PureComponent {\n\tstate = {\n\t\tisOpen: false,\n\t}\n\n\ttogglePanel = () => {\n\t\tthis.setState(prevState => ({ isOpen: !prevState.isOpen }))\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tisOpen,\n\t\t} = this.state\n\n\t\tconst {\n\t\t\tname,\n\t\t\tcontent,\n\t\t} = this.props.collection\n\n\t\tconst contentIds = this.props.contentIds\n\n\t\tif (!content || this.props.collection.published !== true ) return null\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Header isOpen={isOpen} onClick={this.togglePanel} >\n\t\t\t\t\t<h3>{name}</h3>\n\t\t\t\t\t<p>{content.length} Videos</p>\n\t\t\t\t\t<div />\n\t\t\t\t</Header>\n\t\t\t\t<Body isOpen={isOpen} count={content.length}>\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent.map(item => {\n\t\t\t\t\t\t\treturn <ListItem key={item.id} data={item} />\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</Body>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default ListCollection","import styled from 'styled-components'\n\nimport translation from 'assets/translation.svg'\nimport captions from 'assets/captions.svg'\nimport annotations from 'assets/annotations.svg'\n\nexport const Style = styled.div`\n\t& > a {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 18rem auto;\n\t\talign-items: center;\n\t\theight: 3.5rem;\n\t\tpadding: 1.5rem 2rem;\n\n\t\tcolor: black;\n\t\ttext-decoration: none;\n\n\t\t:hover {\n\t\t\tbackground: #eee;\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t& .name h4 {\n\t\t\tfont-weight: 500;\n\t\t}\n\n\t\t& ul {\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: repeat(3, 2rem);\n\t\t\tgrid-gap: .5rem;\n\t\t}\n\t}\n`\n\nexport default Style\n\nexport const Icon = styled.li`\n\twidth: 2rem;\n\theight: 2rem;\n\tbackground-size: contain;\n\tlist-style: none;\n\n\t&.translation {\n\t\tbackground: url(${translation}) center no-repeat;\n\t\tdisplay: ${props => props.checked ? `block` : `none`};\n\t}\n\t&.captions {\n\t\tbackground: url(${captions}) center no-repeat;\n\t\tdisplay: ${props => props.checked ? `block` : `none`};\n\t}\n\t&.annotations {\n\t\tbackground: url(${annotations}) center no-repeat;\n\t\tdisplay: ${props => props.checked ? `block` : `none`};\n\t}\n`\n","import React, { PureComponent } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { LazyImage } from 'components/bits'\n\nimport Style, { Icon } from './styles'\n\nclass ListItem extends PureComponent {\n\trender() {\n\n\t\tconst { id, name, thumbnail, translation, captions, annotations } = this.props.data\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<Link to={`/player/${id}`}>\n\t\t\t\t\t<LazyImage src={thumbnail} height='3.5rem' width='5.5rem' heightSm='3.5rem' widthSm='5.5rem' />\n\t\t\t\t\t<div className='name'>\n\t\t\t\t\t\t<h4>{name}</h4>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<Icon className='translation' checked={translation} />\n\t\t\t\t\t\t\t<Icon className='captions' checked={captions} />\n\t\t\t\t\t\t\t<Icon className='annotations' checked={annotations} />\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\t\t\t</Style>\n\t\t)\n\t}\n}\n\nexport default ListItem","import styled from 'styled-components'\n\nexport const Wrapper = styled.div`\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100vw;\n\theight: 100vh;\n\tbackground: rgba(0,0,0,0.5);\n\tz-index: 40;\n\n\topacity: ${props => props.done ? 0 : 1};\n\ttransition: opacity .25s ease-in-out;\n\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\n\t& > div {\n\t\tborder-radius: .3rem;\n\t\tpadding: 4rem 5rem;\n\t\tbackground: white;\n\n\t\tposition: relative;\n\t}\n`\n","import React, { Component, createRef } from 'react'\nimport ReactDOM from 'react-dom'\nimport { connect } from 'react-redux'\n\nimport { Wrapper } from './styles'\n\n// TODO: Separate or move this so that it doesn't break the container pattern\n\nclass Modal extends Component {\n\n\twrapper = createRef()\n\n\trender() {\n\t\tconst Comp = this.props.modal.component\n\n\t\tif (!Comp) return null\n\n\t\treturn ReactDOM.createPortal(\n\t\t\t(\n\t\t\t\t<Wrapper ref={this.wrapper} className=''>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Comp {...this.props.modal.props} />\n\t\t\t\t\t</div>\n\t\t\t\t</Wrapper>\n\t\t\t),\n\t\t\tdocument.getElementById(`modal`),\n\t\t)\n\t}\n\n\tcomponentDidUpdate = prevProps => {\n\t\tif (!this.wrapper.current) return\n\n\t\tif (!prevProps.active && this.props.active) {\n\t\t\tthis.wrapper.current.classList.add(`active`)\n\t\t\tthis.wrapper.current.classList.remove(`hidden`)\n\t\t}\n\n\t\tif (prevProps.active && !this.props.active) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.wrapper.current.classList.remove(`active`)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.wrapper.current.classList.add(`hidden`)\n\t\t\t\t}, 250)\n\t\t\t}, 1000)\n\t\t}\n\n\t}\n\n}\n\nconst mapStoreToProps = store => ({\n\tmodal: store.interfaceStore.modal,\n})\n\nexport default connect(mapStoreToProps)(Modal)\n","import styled from 'styled-components'\n\nimport remove from 'assets/delete.svg'\n\nconst Style = styled.div`\n\toverflow-x: auto;\n`\n\nexport default Style\n\nexport const Table = styled.table`\n\tbackground: white;\n\tborder-collapse: collapse;\n\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\tmargin-bottom: 3rem;\n\ttable-layout: fixed;\n\t&>thead {\n\t\tborder-bottom: 2px solid #eee;\n\t\t& th {\n\t\t\tmin-width: 20rem;\n\t\t\tpadding: 1rem;\n\t\t\ttext-align: left;\n\t\t\t&.small {\n\t\t\t\tmin-width: 2rem;\n\t\t\t}\n\t\t}\n\t}\n\t&>tbody {\n\t\t& td {\n\t\t\tpadding: 1rem;\n\t\t}\n\t}\n`\n\nexport const RemoveButton = styled.button`\n\tbackground-size: contain;\n\tbackground: url(${remove}) center no-repeat;\n\tborder: none;\n\tcursor: pointer;\n\theight: 2rem;\n\toutline: none;\n\twidth: 2rem;\n`","/* eslint-disable array-bracket-newline */\nimport React from 'react'\nimport { connect } from 'react-redux'\n\nimport Style, { Table, RemoveButton } from './styles'\n\nconst PermissionTable = props => {\n\n\tconst {\n\t\tdata,\n\t\tremoveFunc,\n\t\tuser,\n\t} = props\n\n\treturn (\n\t\t<Style>\n\t\t\t<Table>\n\t\t\t\t<thead>\n\t\t\t\t\t{data.length > 0 &&\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t{Object.keys(data[0])\n\t\t\t\t\t\t\t\t.filter(key => key !== `id`)\n\t\t\t\t\t\t\t\t.map((column, index) => <th key={index}>{column}</th>)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<th className='small'></th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t}\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{data.length > 0 && data.map((item, index) =>\n\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t{Object.keys(item)\n\t\t\t\t\t\t\t\t.filter(key => key !== `id`)\n\t\t\t\t\t\t\t\t.map((key, index2) => <td key={index2}>{item[key]}</td>)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t{item.NetID === user.username ||\n\t\t\t\t\t\t\t\t\t\t<RemoveButton\n\t\t\t\t\t\t\t\t\t\t\tclassName='remove-button'\n\t\t\t\t\t\t\t\t\t\t\tdata-item={`${JSON.stringify(item)}`}\n\t\t\t\t\t\t\t\t\t\t\tonClick={removeFunc}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>,\n\t\t\t\t\t)}\n\t\t\t\t</tbody>\n\t\t\t</Table>\n\t\t</Style>\n\t)\n}\n\nconst mapStateToProps = store => ({\n\tuser: store.authStore.user,\n})\n\nexport default connect(mapStateToProps)(PermissionTable)\n","import styled from 'styled-components'\n\nimport closedCaption from 'assets/controls_closed_captions.svg'\nimport enterFullscreen from 'assets/controls_enter_fullscreen.svg'\nimport exitFullscreen from 'assets/controls_exit_fullscreen.svg'\nimport pauseIcon from 'assets/controls_pause.svg'\nimport playIcon from 'assets/controls_play.svg'\nimport volumeIcon from 'assets/controls_volume.svg'\nimport volumeIconMute from 'assets/controls_muted.svg'\n\nconst Style = styled.div`\n\tposition: absolute;\n\tbottom: 0;\n\n\theight: 5rem;\n\twidth: 100%;\n\n\tbackground: rgba(0,0,0,0.5);\n\n\tdisplay: grid;\n\n\tgrid-template-rows: .5rem auto;\n\tgrid-template-areas:\n\t\t\"scrubber scrubber\"\n\t\t\"left right\";\n\tz-index: 20;\n\n\t& .right {\n\t\tgrid-area: right;\n\t\tdisplay: flex;\n\t\tflex-direction: row-reverse;\n\t\talign-items: center;\n\t}\n\n\t& .left {\n\t\tgrid-area: left;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t& > div > button {\n\t\theight: 2rem;\n\t\twidth: 2rem;\n\t\tbackground-size: contain;\n\t\tborder: none;\n\t\tmargin: 1rem;\n\t\toutline: none;\n\t}\n\n\t& button {\n\t\tcursor: pointer;\n\t}\n`\n\nexport default Style\n\nexport const PlayPause = styled.button`\n\tbackground: url(${props => props.playing ? pauseIcon : playIcon}) center no-repeat;\n`\n\nexport const Volume = styled.button`\n\tbackground: ${ props => props.muted ? `url(${volumeIconMute}) center no-repeat` : (`url(${volumeIcon}) center no-repeat`) };\n`\n\nexport const ClosedCaptions = styled.button`\n\tbackground: url(${closedCaption}) center no-repeat;\n`\n\nexport const Fullscreen = styled.button`\n\tbackground: url(${props => props.fullscreen ? exitFullscreen : enterFullscreen}) center no-repeat;\n`","import React from 'react'\n\nimport { Scrubber, VolumeScrubber } from 'components/bits'\n\nimport Style, {\n\tPlayPause,\n\tClosedCaptions,\n\tFullscreen,\n\tVolume,\n} from './styles'\n\nconst PlayerControls = props => {\n\n\tconst {\n\t\t// duration,\n\t\tfullscreen,\n\t\thovering,\n\t\tprogress,\n\t\tvolume,\n\t\tmuted,\n\t\tplaying,\n\t} = props.viewstate\n\n\tconst {\n\t\thandlePause,\n\t\thandlePlay,\n\t\t// handlePlaybackRateChange,\n\t\thandleSeekChange,\n\t\t// handleSeekMouseDown,\n\t\t// handleSeekMouseUp,\n\t\thandleToggleFullscreen,\n\t\thandleMuted,\n\t\thandleUnmuted,\n\t\thandleVolumeChange,\n\t} = props.handlers\n\n\treturn (\n\t\t<Style playing={playing} >\n\n\t\t\t<Scrubber progress={progress.played} active={hovering} handleClick={handleSeekChange} />\n\n\t\t\t<div className='left'>\n\t\t\t\t<PlayPause playing={playing} onClick={playing ? handlePause : handlePlay} />\n\t\t\t\t{ muted ? (\n\t\t\t\t\t<Volume onClick={e => { alert('You cannot control this part of the player')}} muted={muted}/>\n\t\t\t\t) : (\n\t\t\t\t\t<Volume onClick={e => { alert('You cannot control this part of the player')}} muted={muted}/>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t<div className='right'>\n\t\t\t\t{/* <Fullscreen fullscreen={fullscreen} onClick={handleToggleFullscreen} /> */}\n\t\t\t\t{/* <SideBarToggle /> */}\n\t\t\t\t{/* <Speed /> */}\n\t\t\t\t{/* <ClosedCaptions /> */}\n\t\t\t\t{/* <Notes /> */}\n\t\t\t</div>\n\t\t</Style>\n\t)\n\n}\n\nexport default PlayerControls\n","import styled from 'styled-components'\n\nimport { Link } from 'react-router-dom'\n\nconst Style = styled.div`\n\tpadding: 3rem 5rem;\n\tmargin: 0 2rem;\n\tmax-width: 100vw;\n\toverflow: scroll;\n`\n\nexport default Style\n\nexport const Table = styled.table`\n\tbackground: white;\n\tbox-shadow: 0 2px 5px -1px rgba(0,0,0,0.15);\n\n\t& th {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t}\n\n\t& td {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t}\n`\n\nexport const StyledLink = styled(Link)`\n\tcolor: #0582CA;\n`\n","import React, { PureComponent } from 'react'\n\nimport Style, { Table, StyledLink } from './styles'\n\nexport default class ResourceTable extends PureComponent {\n\n\trender() {\n\t\tconst { data, addResource } = this.props\n\n\t\tif (data === null || !data.length || data[0] === undefined) return null\n\n\t\t// Display message if empty\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<Table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t\tName\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t\tContent Type\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t\t{/* Action */}\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{data.map((item, index) =>\n\t\t\t\t\t\t\t<tr key={item.id}>\n\t\t\t\t\t\t\t\t<td>{item.name}</td>\n\t\t\t\t\t\t\t\t<td>{item.contentType}</td>\n\t\t\t\t\t\t\t\t<td><StyledLink key={index} onClick={() => {\n\t\t\t\t\t\t\t\t\tconsole.log(`adding resource`, item)\n\t\t\t\t\t\t\t\t\taddResource(item, true)\n\t\t\t\t\t\t\t\t}}>Add to Collection</StyledLink></td>\n\t\t\t\t\t\t\t</tr>,\n\t\t\t\t\t\t)}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t</Style>\n\t\t)\n\t}\n}","import styled from 'styled-components'\n\nconst Style = styled.div`\n\tgrid-area: scrubber;\n`\n\nexport default Style\n","import React from 'react'\n\nimport { Bar } from 'components/bits'\n\nimport Style from './styles'\n\nconst Scrubber = props => {\n\treturn (\n\t\t<Style>\n\t\t\t<Bar position={props.progress} active={props.active} handleClick={props.handleClick} />\n\t\t</Style>\n\t)\n}\n\nexport default Scrubber\n","import styled, { keyframes } from 'styled-components'\nimport logo from 'assets/hexborder.svg'\n\nconst rotate = keyframes`\n\tfrom {\n\t\ttransform: rotate(0deg);\n\t}\n\tto {\n\t\ttransform: rotate(720deg);\n\t}\n`\n\nconst Style = styled.div`\n\tposition: relative;\n\n\theight: 100%;\n\twidth: 100%;\n\n\tmin-height: 290px;\n\n\tdisplay: flex;\n\n\tjustify-content: center;\n\talign-items: center;\n\n\t& > div {\n\t\theight: 8rem;\n\t\twidth: 8rem;\n\t\tbackground: url(${logo}) center no-repeat;\n\t\tbackground-size: contain;\n\n\t\tanimation: ${rotate} 2.5s ease-in-out infinite;\n\t}\n`\n\nexport default Style\n","import React, { PureComponent } from 'react'\n\nimport Style from './styles'\n\nexport class Spinner extends PureComponent {\n\trender() {\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<div />\n\t\t\t</Style>\n\t\t)\n\t}\n}\n\nexport default Spinner\n","import styled from 'styled-components'\n\nconst Style = styled.button`\n\tposition: relative;\n\tborder: none;\n\tbackground: transparent;\n\toutline: none;\n\tcursor: pointer;\n\n\tpadding: 0;\n\n\theight: calc(1rem * ${props => props.size ? props.size : `1`});\n\twidth: calc(1.8rem * ${props => props.size ? props.size : `1`});\n`\n\nexport default Style\n\nexport const Circle = styled.div`\n\theight: calc(1rem * ${props => props.size ? props.size : `1`});\n\twidth: calc(1rem * ${props => props.size ? props.size : `1`});\n\n\tborder-radius: 50%;\n\n\tposition: absolute;\n\n\tleft: ${props => props.on ? `calc(.8rem * ${props.size ? props.size : `1`})` : `0`};\n\n\ttransition: left .3s ease-out;\n\n\tbackground-color: ${props => props.on ? `#0582CA` : `#CCC`};\n`\n\nexport const Groove = styled.div`\n\theight: calc(.8rem * ${props => props.size ? props.size : `1`});\n\twidth: calc(1.6rem * ${props => props.size ? props.size : `1`});\n\n\tborder-radius: calc(.4rem * ${props => props.size ? props.size : `1`});\n\n\tmargin: calc(.1rem * ${props => props.size ? props.size : `1`});\n\n\tbackground-color: ${props => props.on ? `#E2EEF5` : `#EEE`};\n`\n","import React from 'react'\nimport Style, { Circle, Groove } from './styles'\n\nconst SwitchToggle = props => {\n\tconst { on, setToggle, size } = props\n\treturn (\n\t\t<Style onClick={setToggle} size={size} className={`switch-toggle`} data-key={props.data_key}>\n\t\t\t<Circle on={on ? 1 : 0} size={size} data-key={props.data_key} />\n\t\t\t<Groove on={on ? 1 : 0} size={size} data-key={props.data_key} />\n\t\t</Style>\n\t)\n}\n\nexport default SwitchToggle\n","import styled from 'styled-components'\n\nimport plus from 'assets/plus_blue.svg'\n\nconst Style = styled.div`\n\theight: 1.5rem;\n\twidth: fit-content;\n\tborder-radius: 5rem;\n\tbackground-color: #0582CA;\n\tcolor: white;\n\tpadding: .25rem;\n\tpadding-left: .75rem;\n\tmargin-right: .25rem;\n\tmargin-bottom: .25rem;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n`\n\nexport default Style\n\nexport const Remove = styled.button`\n\ttransform: rotate(45deg);\n\n\theight: 1.5rem;\n\twidth: 1.5rem;\n\n\tpadding: 0;\n\tmargin: 0;\n\tborder: none;\n\n\tbackground: url(${plus}) center no-repeat;\n\tbackground-size: contain;\n\n\tcursor: pointer;\n\toutline: none;\n`\n","import React from 'react'\n\nimport Style, { Remove } from './styles'\n\nconst Tag = props => {\n\treturn (\n\t\t<Style>\n\t\t\t{props.children}\n\t\t\t<Remove onClick={props.onClick} data-value={props.children} />\n\t\t</Style>\n\t)\n}\n\nexport default Tag","import styled from 'styled-components'\n\nconst Style = styled.div`\n\tdisplay: ${ props => props.minimized !== false ? ('initial') : ('none')};\n\tpadding: 20px;\n\n\t& .closeEditor {\n\t\twidth: 2rem;\n\t\ttext-align: right;\n\t\tcursor: pointer;\n\t\tfloat: right;\n\t\tmargin-right: 10px;\n\t}\n\n\t& .center {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tfont-size: 1.5rem;\n\n\t\t& .sideTabInput {\n\t\t\tmargin: auto 10px auto auto !important;\n\t\t\tpadding: 0px 10px;\n\t\t\twidth: 120px;\n\t\t\theight: 4rem;\n\t\t\tmargin: 10px;\n\t\t\tborder: 1px solid var(--royal-blue);\n\t\t}\n\n\t\t& label {\n\t\t\tmargin: 15px auto 15px auto;\n\t\t\twidth: 150px;\n\t\t\ttext-align: left;\n\t\t}\n\t}\n\n\t& .sideButton {\n\t\twidth: 50%;\n\t\tmargin-left: 25%;\n\t\tborder: none;\n\t\tbackground-color: var(--light-blue);\n\t\theight: 40px;\n\t\tcolor: white;\n\t\tborder-radius: 5px;\n\t\ttransition: .5s ease-out;\n\t\tcursor: pointer;\n\n\t\t&:active {\n\t\t\tborder-radius: 5px;\n\t\t\tborder: none;\n\t\t\tbackground-color: var(--navy-blue);\n\t\t}\n\t}\n\n\t& #sideTabMessage{\n\t\tmargin-left: 10px;\n\t\tfont-size: 1.3rem;\n\t}\n\n\t& #sideTabExplanation{\n\t\tmargin-left: 10px;\n\t\tfont-size: 1.3rem;\n\t}\n\n\t& .censorMenu {\n\t\tfont-size: 1.5rem;\n\t\t& label {\n\t\t\tmargin: 15px 5px 15px 15px;\n\t\t\twidth: 150px;\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t& .tableHeader {\n\t\t\twidth: 90%;\n\t\t\tmargin-left: 10px;\n\t\t\t& th {\n\t\t\t\twidth: 50px;\n\t\t\t}\n\t\t}\n\t}\n\n\t& .censorList {\n\t\twidth: 100%;\n\t\theight: 30vh;\n\t\tmargin-left: 10px;\n\t\toverflow-y: scroll;\n\t\tposition: relative;\n\n\t\t& td {\n\t\t\tdisplay: inline-flex;\n\t\t\twidth: 50px !important;\n\t\t\tmargin: auto;\n\t\t\t& input {\n\t\t\t\tmargin: auto;\n\t\t\t\twidth: 90% !important;\n\t\t\t\t&::-webkit-inner-spin-button {\n\t\t\t\t\t-webkit-appearance: none;\n\t\t\t\t\tmargin: 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .trashIcon {\n\t\t\t\tmargin: auto;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t}\n\n\t\t& #loader {\n\t\t\tbackground-color: rgba(196, 196, 196, 0.7);\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tfont-weight: bolder;\n\t\t}\n\t}\n\n\t& .addCensor {\n\t\tposition: absolute;\n\t\tfloat: left;\n\t\tmargin-left: 20px;\n\t}\n\n\t& .arrowDown {\n\t\twidth: 100%;\n\t\ttext-align: center;\n\t}\n\n\t@keyframes spin {\n\t\t0% { transform: rotate(0deg); }\n\t\t100% { transform: rotate(360deg); }\n\t}\n\n`\nexport default Style","import React, { useState, useEffect } from 'react'\n\nimport trashIcon from 'assets/trash_icon.svg'\nimport closeIcon from 'assets/close_icon.svg'\n\nimport Style from './styles.js'\n\nconst TrackEditorSideMenu = props => {\n\n\tconst {\n\t\tsingleEvent,\n\t\tindex,\n\t\tdeleteEvent,\n\t\tupdateEvents,\n\t\tvideoLength,\n\t\tcloseSideEditor,\n\t} = props\n\n\tconst [event, setEvent] = useState(singleEvent)\n\tconst [editComment, setEditComment] = useState({})\n\n\tuseEffect(() => {\n\t\tsetEvent(singleEvent)\n\t}, [index])\n\n\tconst handleEditEventBTimeChange = (e) => {\n\n\t\tdocument.getElementById('sideTabMessage').style.color='red'\n\t\tlet number = parseFloat(e.target.value)\n\t\tlet cEvent = event\n\t\tlet layer = cEvent.layer\n\n\t\tif(isNaN(number)){\n\t\t\tnumber = 0\n\t\t}\n\n\t\tnumber = (number / videoLength) * 100\n\n\t\tcEvent.start = number\n\n\t\tsetEvent(cEvent)\n\n\t\tupdateEvents(index, cEvent, layer)\n\t}\n\n\tconst handleEditEventETimeChange = (e) => {\n\t\tdocument.getElementById('sideTabMessage').style.color='red'\n\t\tlet number = parseFloat(e.target.value)\n\t\tlet cEvent = event\n\t\tlet layer = cEvent.layer\n\n\t\tif(isNaN(number)){\n\t\t\tnumber = 0\n\t\t}\n\n\t\tnumber = (number / videoLength) * 100\n\t\t//console.log(number)\n\t\tcEvent.end = number\n\n\t\tsetEvent(cEvent)\n\t\tupdateEvents(index, cEvent, layer)\n\t}\n\n\tconst handleSaveComment = () => {\n\t\tlet ind = index\n\t\tlet cEvent = event\n\t\tlet layer = cEvent.layer\n\t\tcEvent = editComment\n\n\t\t//console.log(event)\n\n\t\t//setEditComment({})\n\t\tupdateEvents(ind, cEvent, layer)\n\t}\n\n\tconst handleEditComment = (value, cEvent, int) => {\n\n\t\tswitch (int) {\n\t\t\tcase 1:\n\t\t\t\t\tif(editComment.position !== undefined){\n\t\t\t\t\t\tsetEditComment({...editComment, position: { x: parseInt(value), y: editComment.position.y, }})\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsetEditComment({...cEvent, position: { x: parseInt(value), y: cEvent.position.y, }})\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\t\tif(editComment.position !== undefined){\n\t\t\t\t\t\tsetEditComment({...editComment, position: { x: editComment.position.x, y: parseInt(value), }})\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsetEditComment({...cEvent, position: { x: cEvent.position.x, y: parseInt(value), }})\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\t\tif(editComment.position !== undefined){\n\t\t\t\t\t\tsetEditComment({...editComment, comment: value })\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsetEditComment({...cEvent, comment: value })\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tlet start = (event.start / 100 * videoLength).toFixed(3)\n\tlet end = (event.end / 100 * videoLength).toFixed(3)\n\n\treturn (\n\t\t<Style>\n\t\t\t<div>\n\t\t\t\t<img className={'closeEditor'} src={`${closeIcon}`} onClick={closeSideEditor}/>\n\t\t\t\t<div className='center'>\n\t\t\t\t\t<label>Start</label>\n\t\t\t\t\t<label style={{ visibility: `${event.type !== 'Pause' ? ('visible') : ('hidden') }`}}>End</label>\n\t\t\t\t</div>\n\t\t\t\t<div className='center'>\n\t\t\t\t\t<input type='text' className='sideTabInput' value={`${parseFloat(start).toFixed(0)}`} onChange={e => handleEditEventBTimeChange(e)}/>\n\t\t\t\t\t<input type='text' className='sideTabInput' value={`${parseFloat(end).toFixed(0)}`} onChange={e => handleEditEventETimeChange(e)} style={{ visibility: `${event.type !== 'Pause' ? ('visible') : ('hidden') }`}}/>\n\t\t\t\t</div>\n\t\t\t\t<br/>\n\t\t\t</div>\n\t\t\t{ event.type === 'Comment' ? (\n\t\t\t\t<>\n\t\t\t\t\t<div className='center'>\n\t\t\t\t\t\t<label>X</label>\n\t\t\t\t\t\t<label>Y</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='center'>\n\t\t\t\t\t\t<input type='number' className='sideTabInput' placeholder={event.position.x.toFixed(2)} onChange={e => handleEditComment(e.target.value, event, 1)}/>\n\t\t\t\t\t\t<input type='number' className='sideTabInput' placeholder={event.position.y.toFixed(2)} onChange={e => handleEditComment(e.target.value, event, 2)}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='center' style={{ flexDirection: 'column'}}>\n\t\t\t\t\t\t<label style={{ textAlign: 'left', margin: '15px 5px 5px 5px' }}>Type a comment</label>\n\t\t\t\t\t\t<textarea style={{ margin: '5%', width: '90%'}} rows='4' cols='50' placeholder={event.comment} onChange={e => handleEditComment(e.target.value, event, 3)}></textarea>\n\t\t\t\t\t\t<button onClick={handleSaveComment} className='sideButton'>Save Comment</button>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t\t) : (null)\n\t\t\t}\n\t\t\t{/* { event.type === 'Censor' ? (\n\t\t\t\t<div className='censorMenu'>\n\t\t\t\t\t<label>Censor Times</label><br/><br/>\n\t\t\t\t\t<table className='tableHeader'>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th align=\"center\">Time</th>\n\t\t\t\t\t\t\t\t<th align=\"center\">X</th>\n\t\t\t\t\t\t\t\t<th align=\"center\">Y</th>\n\t\t\t\t\t\t\t\t<th align=\"center\">Width</th>\n\t\t\t\t\t\t\t\t<th align=\"center\">Height</th>\n\t\t\t\t\t\t\t\t<th align=\"center\">&nbsp;</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t</table>\n\t\t\t\t\t<div className='censorList'>\n\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tObject.keys(editCensor).sort(((a, b) => (parseFloat(a) > parseFloat(b)) ? 1 : -1)).map((item, i) => (\n\t\t\t\t\t\t\t\t\t<tr key={item}>\n\t\t\t\t\t\t\t\t\t\t<td><input type='number' value={`${item}`}/></td>\n\t\t\t\t\t\t\t\t\t\t<td><input type='number' placeholder={`${editCensor[item][0]}`} onChange={(e) => handleEditCensor(e, item, 1)}/></td>\n\t\t\t\t\t\t\t\t\t\t<td><input type='number' placeholder={`${editCensor[item][1]}`} onChange={(e) => handleEditCensor(e, item, 2)}/></td>\n\t\t\t\t\t\t\t\t\t\t<td><input type='number' placeholder={`${editCensor[item][2]}`} onChange={(e) => handleEditCensor(e, item, 3)}/></td>\n\t\t\t\t\t\t\t\t\t\t<td><input type='number' placeholder={`${editCensor[item][3]}`} onChange={(e) => handleEditCensor(e, item, 4)}/></td>\n\t\t\t\t\t\t\t\t\t\t<td><img className={'trashIcon'} src={`${trashIcon}`} onClick={() => handleCensorRemove(item)}/></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)) // \"foo: bar\", \"baz: 42\"\n\t\t\t\t\t\t\t\t//Object.entries(event.position).forEach(([key, value]) => console.log(`${key}: ${value}`)) // \"foo: bar\", \"baz: 42\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t\t<div id='loader' style={{visibility: 'hidden'}}>Loading</div><br/><br/>\n\t\t\t\t\t\t<div id='tableBottom' style={{ width: '90%', marginLeft: '0px' }}></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<NewLayer className='addCensor' onClick={handleAddCensor}><Icon src={plus}/></NewLayer><br/><br/><br/><br/>\n\t\t\t\t\t<button className='sideButton' onClick={handleSaveCensor}>Save Censor</button>\n\t\t\t\t</div>\n\t\t\t\t) : (null)\n\t\t\t} */}\n\t\t\t<br/>\n\t\t\t<p id='sideTabMessage'></p>\n\t\t\t<p id='sideTabExplanation'></p>\n\t\t</Style>\n\t)\n}\n\nexport default TrackEditorSideMenu","import styled from 'styled-components'\n\nconst transSpeed = `.1s`\n\nconst Style = styled.div`\n\ttransition: all ${transSpeed} linear;\n\theight: .4rem;\n\twidth: 50px;\n\n\tposition: relative;\n`\n\nexport default Style\n\nexport const BarBall = styled.div`\n\n\tposition: absolute;\n\ttop: -.25rem;\n\n\tleft: calc(${props => props.volume * 100}% - .5rem);\n\n\ttransition: all ${transSpeed} linear;\n\theight: 1rem;\n\twidth: 1rem;\n\tborder-radius: 50%;\n\n\tbackground-color: #0057b8;\n`\n\nexport const BarCurrent = styled.div`\n\tposition: absolute;\n\tleft: 0;\n\twidth: ${props => props.volume * 100}%;\n\ttransition: all ${transSpeed} linear;\n\theight: .4rem;\n\tbackground-color: #0057b8;\n`\n\nexport const BarBackground = styled.div`\n\tposition: absolute;\n\twidth: 100%;\n\ttransition: all ${transSpeed} linear;\n\theight: .4rem;\n\tbackground-color: #fff;\n`\n","import styled from 'styled-components'\n\nconst Style = styled.div`\n\tgrid-area: left;\n`\n\nexport default Style\n","import React from 'react'\n\nimport { VolumeBar } from 'components/bits'\n\nimport Style from './styles'\n\nconst Scrubber = props => {\n\treturn (\n\t\t<Style>\n\t\t\t<VolumeBar volume={props.volume} muted={props.muted} handleClick={props.handleClick} />\n\t\t</Style>\n\t)\n}\n\nexport default Scrubber\n","import styled, {css} from 'styled-components'\nimport trashIcon from 'assets/trash.svg'\nimport saveIcon from 'assets/save.svg'\nimport uploadIcon from 'assets/upload.svg'\n\nconst Style = styled.div`\n\tpadding: 2rem;\n`\n\nexport default Style\n\nexport const Preview = styled.div`\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tjustify-content: space-between;\n\n\t& > div {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n`\n\nexport const BoxRow = styled.div`\n\tmargin-top: 10px;\n\tmargin-bottom: 10px;\n\tborder-radius: 5px;\n\tbox-shadow: 0px 2px 5px rgba(0,0,0,0.3);\n\tbackground-color: white;\n`\n\nexport const Buttons = styled.div`\n\tdisplay: flex;\n`\n\nconst TextButton = css`\n\tfont-weight: bold;\n\tline-height: 1.5rem;\n\tletter-spacing: .05rem;\n\tbackground: transparent;\n\tborder: none;\n\tcursor: pointer;\n\toutline: none;\n`\n\nexport const EditButton = styled.button`\n\tcolor: #0582CA;\n\t${TextButton}\n\n\tdisplay: flex;\n\talign-items: center;\n  justify-content: center;\n\n\ttext-align: center !important;\n\t& > span {\n\t\tmargin-left: .5rem;\n\t}\n`\n\nexport const InnerContainer = styled.div`\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr 2fr;\n\tpadding: 15px;\n`\n\nexport const Type = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n`\n\nexport const Column = styled.div`\n\tmargin-right: 1.5rem;\n\tmargin-left: 1.5rem;\n\n\t& > h4 {\n\t\talign-items: center;\n\t\tborder-bottom: 1px solid #c4c4c4;\n\t\tdisplay: grid;\n\t\tgrid-gap: 1rem;\n\t\tgrid-template-columns: 1fr 1.8rem;\n\t\tline-height: 2rem;\n\t\tmargin-bottom: 1rem;\n\t}\n\n\t& > div {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tline-height: 2rem;\n\t\tmargin-bottom: 1rem;\n\t}\n\n\t& textarea {\n\t\twidth: 100%;\n\t}\n`\n\nexport const RemoveIcon = styled.span`\n\tbackground: url(${trashIcon}) center no-repeat;\n\theight: 2.5rem;\n\twidth: 2rem;\n`\n\nexport const SaveIcon = styled.span`\n\tbackground: url(${saveIcon}) center no-repeat;\n\theight: 2.5rem;\n\twidth: 2rem;\n`\n\nexport const UploadIcon = styled.span`\n\tbackground: url(${uploadIcon}) center no-repeat;\n\theight: 2.5rem;\n\twidth: 2rem;\n`\n\nexport const RemoveButton = styled.button`\n\tdisplay: flex;\n\talign-items: center;\n  justify-content: center;\n\tcolor: #ff4c4c;\n\t${TextButton}\n\ttext-align: center !important;\n\n\t& > span {\n\t\tmargin-left: .5rem;\n\t}\n`\n\nexport const FileUploadButton = styled.button`\n\tdisplay: flex;\n\talign-items: center;\n  justify-content: center;\n\tcolor: #3CB371;\n\t${TextButton}\n\ttext-align: center !important;\n\n\t& > span {\n\t\tmargin-left: .5rem;\n\t}\n`\n\nexport const TitleEdit = styled.input`\n\tmargin-left: 1rem;\n\tbox-sizing: border-box;\n`\n\nexport const Title = styled.form`\n\tdisplay: flex;\n\tmargin-left: 1rem;\n\t& > h4 {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n`\n\nexport const ResourceTitle = styled.form`\n\tdisplay: flex;\n\tmargin-left: 1rem;\n\t& > h4 {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n`\n\nexport const TypeButton = styled.button`\n\tbackground: transparent;\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n\n\tfont-weight: ${props => props.selected ? `500` : `300`};\n\tcolor: ${props => props.selected ? `#0057B8` : `black`};\n`","import React, { PureComponent } from 'react'\nimport Style, {\n\tInnerContainer,\n\tColumn,\n\tPreview,\n\tButtons,\n\tEditButton,\n\tRemoveButton,\n\tTitle,\n\tTitleEdit,\n\tRemoveIcon,\n\tUploadIcon,\n\tSaveIcon,\n\tTypeButton,\n\tType,\n\tBoxRow,\n\tFileUploadButton,\n\tResourceTitle,\n} from './styles'\nimport { SwitchToggle } from 'components/bits'\n\nexport class ResourceOverview extends PureComponent {\n\n\trender() {\n\n\t\tconst {\n\t\t\thandleResourceName,\n\t\t\thandleFiles,\n\t\t\thandleResourceMetadata,\n\t\t\thandleToggleEdit,\n\t\t\thandleRemoveResource,\n\t\t\thandleTogglePhysicalCopyExists,\n\t\t\thandleTogglePublish,\n\t\t\thandleToggleCopyRighted,\n\t\t\thandleToggleFullVideo,\n\t\t\thandleTypeChange,\n\t\t\thandleResourceEmail,\n\t\t\thandleFileUploadToResource,\n\t\t} = this.props.handlers\n\n\t\tconst {\n\t\t\tresource,\n\t\t\tfiles,\n\t\t\tediting,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\tmetadata,\n\t\t\tresourceName,\n\t\t\tphysicalCopyExists,\n\t\t\tpublished,\n\t\t\tcopyrighted,\n\t\t\tresourceType,\n\t\t\tfullVideo,\n\t\t\trequesterEmail,\n\t\t} = resource\n\n\t\treturn (\n\t\t\t<BoxRow>\n\t\t\t\t<Style>\n\t\t\t\t\t<Preview>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{editing ?\n\t\t\t\t\t\t\t\t<ResourceTitle><h4>Title:</h4><TitleEdit type='text' value={resourceName} onChange={handleResourceName}/></ResourceTitle>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<h4>{resourceName}</h4>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Buttons>\n\t\t\t\t\t\t\t{editing &&\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{/* TODO: need to figure out how it work on attaching files on resource */}\n\t\t\t\t\t\t\t\t<FileUploadButton className='file-attach-button' onClick={handleFileUploadToResource}>Upload File<UploadIcon/></FileUploadButton>\n\t\t\t\t\t\t\t\t<RemoveButton className='remove-resource-button' onClick={handleRemoveResource}>Delete<RemoveIcon/></RemoveButton>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<EditButton onClick={handleToggleEdit}>{editing ? `Save` : `Edit`}{editing ? <SaveIcon/> : <></>}</EditButton>\n\t\t\t\t\t\t</Buttons>\n\t\t\t\t\t</Preview>\n\t\t\t\t</Style>\n\t\t\t\t{editing &&\n\t\t\t\t\t<InnerContainer>\n\t\t\t\t\t\t<Column>\n\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\tcopyrighted\n\t\t\t\t\t\t\t\t<SwitchToggle on={copyrighted} setToggle={handleToggleCopyRighted} data_key='copyrighted' />\n\t\t\t\t\t\t\t</h4>\n\n\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\tphysical copy exists\n\t\t\t\t\t\t\t\t<SwitchToggle on={physicalCopyExists} setToggle={handleTogglePhysicalCopyExists} data_key='physicalCopyExists' />\n\t\t\t\t\t\t\t</h4>\n\n\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\tpublished\n\t\t\t\t\t\t\t\t<SwitchToggle on={published} setToggle={handleTogglePublish} data_key='published' />\n\t\t\t\t\t\t\t</h4>\n\n\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\tfull video\n\t\t\t\t\t\t\t\t<SwitchToggle on={fullVideo} setToggle={handleToggleFullVideo} data_key='fullVideo' />\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t</Column>\n\n\t\t\t\t\t\t<Column>\n\t\t\t\t\t\t\t<div><h4>Email:</h4><TitleEdit type='text' value={requesterEmail} onChange={handleResourceEmail}/></div>\n\t\t\t\t\t\t\t<Type>\n\t\t\t\t\t\t\t\t<h4>Type:</h4>\n\t\t\t\t\t\t\t\t<TypeButton type='button' selected={resourceType === `video`} onClick={handleTypeChange} data-type='video'>Video</TypeButton>\n\t\t\t\t\t\t\t\t<TypeButton type='button' selected={resourceType === `audio`} onClick={handleTypeChange} data-type='audio'>Audio</TypeButton>\n\t\t\t\t\t\t\t\t<TypeButton type='button' selected={resourceType === `image`} onClick={handleTypeChange} data-type='image'>Image</TypeButton>\n\t\t\t\t\t\t\t\t<TypeButton type='button' selected={resourceType === `text`} onClick={handleTypeChange} data-type='text'>Text</TypeButton>\n\t\t\t\t\t\t\t</Type>\n\n\t\t\t\t\t\t\t{/* TODO: need to find the file ID that is already attached to this resource. */}\n\n\t\t\t\t\t\t\t{/* <div><h4>Files:</h4>{files.length !== 0 ? files.map(file => <Title key={file.id}>{file.id}</Title>) : <Title>none</Title>}</div> */}\n\n\t\t\t\t\t\t\t<div><h4>Files:</h4>{files.length !== 0 ? <><Title>{files.length} files</Title> <EditButton onClick={handleFiles}>Edit</EditButton></>: <Title>none</Title>}</div>\n\n\t\t\t\t\t\t</Column>\n\n\t\t\t\t\t\t<Column>\n\t\t\t\t\t\t\t<h4>Metadata</h4>\n\t\t\t\t\t\t\t<textarea onChange={handleResourceMetadata} value={metadata} rows={6}/>\n\t\t\t\t\t\t</Column>\n\n\t\t\t\t\t</InnerContainer>\n\t\t\t\t}\n\t\t\t</BoxRow>\n\t\t)\n\t}\n}\n\nexport default ResourceOverview","import styled from 'styled-components'\n\nimport searchIcon from 'assets/search.svg'\n\nconst Style = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\theight: calc(100vh - 8.4rem);\n\tbackground-color: #fafafa;\n\tpadding-top: 8.4rem;\n\n\t& > div {\n\t\tdisplay: flex;\n\t}\n\n\t& > h1 {\n\t\tmargin: 5rem 0 4rem 0;\n\t\tfont-weight: normal;\n\t}\n`\n\nexport default Style\n\nexport const Search = styled.form`\n\tposition: relative;\n\n\t& > input {\n\t\tz-index: 1;\n\t\tbackground: white;\n\n\t\theight: 4rem;\n\t\twidth: 30rem;\n\n\t\tfont-size: 1.5rem;\n\n\t\tborder: none;\n\t\tborder-radius: 2rem;\n\n\t\tmargin-left: 1rem;\n\n\t\tpadding: 0 1.25rem 0 3.25rem;\n\n\t\toutline: none;\n\t\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\n\t\t@media (max-width: 800px){\n\t\t\twidth: 20rem;\n\t\t}\n\t}\n`\n\nexport const SearchIcon = styled.span`\n\tposition: absolute;\n\tz-index: 9;\n\ttop: 1rem;\n\tleft: 2rem;\n\tbackground: url(${searchIcon}) center no-repeat;\n\tbackground-size: contain;\n\theight: 2rem;\n\twidth: 2rem;\n`\n\nexport const CategorySelect = styled.select`\n\tbackground: white;\n\theight: 4rem;\n\twidth: 12rem;\n\tdisplay: flex;\n\tfont-size: 1.5rem;\n\n\tborder: none;\n\tborder-radius: 2rem;\n\n\tpadding: 0 1.25rem;\n\n\toutline: none;\n\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\t& option {\n\t\tmargin: auto auto 6px auto;\n\t}\n`\n\nexport const FeedbackMessage = styled.div`\n\theight: 100px;\n\twidth: 200px;\n\tdisplay: flex;\n\n\t& > p {\n\t\tfont-weight: 500;\n\t\tfont-size: 20px;\n\t\tmargin: auto;\n\t}\n`","import React, { PureComponent } from 'react'\n\nimport { AdminTable } from 'components/bits'\n\nimport Style, { Search, SearchIcon, FeedbackMessage, CategorySelect } from './styles'\n\nexport class Admin extends PureComponent {\n\trender() {\n\n\t\tconst {\n\t\t\tcategory,\n\t\t\tdata,\n\t\t\tsearchQuery,\n\t\t\tsearchCategory,\n\t\t\tmenuActive,\n\t\t\tmenuItemInfo,\n\t\t\tmousePos,\n\t\t\tplaceholder,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\tupdateSearchBar,\n\t\t\thandleSubmit,\n\t\t\ttoggleMenu,\n\t\t\thandleConfirmDelete,\n\t\t\tupdateCategory,\n\t\t} = this.props.handlers\n\n\t\tconst viewstate = {\n\t\t\tmenuItemInfo,\n\t\t\tsearchCategory,\n\t\t\tmenuActive,\n\t\t\tcategory,\n\t\t\tdata,\n\t\t\tmousePos,\n\t\t}\n\n\t\tconst handlers = {\n\t\t\thandleConfirmDelete,\n\t\t\ttoggleMenu,\n\t\t}\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<h1>Admin Dashboard</h1>\n\n\t\t\t\t<div>\n\n\t\t\t\t\t{/* WE ARE ONLY SEARCHING FOR USERS NOW SO WE DO NOT NEED THE SELECT DROP DOWN */}\n\t\t\t\t\t<CategorySelect id='categorySelect' onChange={updateCategory}>\n\t\t\t\t\t\t{Object.keys(category).map((c, index) => (\n\t\t\t\t\t\t\t<option value={category[c].name} key={index}>\n\t\t\t\t\t\t\t\t{category[c].name}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</CategorySelect>\n\t\t\t\t\t<Search id='searchSubmit' onSubmit={handleSubmit}>\n\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t\t<input type='search' placeholder={placeholder} onChange={updateSearchBar} value={searchQuery}/>\n\t\t\t\t\t</Search>\n\n\t\t\t\t</div>\n\n\t\t\t\t{ data !== null ?\n\t\t\t\t\tdata.length < 1 ?\n\t\t\t\t\t\t<FeedbackMessage><p>The are no results</p></FeedbackMessage>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<AdminTable viewstate={viewstate} handlers={handlers}/>\n\t\t\t\t\t:\n\t\t\t\t\t<FeedbackMessage><p></p></FeedbackMessage>\n\t\t\t\t}\n\n\t\t\t</Style>\n\t\t)\n\t}\n}\n\nexport default Admin\n","import styled from 'styled-components'\n\nimport searchIcon from 'assets/search.svg'\n\nconst Style = styled.div`\n\tpadding: 2rem;\n\t& h4 {\n\t\tfont-size: 1.4rem;\n\t\tfont-weight: normal;\n\t\tmargin-bottom: 1.6rem;\n\t}\n`\n\nexport default Style\n\nexport const Search = styled.form`\n\tposition: relative;\n\t& > input {\n\t\tbackground: white;\n\t\tborder-radius: 1.3rem;\n\t\tborder: none;\n\t\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\t\theight: 2.6rem;\n\t\tmargin-bottom: 1.6rem;\n\t\tmargin-right: 2rem;\n\t\toutline: none;\n\t\tpadding-left: 1rem;\n\t\tpadding-right: 1rem;\n\t\twidth: 18rem;\n\t\tz-index: 1;\n\t}\n`\n\nexport const SearchIcon = styled.span`\n\tbackground-size: contain;\n\tbackground: url(${searchIcon}) center no-repeat;\n\theight: 1.4rem;\n\tleft: .7rem;\n\tposition: absolute;\n\ttop: .6rem;\n\twidth: 1.4rem;\n\tz-index: 10;\n`\n\nexport const DepartmentSelect = styled.select`\n\tbackground: white;\n\tborder-radius: 1.3rem;\n\tborder: none;\n\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\theight: 2.6rem;\n\tmargin-bottom: 1.6rem;\n\tmargin-right: 2rem;\n\toutline: none;\n\tpadding-left: .6rem;\n\tpadding-right: 1.2rem;\n\twidth: 18rem;\n`\n\nexport const CatalogInput = styled.input`\n\tbackground: ${props => props.disabled ? `#eee` : `white`};\n\n\theight: 2.6rem;\n\twidth: 18rem;\n\n\tborder: none;\n\tborder-radius: 1.3rem;\n\n\tmargin-bottom: 1.6rem;\n\tmargin-right: 2rem;\n\n\toutline: none;\n\n\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\n\tpadding-left: 1rem;\n\tpadding-right: 1.2rem;\n`\n\nexport const SectionInput = styled.input`\n\tbackground: ${props => props.disabled ? `#eee` : `white`};\n\n\theight: 2.6rem;\n\twidth: 18rem;\n\n\tborder: none;\n\tborder-radius: 1.3rem;\n\n\tmargin-bottom: 1.6rem;\n\tmargin-right: 2rem;\n\n\toutline: none;\n\n\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\n\tpadding-left: 1rem;\n\tpadding-right: 1.2rem;\n`\n\nexport const AddButton = styled.button`\n\tbackground: ${props => props.disabled ? `#eee` : `#0582CA`};\n\tcolor: ${props => props.disabled ? `initial` : `white`};\n\n\theight: 2.8rem;\n\twidth: 5rem;\n\n\tborder: none;\n\tborder-radius: 1.3rem;\n\n\toutline: none;\n\t${props => props.disabled ? `` : `cursor: pointer;`}\n\n\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\n\tpadding-left: 1rem;\n\tpadding-right: 1.2rem;\n`","import { diff } from 'deep-object-diff'\n\nexport const getInitials = fullName => {\n\tlet initials = fullName.match(/\\b\\w/g) || []\n\tinitials = ((initials.shift() || ``) + (initials.pop() || ``)).toUpperCase()\n\treturn initials\n}\n\nexport const objectIsEmpty = o => {\n\treturn Object.entries(o).length === 0 && o.constructor === Object\n}\n\nexport const componentDidChange = async (\n\ttoConsole = false,\n\tcomponent = ``,\n\tmethod = ``,\n\tprevProps = {},\n\tnextProps = {},\n\tpropsProperties = [],\n\tprevState = {},\n\tnextState = {},\n\tstateProperties = []\n) => {\n\n\tconst label = `[DEBUG] ${component}.${method}()`\n\n\tif (toConsole) logger.group(label)\n\n\tconst propsDiff = diff(prevProps, nextProps)\n\tconst stateDiff = diff(prevState, nextState)\n\n\tif (toConsole) logger.log(`props changes:`, propsDiff)\n\tif (toConsole) logger.log(`state changes:`, stateDiff)\n\n\tconst propsChanged = propsProperties.reduce((acc, property) => ({\n\t\t...acc,\n\t\t[`props.${property} Changed`]: {\n\t\t\tvalue: propsDiff.hasOwnProperty(property),\n\t\t},\n\t}), {})\n\n\tconst stateChanged = stateProperties.reduce((acc, property) => ({\n\t\t...acc,\n\t\t[`state.${property} Changed`]: {\n\t\t\tvalue: stateDiff.hasOwnProperty(property),\n\t\t},\n\t}), {})\n\n\tconst propsKeys = Object.keys(propsChanged)\n\tconst stateKeys = Object.keys(stateChanged)\n\n\tif (toConsole && propsKeys.length > 0) console.table(propsChanged)\n\tif (toConsole && stateKeys.length > 0) console.table(stateChanged)\n\n\tconst changed =\n\t\t(\n\t\t\tpropsKeys.length > 0 ?\n\t\t\t\tpropsKeys.some(key => propsChanged[key].value)\n\t\t\t\t:\n\t\t\t\tfalse\n\t\t) || (\n\t\t\tstateKeys.length > 0 ?\n\t\t\t\tstateKeys.some(key => stateChanged[key].value)\n\t\t\t\t:\n\t\t\t\tfalse\n\t\t)\n\n\tif (toConsole) logger.logc(`${changed ? `RENDER` : `NO RENDER`}`, `background: ${changed ? `Maroon` : `Teal`}`)\n\n\tif (toConsole) logger.groupEnd(label)\n\n\treturn changed\n}\n\nconst logStyle = `background: transparent; color: white; font-weight: bold; padding: 2px 4px; border-radius: 2px;`\nconst infoStyle = `background: #61dafb; color: #282c34; font-weight: bold; padding: 2px 4px; border-radius: 2px;`\nconst warnStyle = `background: #ffbb17; color: #332b00; font-weight: bold; padding: 2px 4px; border-radius: 2px;`\nconst errorStyle = `background: #dc2727; color: #290000; font-weight: bold; padding: 2px 4px; border-radius: 2px;`\n\nexport const logger = {\n\tlog: (message, variable) => message ? console.log(`%c${message}`, logStyle, variable ? variable : ``) : null,\n\tinfo: (message, variable) => message ? console.log(`%c${message}`, infoStyle, variable ? variable : ``) : null,\n\twarn: (message, variable) => message ? console.log(`%c${message}`, warnStyle, variable ? variable : ``) : null,\n\terror: (message, variable) => message ? console.log(`%c${message}`, errorStyle, variable ? variable : ``) : null,\n\tlogc: (message, css, variable) => message ? console.log(`%c${message}`, `${logStyle} ${css}`, variable ? variable : ``) : null,\n\tgroup: (message) => message ? console.groupCollapsed(`%c${message}`, infoStyle) : null,\n\tgroupEnd: (message) => message ? console.groupEnd(`%c${message}`, infoStyle) : null,\n}\n\nexport const departments = [\n\t{\n\t\tcode: `A HTG`,\n\t\tname: `American Heritage`,\n\t},\n\t{\n\t\tcode: `ACC`,\n\t\tname: `Accounting`,\n\t},\n\t{\n\t\tcode: `AEROS`,\n\t\tname: `Aerospace Studies`,\n\t},\n\t{\n\t\tcode: `AFRIK`,\n\t\tname: `Afrikaans`,\n\t},\n\t{\n\t\tcode: `AM ST`,\n\t\tname: `American Studies`,\n\t},\n\t{\n\t\tcode: `ANES`,\n\t\tname: `Ancient Near Eastern Studies`,\n\t},\n\t{\n\t\tcode: `ANTHR`,\n\t\tname: `Antrhopology`,\n\t},\n\t{\n\t\tcode: `ARAB`,\n\t\tname: `Arabic`,\n\t},\n\t{\n\t\tcode: `ARMEN`,\n\t\tname: `Armenian`,\n\t},\n\t{\n\t\tcode: `ART`,\n\t\tname: `Art`,\n\t},\n\t{\n\t\tcode: `ARTED`,\n\t\tname: `Art Education`,\n\t},\n\t{\n\t\tcode: `ARTHC`,\n\t\tname: `Art History and Curatorial Studies`,\n\t},\n\t{\n\t\tcode: `ASIAN`,\n\t\tname: `Asian Studies`,\n\t},\n\t{\n\t\tcode: `ASL`,\n\t\tname: `American Sign Language`,\n\t},\n\t{\n\t\tcode: `BIO`,\n\t\tname: `Biology`,\n\t},\n\t{\n\t\tcode: `BULGN`,\n\t\tname: `Bulgarian`,\n\t},\n\t{\n\t\tcode: `C S`,\n\t\tname: `Computer Science`,\n\t},\n\t{\n\t\tcode: `CAMBO`,\n\t\tname: `Cambodian`,\n\t},\n\t{\n\t\tcode: `CANT`,\n\t\tname: `Cantonese`,\n\t},\n\t{\n\t\tcode: `CE EN`,\n\t\tname: `Civil and Environmental Engineering`,\n\t},\n\t{\n\t\tcode: `CEBU`,\n\t\tname: `Cebuano`,\n\t},\n\t{\n\t\tcode: `CFM`,\n\t\tname: `Construction and Facilities Management`,\n\t},\n\t{\n\t\tcode: `CH EN`,\n\t\tname: `Chemical Engineering`,\n\t},\n\t{\n\t\tcode: `CHEM`,\n\t\tname: `Chemistry and Biochemistry`,\n\t},\n\t{\n\t\tcode: `CHIN`,\n\t\tname: `Chinese - Mandarin`,\n\t},\n\t{\n\t\tcode: `CL CV`,\n\t\tname: `Classical Civilization`,\n\t},\n\t{\n\t\tcode: `CLSCS`,\n\t\tname: `Classics`,\n\t},\n\t{\n\t\tcode: `CMLIT`,\n\t\tname: `Comparative Literature`,\n\t},\n\t{\n\t\tcode: `CMPST`,\n\t\tname: `Comparative Studies`,\n\t},\n\t{\n\t\tcode: `COMD`,\n\t\tname: `Communication Disorders`,\n\t},\n\t{\n\t\tcode: `COMMS`,\n\t\tname: `Communications`,\n\t},\n\t{\n\t\tcode: `CPSE`,\n\t\tname: `Counseling Psychology and Special Education`,\n\t},\n\t{\n\t\tcode: `CREOL`,\n\t\tname: `Hatian Creole`,\n\t},\n\t{\n\t\tcode: `CSANM`,\n\t\tname: `Computer Science Animation`,\n\t},\n\t{\n\t\tcode: `DANCE`,\n\t\tname: `Dance`,\n\t},\n\t{\n\t\tcode: `DANSH`,\n\t\tname: `Danish`,\n\t},\n\t{\n\t\tcode: `DES`,\n\t\tname: `Design`,\n\t},\n\t{\n\t\tcode: `DESAN`,\n\t\tname: `Design - Animation`,\n\t},\n\t{\n\t\tcode: `DESGD`,\n\t\tname: `Design - Graphic Design`,\n\t},\n\t{\n\t\tcode: `DESIL`,\n\t\tname: `Design - Illustration`,\n\t},\n\t{\n\t\tcode: `DESPH`,\n\t\tname: `Design - Photography`,\n\t},\n\t{\n\t\tcode: `DIGHT`,\n\t\tname: `Digital Humanities and Technology`,\n\t},\n\t{\n\t\tcode: `DUTCH`,\n\t\tname: `Dutch`,\n\t},\n\t{\n\t\tcode: `EC EN`,\n\t\tname: `Electrical and Computer Engineering`,\n\t},\n\t{\n\t\tcode: `ECE`,\n\t\tname: `Early Childhood Education`,\n\t},\n\t{\n\t\tcode: `ECON`,\n\t\tname: `Economics`,\n\t},\n\t{\n\t\tcode: `EDLF`,\n\t\tname: `Educational Leadership and Foundations`,\n\t},\n\t{\n\t\tcode: `EIME`,\n\t\tname: `Educational Inquiry, Measurement, and Evaluation`,\n\t},\n\t{\n\t\tcode: `EL ED`,\n\t\tname: `Elementary Education`,\n\t},\n\t{\n\t\tcode: `ELANG`,\n\t\tname: `English Language`,\n\t},\n\t{\n\t\tcode: `EMBA`,\n\t\tname: `Executive Master of Business Administration`,\n\t},\n\t{\n\t\tcode: `ENG T`,\n\t\tname: `Engineering Technology`,\n\t},\n\t{\n\t\tcode: `ENGL`,\n\t\tname: `English`,\n\t},\n\t{\n\t\tcode: `ENT`,\n\t\tname: `Entrepreneurial Management`,\n\t},\n\t{\n\t\tcode: `ESL`,\n\t\tname: `English as a Second Language`,\n\t},\n\t{\n\t\tcode: `ESTON`,\n\t\tname: `Estonian`,\n\t},\n\t{\n\t\tcode: `EUROP`,\n\t\tname: `European Studies`,\n\t},\n\t{\n\t\tcode: `EXDM`,\n\t\tname: `Experience Design and Management`,\n\t},\n\t{\n\t\tcode: `EXSC`,\n\t\tname: `Exercise Sciences`,\n\t},\n\t{\n\t\tcode: `FIN`,\n\t\tname: `Finance`,\n\t},\n\t{\n\t\tcode: `FINN`,\n\t\tname: `Finnish`,\n\t},\n\t{\n\t\tcode: `FLANG`,\n\t\tname: `Foreign Language Courses`,\n\t},\n\t{\n\t\tcode: `FNART`,\n\t\tname: `Fine Arts`,\n\t},\n\t{\n\t\tcode: `FREN`,\n\t\tname: `French`,\n\t},\n\t{\n\t\tcode: `GEOG`,\n\t\tname: `Geography`,\n\t},\n\t{\n\t\tcode: `GEOL`,\n\t\tname: `Geological Sciences`,\n\t},\n\t{\n\t\tcode: `GERM`,\n\t\tname: `German`,\n\t},\n\t{\n\t\tcode: `GREEK`,\n\t\tname: `Greek (Classical)`,\n\t},\n\t{\n\t\tcode: `GSCM`,\n\t\tname: `Global Supply Chain Management`,\n\t},\n\t{\n\t\tcode: `GWS`,\n\t\tname: `Global Women's Studies`,\n\t},\n\t{\n\t\tcode: `HAWAI`,\n\t\tname: `Hawaiian`,\n\t},\n\t{\n\t\tcode: `HCOLL`,\n\t\tname: `Humanities College`,\n\t},\n\t{\n\t\tcode: `HEB`,\n\t\tname: `Hebrew`,\n\t},\n\t{\n\t\tcode: `HINDI`,\n\t\tname: `Hindi`,\n\t},\n\t{\n\t\tcode: `HIST`,\n\t\tname: `History`,\n\t},\n\t{\n\t\tcode: `HLTH`,\n\t\tname: `Public Health`,\n\t},\n\t{\n\t\tcode: `HMONG`,\n\t\tname: `Hmong`,\n\t},\n\t{\n\t\tcode: `HONRS`,\n\t\tname: `Honors Program`,\n\t},\n\t{\n\t\tcode: `HRM`,\n\t\tname: `Human Resource Management`,\n\t},\n\t{\n\t\tcode: `HUNG`,\n\t\tname: `Hungarian`,\n\t},\n\t{\n\t\tcode: `IAS`,\n\t\tname: `International and Area Studies`,\n\t},\n\t{\n\t\tcode: `ICLND`,\n\t\tname: `Icelandic`,\n\t},\n\t{\n\t\tcode: `ICS`,\n\t\tname: `International Cinema Studies`,\n\t},\n\t{\n\t\tcode: `IHUM`,\n\t\tname: `Interdisciplinary Humanities`,\n\t},\n\t{\n\t\tcode: `INDES`,\n\t\tname: `Industrial Design`,\n\t},\n\t{\n\t\tcode: `INDON`,\n\t\tname: `Indonesian`,\n\t},\n\t{\n\t\tcode: `IP&amp;T`,\n\t\tname: `Instructional Psychology and Technology`,\n\t},\n\t{\n\t\tcode: `IS`,\n\t\tname: `Information Systems`,\n\t},\n\t{\n\t\tcode: `IT&amp;C`,\n\t\tname: `Information Technology and Cybersecurity`,\n\t},\n\t{\n\t\tcode: `IT`,\n\t\tname: `Information Technology`,\n\t},\n\t{\n\t\tcode: `ITAL`,\n\t\tname: `Italian`,\n\t},\n\t{\n\t\tcode: `JAPAN`,\n\t\tname: `Japanese`,\n\t},\n\t{\n\t\tcode: `KICHE`,\n\t\tname: `K'iche`,\n\t},\n\t{\n\t\tcode: `KIRIB`,\n\t\tname: `Kiribati`,\n\t},\n\t{\n\t\tcode: `KOREA`,\n\t\tname: `Korean`,\n\t},\n\t{\n\t\tcode: `LATIN`,\n\t\tname: `Latin (Classical)`,\n\t},\n\t{\n\t\tcode: `LATVI`,\n\t\tname: `Latvian`,\n\t},\n\t{\n\t\tcode: `LAW`,\n\t\tname: `Law`,\n\t},\n\t{\n\t\tcode: `LFSCI`,\n\t\tname: `Life Sciences`,\n\t},\n\t{\n\t\tcode: `LING`,\n\t\tname: `Linguistics`,\n\t},\n\t{\n\t\tcode: `LITHU`,\n\t\tname: `Lithuanian`,\n\t},\n\t{\n\t\tcode: `LT AM`,\n\t\tname: `Latin American Studies`,\n\t},\n\t{\n\t\tcode: `M COM`,\n\t\tname: `Management Communication`,\n\t},\n\t{\n\t\tcode: `MALAG`,\n\t\tname: `Malagasy`,\n\t},\n\t{\n\t\tcode: `MALAY`,\n\t\tname: `Malay`,\n\t},\n\t{\n\t\tcode: `MATH`,\n\t\tname: `Mathematics`,\n\t},\n\t{\n\t\tcode: `MBA`,\n\t\tname: `Business Administration`,\n\t},\n\t{\n\t\tcode: `ME EN`,\n\t\tname: `Mechanical Engineering`,\n\t},\n\t{\n\t\tcode: `MESA`,\n\t\tname: `Middle East Studies/Arabic`,\n\t},\n\t{\n\t\tcode: `MFGEN`,\n\t\tname: `Manufacturing Engineering`,\n\t},\n\t{\n\t\tcode: `MFG`,\n\t\tname: `Manufacturing`,\n\t},\n\t{\n\t\tcode: `MFHD`,\n\t\tname: `Marriage, Family, and Human Development`,\n\t},\n\t{\n\t\tcode: `MFT`,\n\t\tname: `Marriage and Family Therapy`,\n\t},\n\t{\n\t\tcode: `MIL S`,\n\t\tname: `Military Science`,\n\t},\n\t{\n\t\tcode: `MKTG`,\n\t\tname: `Marketing`,\n\t},\n\t{\n\t\tcode: `MMBIO`,\n\t\tname: `Microbiology and Molecular Biology`,\n\t},\n\t{\n\t\tcode: `MPA`,\n\t\tname: `Public Management`,\n\t},\n\t{\n\t\tcode: `MSB`,\n\t\tname: `Marriott School of Business`,\n\t},\n\t{\n\t\tcode: `MTHED`,\n\t\tname: `Mathematics Education`,\n\t},\n\t{\n\t\tcode: `MUSIC`,\n\t\tname: `Music`,\n\t},\n\t{\n\t\tcode: `NAVAJ`,\n\t\tname: `Navajo`,\n\t},\n\t{\n\t\tcode: `NDFS`,\n\t\tname: `Nutrition, Dietetics, and Food Science`,\n\t},\n\t{\n\t\tcode: `NES`,\n\t\tname: `Near Eastern Studies`,\n\t},\n\t{\n\t\tcode: `NEURO`,\n\t\tname: `Neuroscience`,\n\t},\n\t{\n\t\tcode: `NORWE`,\n\t\tname: `Norwegian`,\n\t},\n\t{\n\t\tcode: `NURS`,\n\t\tname: `Nursing`,\n\t},\n\t{\n\t\tcode: `PDBIO`,\n\t\tname: `Physiology and Developmental Biology`,\n\t},\n\t{\n\t\tcode: `PERSI`,\n\t\tname: `Persian`,\n\t},\n\t{\n\t\tcode: `PETE`,\n\t\tname: `Physical Education Teacher Education`,\n\t},\n\t{\n\t\tcode: `PHIL`,\n\t\tname: `Philosophy`,\n\t},\n\t{\n\t\tcode: `PHSCS`,\n\t\tname: `Physics and Astronomy`,\n\t},\n\t{\n\t\tcode: `PHY S`,\n\t\tname: `Physical Science`,\n\t},\n\t{\n\t\tcode: `PLANG`,\n\t\tname: `Professional Language`,\n\t},\n\t{\n\t\tcode: `POLI`,\n\t\tname: `Political Science`,\n\t},\n\t{\n\t\tcode: `POLSH`,\n\t\tname: `Polish`,\n\t},\n\t{\n\t\tcode: `PORT`,\n\t\tname: `Portuguese`,\n\t},\n\t{\n\t\tcode: `PSYCH`,\n\t\tname: `Psychology`,\n\t},\n\t{\n\t\tcode: `PWS`,\n\t\tname: `Plant and Wildlife Sciences`,\n\t},\n\t{\n\t\tcode: `QUECH`,\n\t\tname: `Quechua`,\n\t},\n\t{\n\t\tcode: `REL A`,\n\t\tname: `Rel A - Ancient Scripture`,\n\t},\n\t{\n\t\tcode: `REL C`,\n\t\tname: `Rel C - Church History and Doctrine`,\n\t},\n\t{\n\t\tcode: `REL E`,\n\t\tname: `Rel E - Religious Education`,\n\t},\n\t{\n\t\tcode: `ROM`,\n\t\tname: `Romanian`,\n\t},\n\t{\n\t\tcode: `RUSS`,\n\t\tname: `Russian`,\n\t},\n\t{\n\t\tcode: `SAMOA`,\n\t\tname: `Samoan`,\n\t},\n\t{\n\t\tcode: `SC ED`,\n\t\tname: `Secondary Education`,\n\t},\n\t{\n\t\tcode: `SCAND`,\n\t\tname: `Scandinavian Studies`,\n\t},\n\t{\n\t\tcode: `SFL`,\n\t\tname: `School of Family Life`,\n\t},\n\t{\n\t\tcode: `SLAT`,\n\t\tname: `Second Language Teaching`,\n\t},\n\t{\n\t\tcode: `SLOVK`,\n\t\tname: `Slovak`,\n\t},\n\t{\n\t\tcode: `SOC`,\n\t\tname: `Sociology`,\n\t},\n\t{\n\t\tcode: `SOC W`,\n\t\tname: `Social Work`,\n\t},\n\t{\n\t\tcode: `SPAN`,\n\t\tname: `Spanish`,\n\t},\n\t{\n\t\tcode: `STAC`,\n\t\tname: `Student Activities`,\n\t},\n\t{\n\t\tcode: `STAT`,\n\t\tname: `Statistics`,\n\t},\n\t{\n\t\tcode: `STDEV`,\n\t\tname: `Student Development`,\n\t},\n\t{\n\t\tcode: `STRAT`,\n\t\tname: `Strategic Management`,\n\t},\n\t{\n\t\tcode: `SWAHI`,\n\t\tname: `Swahili`,\n\t},\n\t{\n\t\tcode: `SWED`,\n\t\tname: `Swedish`,\n\t},\n\t{\n\t\tcode: `SWELL`,\n\t\tname: `Student Wellness`,\n\t},\n\t{\n\t\tcode: `T ED`,\n\t\tname: `Teacher Education`,\n\t},\n\t{\n\t\tcode: `TAGAL`,\n\t\tname: `Tagalog`,\n\t},\n\t{\n\t\tcode: `TAHTN`,\n\t\tname: `Tahitian`,\n\t},\n\t{\n\t\tcode: `TECH`,\n\t\tname: `Technology`,\n\t},\n\t{\n\t\tcode: `TEE`,\n\t\tname: `Technology and Engineering Education`,\n\t},\n\t{\n\t\tcode: `TELL`,\n\t\tname: `Teaching English Language Learners`,\n\t},\n\t{\n\t\tcode: `TES`,\n\t\tname: `Technology and Engineering Studies`,\n\t},\n\t{\n\t\tcode: `TEST`,\n\t\tname: `Test`,\n\t},\n\t{\n\t\tcode: `THAI`,\n\t\tname: `Thai`,\n\t},\n\t{\n\t\tcode: `TMA`,\n\t\tname: `Theatre and Media Arts`,\n\t},\n\t{\n\t\tcode: `TONGA`,\n\t\tname: `Tongan`,\n\t},\n\t{\n\t\tcode: `TRM`,\n\t\tname: `Therapeutic Recreation and Management`,\n\t},\n\t{\n\t\tcode: `TURK`,\n\t\tname: `Turkish`,\n\t},\n\t{\n\t\tcode: `UNIV`,\n\t\tname: `University Requirements`,\n\t},\n\t{\n\t\tcode: `VIET`,\n\t\tname: `Vietnamese`,\n\t},\n\t{\n\t\tcode: `WELSH`,\n\t\tname: `Welsh`,\n\t},\n\t{\n\t\tcode: `WRTG`,\n\t\tname: `Writing`,\n\t},\n]","import React, { PureComponent } from 'react'\n\nimport Style, { Search, DepartmentSelect, CatalogInput, SectionInput, AddButton } from './styles'\n\nimport { PermissionTable } from 'components/bits'\n\nimport { departments } from 'lib/util'\n\nexport class CollectionPermissions extends PureComponent {\n\trender() {\n\n\t\tconst {\n\t\t\tviewstate,\n\t\t\thandlers,\n\t\t} = this.props\n\n\t\tconst {\n\t\t\troles,\n\t\t\tstate,\n\t\t} = viewstate\n\n\t\tconst {\n\t\t\tdepartment,\n\t\t\tcatalog,\n\t\t\tsection,\n\t\t\tdisabled,\n\t\t\ttaFaculty,\n\t\t\texception,\n\t\t} = state\n\n\t\tconst {\n\t\t\tadmins = [],\n\t\t\tcourses = [],\n\t\t\texceptions = [],\n\t\t} = roles\n\n\t\tconst reducedCourses = courses.map(item => ({\n\t\t\tid: item.id,\n\t\t\tDepartment: item.department,\n\t\t\tCatalog: item.catalogNumber,\n\t\t\tSection: item.sectionNumber,\n\t\t}))\n\n\t\tconst reducedAdmins = admins.map(item => ({\n\t\t\tid: item.id,\n\t\t\tName: item.name,\n\t\t\tNetID: item.username,\n\t\t\tEmail: item.email,\n\t\t}))\n\n\t\tconst reducedExceptions = exceptions.map(item => ({\n\t\t\tid: item.id,\n\t\t\tName: item.name,\n\t\t\tNetID: item.username,\n\t\t\tEmail: item.email,\n\t\t}))\n\n\t\treturn (\n\t\t\t<Style>\n\n\t\t\t\t<h4>Courses</h4>\n\n\t\t\t\t<form onSubmit={handlers.addCourse}>\n\t\t\t\t\t<DepartmentSelect className='department-select' value={department} onChange={handlers.handleDepartmentChange}>\n\t\t\t\t\t\t<option value='*' disabled>Select Department</option>\n\t\t\t\t\t\t{departments.map((item, index) =>\n\t\t\t\t\t\t\t<option value={item.code} key={index}>\n\t\t\t\t\t\t\t\t{`${item.code} - ${item.name}`}\n\t\t\t\t\t\t\t</option>,\n\t\t\t\t\t\t)}\n\t\t\t\t\t</DepartmentSelect>\n\t\t\t\t\t<CatalogInput className='catalog-input' min='0' onChange={handlers.handleCatalogChange} value={catalog} placeholder='Enter Catalog Number' disabled={disabled.catalog} />\n\t\t\t\t\t<SectionInput className='section-input' min='0' onChange={handlers.handleSectionChange} value={section} placeholder='Enter Section Number' disabled={disabled.section} />\n\t\t\t\t\t<AddButton className='add-course-button' type='submit' disabled={disabled.submit}>Add</AddButton>\n\t\t\t\t</form>\n\n\t\t\t\t<PermissionTable placeholder={`Enter courseID`} data={reducedCourses} removeFunc={handlers.removeCourse} />\n\n\t\t\t\t<h4>TA / Faculty</h4>\n\n\t\t\t\t<Search className='faculty-submit' onSubmit={handlers.addTaFaculty}>\n\t\t\t\t\t<input className='faculty-input' type='search' placeholder={`Enter netID or name`} onChange={handlers.handleTaFacultyChange} value={taFaculty} />\n\t\t\t\t\t<AddButton className='add-faculty-button' type='submit' disabled={disabled.taFaculty}>Add</AddButton>\n\t\t\t\t</Search>\n\n\t\t\t\t<PermissionTable data={reducedAdmins} removeFunc={handlers.removeFaculty} />\n\n\t\t\t\t<h4>Audit Exceptions</h4>\n\n\t\t\t\t<Search className='exceptions-submit' onSubmit={handlers.addException}>\n\t\t\t\t\t<input className='exceptions-input' type='search' placeholder={`Enter netID or name`} onChange={handlers.handleExceptionChange} value={exception} />\n\t\t\t\t\t<AddButton className='add-exceptions-button' type='submit' disabled={disabled.exception}>Add</AddButton>\n\t\t\t\t</Search>\n\n\t\t\t\t<PermissionTable className='exceptions-table' data={reducedExceptions} removeFunc={handlers.removeException} />\n\n\t\t\t</Style>\n\t\t)\n\t}\n}\n\nexport default CollectionPermissions\n","import styled from 'styled-components'\n\nimport blockView from 'assets/block-view.svg'\nimport listView from 'assets/list-view.svg'\n\nconst Style = styled.div`\nmax-width: 100rem;\n\npadding: 8.4rem 2.4rem 0 2.4rem;\nmargin: 0 auto;\n\n& header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 2rem;\n\n\t& > div {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\n\t\t& > h3 {\n\t\t\tfont-weight: bold;\n\t\t\tfont-size: 1.2rem;\n\t\t}\n\n\t\t& a {\n\t\t\tfont-weight: 300;\n\t\t\tfont-size: 1.2rem;\n\t\t\ttext-decoration: none;\n\t\t\tcolor: #000;\n\t\t}\n\n\t\t& > button {\n\t\t}\n\t}\n}\n`\n\nexport default Style\n\nexport const ViewToggle = styled.button`\n\tbackground: url(${props => props.displayBlocks ? listView : blockView}) center no-repeat;\n\tbackground-size: cover;\n\tborder: none;\n\theight: 1.5rem;\n\twidth: 1.5rem;\n\tmargin-left: 5rem;\n\toutline: none;\n\tcursor: pointer;\n`\n","import React, { PureComponent, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport {\n\tListCollection,\n\tBlockCollection,\n} from 'components/bits'\n\nimport Style, { ViewToggle } from './styles'\n\nexport default class Collections extends PureComponent {\n\n\trender() {\n\n\t\tconst {\n\t\t\tisProf,\n\t\t\tisAdmin,\n\t\t\tdisplayBlocks,\n\t\t\tcollections,\n\t\t\tcontentIds,\n\t\t\tcollectionsLength,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\ttoggleCollectionsDisplay,\n\t\t} = this.props.handlers\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<header>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3>Collections</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t(isProf || isAdmin) &&\n\t\t\t\t\t\t\t<Link to={`/manager`} >Manage Collections</Link>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<ViewToggle displayBlocks={displayBlocks} onClick={toggleCollectionsDisplay} />\n\t\t\t\t\t</div>\n\t\t\t\t</header>\n\t\t\t\t<div className='list'>\n\t\t\t\t\t{ collectionsLength > 0 ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{\tdisplayBlocks ?\n\t\t\t\t\t\t\t\tObject.keys(collections).map(key => <BlockCollection key={key} collection={collections[key]}/>)\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\tObject.keys(collections).map(key => <ListCollection key={key} collection={collections[key]}/>)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<h1>There are no collections to display</h1>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</Style>\n\t\t)\n\t}\n}","import styled, { keyframes, css} from 'styled-components'\nimport { Link } from 'react-router-dom'\n\nimport translation from 'assets/translation.svg'\nimport captions from 'assets/captions.svg'\nimport annotations from 'assets/annotations.svg'\n\nconst Style = styled.div`\n\tpadding: 2rem;\n\n\t& * {\n\t\t:focus {\n\t\t\toutline: none;\n\t\t}\n\t}\n`\n\nexport default Style\n\nconst shimmer = keyframes`\n\t0% {\n\t\tbackground-position: -30rem 0;\n\t}\n\t100% {\n\t\tbackground-position: 30rem 0;\n\t}\n`\n\nexport const Preview = styled.div`\n\n\tdisplay: flex;\n\n\t& > div:nth-child(1) {\n\t\tmin-width: 14rem;\n\t\tmargin: 0px 2rem 0px 0px;\n\t}\n\n\t& > div:nth-child(2) {\n\n\t\tflex: 1;\n\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-between;\n\t\tmargin: 0px 0px 0px 2rem;\n\n\t\t& .content-title {\n\t\t\tfont-weight: 500;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t& ul {\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: repeat(3, 2rem);\n\t\t\tgrid-gap: .5rem;\n\t\t}\n\n\t\t& em {\n\t\t\tfont-weight: lighter;\n\t\t}\n\t}\n\n\t& > div:nth-child(3) {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t}\n`\n\nconst TextButton = css`\n\tbackground: transparent;\n\tborder: none;\n\tcolor: #0582CA;\n\toutline: none;\n\theight: fit-content;\n\tcursor: pointer;\n`\nexport const EditButton = styled.button`\n\t${TextButton}\n\n\tfont-size: 1.5rem;\n`\n\nexport const Icon = styled.li`\n\twidth: 2rem;\n\theight: 2rem;\n\tbackground-size: contain;\n\tlist-style: none;\n\n\t&.translation {\n\t\tbackground: url(${translation}) center no-repeat;\n\t\tdisplay: ${props => props.checked ? `block` : `none`};\n\t}\n\n\t&.captions {\n\t\tbackground: url(${captions}) center no-repeat;\n\t\tdisplay: ${props => props.checked ? `block` : `none`};\n\t}\n\n\t&.annotations {\n\t\tbackground: url(${annotations}) center no-repeat;\n\t\tdisplay: ${props => props.checked ? `block` : `none`};\n\t}\n`\n\nexport const Placeholder = styled.div`\n\twidth: 10rem;\n\theight: 6.1rem;\n\tbackground-color: #eee;\n\tbackground-image: linear-gradient(to right, #eee 0%, #fff 50%, #eee 100%);\n\tbackground-repeat: no-repeat;\n\n\tanimation: ${shimmer} 2s linear infinite;\n\tanimation-fill-mode: forwards;\n`\n\nexport const Thumbnail = styled.div`\n\twidth: 10rem;\n\theight: 6.1rem;\n\tbackground-color: #eee;\n\tbackground-size: no-repeat;\n\tbackground-size: cover;\n\tbackground-image: url(${props => props.src});\n`\n\nexport const TitleEdit = styled.input`\n\tposition: relative;\n\tdisplay: inline-block;\n\ttop: -.3rem;\n\tleft: -.2rem;\n\tmargin-bottom: -.6rem;\n`\n\nexport const PublishButton = styled.button`\n\tcolor: ${props => props.published ? `#FFBF00` : `#0582CA`};\n\tfont-weight: bold;\n\tline-height: 1.5rem;\n\tletter-spacing: .05rem;\n\n\tbackground: transparent;\n\twidth: fit-content;\n\n\tborder: none;\n\tpadding: 0;\n\n\tcursor: pointer;\n\toutline: none;\n`\n\nexport const RemoveButton = styled.button`\n\tcolor: #ff4c4c;\n\tfont-weight: bold;\n\tline-height: 1.5rem;\n\tletter-spacing: .05rem;\n\n\tbackground: transparent;\n\twidth: fit-content;\n\n\tborder: none;\n\tpadding-left: 20px;\n\n\tcursor: pointer;\n\toutline: none;\n`\n\nexport const StyledLink = styled(Link)`\n\t${TextButton} //reuses TextButton css\n`\n\nexport const InnerContainer = styled.div`\n\tdisplay: grid;\n\tgrid-gap: 2rem;\n\tmargin-top: 10px;\n\tgrid-template-columns: 1fr 1fr 2fr;\n\tpadding: 2rem 1rem;\n\tborder-radius: 5px;\n\tbox-shadow: 0px 2px 5px rgba(0,0,0,0.3);\n\tbackground-color: white;\n\n\t& .tags {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t}\n\n\t& .tag-input {\n\t}\n`\n\nexport const Column = styled.div`\n\tmargin-right: 1rem;\n\n\t& > h4 {\n\t\talign-items: center;\n\t\tborder-bottom: 1px solid #c4c4c4;\n\t\tdisplay: grid;\n\t\tgrid-gap: 1rem;\n\t\tgrid-template-columns: 1fr 1.8rem;\n\t\tline-height: 2rem;\n\t\tmargin-bottom: 1rem;\n\t\tfont-size: 1.4rem;\n\t}\n\n\t& textarea {\n\t\twidth: 100%;\n\t}\n\n\t& .add-tag {\n\t\tborder-radius: 10px;\n    font-size: 1.3rem;\n    color: white;\n    background-color: var(--light-blue);\n    border: 2px solid transparent;\n    width: 5rem !important;\n    margin: 0px auto 0px auto;\n    font-weight: bold;\n\n\t\t:hover {\n\t\t\tborder: 2px solid var(--navy-blue)\n\t\t}\n\t}\n`\n\nexport const Setting = styled.div`\n\tdisplay: grid;\n\tgrid-gap: 1rem;\n\tgrid-template-columns: 1fr 1.8rem;\n\tjustify-content: space-between;\n\tmargin-bottom: .5rem;\n\n\t& > p {\n\t\tdisplay: block;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\twidth: inherit;\n\t}\n`","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\n\nimport { resourceService, contentService } from 'services'\n\nimport { SwitchToggle, AspectRadio, Tag, Spinner, LazyImage } from 'components/bits'\n\nimport Style, {\n\tEditButton,\n\tIcon,\n\tPreview,\n\tPublishButton,\n\tRemoveButton,\n\tTitleEdit,\n\tStyledLink,\n\tSetting,\n\tColumn,\n\tInnerContainer,\n} from './styles'\n\nclass ContentOverview extends PureComponent {\n\trender() {\n\n\t\tconst {\n\t\t\tediting,\n\t\t\tcontent,\n\t\t\tshowing,\n\t\t\ttag,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\thandleNameChange,\n\t\t\thandleRemoveContent,\n\t\t\thandleToggleEdit,\n\t\t\thandleTogglePublish,\n\t\t\tsetContentState,\n\t\t\tsetShowing,\n\t\t\taddTag,\n\t\t\tremoveTag,\n\t\t\thandleToggleSettings,\n\t\t\thandleDescription,\n\t\t\tchangeTag,\n\t\t} = this.props.handlers\n\n\t\tconst {\n\t\t\tallowDefinitions,\n\t\t\tshowCaptions,\n\t\t\tshowAnnotations,\n\t\t} = content.settings\n\n\t\tconst {\n\t\t\tkeywords,\n\t\t} = content.resource\n\n\t\tconst {\n\t\t\tdescription,\n\t\t} = content\n\n\t\t// const allowDefinitions = content['allow-definitions'] // <-- ?? -Matthew\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<Preview>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<LazyImage src={content.thumbnail} height='8rem' width='14rem' />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{editing ?\n\t\t\t\t\t\t\t<TitleEdit type='text' value={content.name} onChange={handleNameChange} />\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<h3 className={`content-title`}>{content.name}</h3>}\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<Icon className='translation' checked={allowDefinitions} />\n\t\t\t\t\t\t\t<Icon className='captions' checked={showCaptions} />\n\t\t\t\t\t\t\t<Icon className='annotations' checked={showAnnotations} />\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t{editing ||\n\t\t\t\t\t\t\t<StyledLink to={`/trackeditor/${content.id}`}>Track Editor</StyledLink>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{editing ?\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<PublishButton published={content.published} onClick={handleTogglePublish}>{content.published ? `Unpublish` : `Publish`}</PublishButton>\n\t\t\t\t\t\t\t\t<RemoveButton onClick={handleRemoveContent}>Delete</RemoveButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<em>{content.published ? `Published` : `Unpublished`}</em>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<EditButton className='edit-button' onClick={handleToggleEdit}>{editing ? `Save` : `Edit`}</EditButton>\n\t\t\t\t\t</div>\n\t\t\t\t</Preview>\n\t\t\t\t{editing &&\n\t\t\t\t\t<InnerContainer>\n\t\t\t\t\t\t<Column>\n\t\t\t\t\t\t\t<h4>Allow automatic definitions\n\t\t\t\t\t\t\t\t<SwitchToggle on={allowDefinitions} setToggle={handleToggleSettings} size={1.5} data_key='allowDefinitions' />\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\tCaptions\n\t\t\t\t\t\t\t\t<SwitchToggle on={showCaptions} setToggle={handleToggleSettings} size={1.5} data_key='showCaptions' />\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t</Column>\n\n\t\t\t\t\t\t<Column>\n\t\t\t\t\t\t\t<h4>Tags</h4>\n\t\t\t\t\t\t\t<div style={{ display: `flex` }}>\n\t\t\t\t\t\t\t\t<input type='text' placeholder='Add tags...' onChange={changeTag} value={tag} className='tag-input' />\n\t\t\t\t\t\t\t\t<button className={`add-tag`} onClick={addTag}>Add</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t<div className='tags'>\n\t\t\t\t\t\t\t\t{keywords.map((item, index) => item === `` ? null : <Tag key={index} onClick={removeTag}>{item}</Tag>)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Column>\n\n\t\t\t\t\t\t<Column>\n\t\t\t\t\t\t\t<h4>Description</h4>\n\t\t\t\t\t\t\t<textarea rows={4} onChange={handleDescription} value={description} />\n\t\t\t\t\t\t</Column>\n\t\t\t\t\t</InnerContainer>\n\t\t\t\t}\n\t\t\t</Style>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tresourceCache: state.resourceCache,\n})\n\nconst mapDispatchToProps = {\n\tgetResources: resourceService.getResources,\n\tupdateContent: contentService.updateContent,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ContentOverview)\n","import styled from 'styled-components'\n\nimport carat from 'assets/carat_white.svg'\n\nconst Style = styled.div`\n\twidth: 100%;\n\theight: 100%;\n\tposition: relative;\n\t/* max-height: 65vh; */\n\tz-index: 20;\n\toverflow-y: visible;\n\n\t& .video {\n\t\theight: calc(100% - 50px) !important;\n\t\twidth: 100% !important;\n\t}\n`\n\nexport default Style\n\nexport const TimeBar = styled.div`\n\n\t--scale: ${props => props.scale};\n\n\t--timeline-start: 16rem;\n\t--header-height: 50px;\n\t/*\n\t--dark-gray: #303030;\n\t--light-gray: #4F4F4F;\n\t--lighter-gray: #565656;\n\tcolor: #5F5F5F; */\n\n\t/* position: relative; */\n\theight: var(--header-height);\n\tbox-sizing: border-box;\n\ttransition: height .5s cubic-bezier(0, 0, 0, 1.07);\n\tcursor: ${props => props.cursor};\n\tdisplay: flex;\n\tflex-direction: column;\n\tz-index: 20;\n\n\t& > header {\n\t\twidth: 100%;\n\t\theight: var(--header-height);\n\t\tbox-sizing: border-box;\n\t\tborder: 1px solid rgba(255, 255, 255, 0.8);\n\t\tborder-left: none;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tbackground-color: var(--navy-blue);\n\n\t\t& .scrubber {\n\t\t\tcolor: black;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-evenly;\n\n\t\t\twidth: 100%;\n\n\t\t\tcursor: pointer;\n\n\t\t\t& > .time {\n\t\t\t\tcolor: white;\n\t\t\t\tposition: relative;\n\t\t\t\ttop: 1px;\n\t\t\t\twidth: 5rem;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tz-index: 20;\n\t\t\t}\n\n\t\t\t& > #time-bar {\n\t\t\t\toverflow-x: scroll;\n\t\t\t\toverflow-y: hidden;\n\t\t\t\tposition: relative;\n\t\t\t\theight: 50px;\n\t\t\t\tflex: 1;\n\t\t\t\tz-index: 20;\n\n\t\t\t\t& #time-bar-container {\n\t\t\t\t\tmargin-top: 20px;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\theight: .75rem;\n\t\t\t\t}\n\n\t\t\t\t& .total {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t}\n\n\t\t\t\t& #time-dot {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 2px;\n\t\t\t\t\tfloat: left;\n\t\t\t\t\tleft: ${props => props.played ? (`calc(${props.played * 100}% - 2px)`) : (`calc(${props.played * 100}% - 2px)`)};\n\t\t\t\t\tmargin: 0px;\n\t\t\t\t\twidth: 4px;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tbackground-color: transparent;\n\t\t\t\t}\n\n\t\t\t\t& #time-indicator {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tfloat: left;\n\t\t\t\t\ttop: 0px;\n\t\t\t\t\tleft: ${props => props.played * 100}%;\n\t\t\t\t\tmargin: 0px;\n\t\t\t\t\twidth: 2px;\n\t\t\t\t\theight: 100vh;\n\t\t\t\t\tbackground-color: red;\n\t\t\t\t\tz-index: 20;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t& button {\n\n\t\t\theight: 1.5rem;\n\t\t\twidth: 1.5rem;\n\n\t\t\tmargin: 0 1.5rem;\n\t\t\tpadding: 0;\n\n\t\t\tborder: none;\n\t\t\tcursor: pointer;\n\t\t\tbackground: transparent;\n\t\t\toutline: none;\n\t\t\tcolor: black;\n\n\t\t\t& > img {\n\t\t\t\theight: 1.5rem;\n\t\t\t\twidth: 1.5rem;\n\t\t\t\tobject-fit: contain;\n\t\t\t\tobject-position: center;\n\t\t\t}\n\n\t\t\t&.play-btn {\n\t\t\t\tposition: relative;\n\t\t\t\theight: calc(var(--header-height) - 2px);\n\t\t\t\twidth: var(--header-height);\n\t\t\t\tmargin: 0 2rem 0 0;\n\t\t\t\tborder-right: 1px solid rgba(255, 255, 255, 0.8);\n\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tbackground-color: var(--navy-blue);\n\n\t\t\t\t& > img {\n\t\t\t\t\theight: 2rem;\n\t\t\t\t\twidth: 2rem;\n\t\t\t\t}\n\n\t\t\t\t& > span.carat {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tright: -.75rem;\n\t\t\t\t\ttop: calc(var(--header-height) / 2);\n\t\t\t\t\tmargin-top: -.5rem;\n\n\t\t\t\t\theight: 1rem;\n\t\t\t\t\twidth: 1rem;\n\n\t\t\t\t\ttransform-origin: .5rem .5rem;\n\t\t\t\t\ttransform: rotate(45deg);\n\t\t\t\t\tborder-top: 1px solid rgba(255, 255, 255, 0.8);\n\t\t\t\t\tborder-right: 1px solid rgba(255, 255, 255, 0.8);\n\t\t\t\t\tbackground-color: white;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\n`\nexport const Blank = styled.div`\n\tposition: absolute;\n\tbackground-color: ${props => props.blank ? ('black') : ('transparent')};\n\tz-index: 10;\n\twidth: 100%;\n\theight: calc(100% - 50px);\n`\nexport const Censor = styled.div`\n\t--top: ${props => props.y !== 0 ? `${props.y}%` : `0%`};\n\t--left: ${props => props.x !== 0 ? `${props.x}%` : `0%`};\n\t--wProp: ${props => props.wProp !== 0 ? `${props.wProp}%` : '0%'};\n\t--hProp: ${props => props.hProp !== 0 ? `${props.hProp}%` : '0%'};\n\n\t/* TIME X Y WIDTH HEIHT */\n\t/* FIND BLUR EFFECT */\n\n\tposition: absolute;\n\ttop: calc((var(--top)) - (var(--hProp)/2)) !important;\n\tleft: calc(var(--left) - (var(--wProp)/2)) !important;\n\twidth: var(--wProp);\n\theight: var(--hProp);\n\ttransition: .5s ease;\n\t& canvas {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground-color: transparent;\n\t\tbackdrop-filter: ${ props => props.active ? ('blur(30px)') : 'blur(0px)' };\n\t}\n`\nexport const Comment = styled.div`\n\t--x: ${props => props.commentX !== 0 ? `${props.commentX}%` : `0%`};\n\t--y: ${props => props.commentY !== 0 ? `${props.commentY}%` : `0%`};\n\n\tposition: absolute;\n\ttop: var(--y);\n\tleft: calc(var(--x));\n\tfont-size: 2rem;\n\tcolor: white;\n\tz-index: 15;\n`\nexport const ToggleCarat = styled.div`\n\twidth: 40px !important;\n\theight: 48px !important;\n\tposition: absolute;\n\tright: 5px;\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\t/* background: url(${carat}) center no-repeat; */\n\t/* background-size: contain; */\n\tpadding: 0;\n\tbackground-color: var(--navy-blue);\n\tz-index: 20;\n\ttransform: rotate(-90deg);\n\ttransition: transform .25s ease-in-out;\n\tmargin-right: 0px;\n\n\t& img {\n\t\tmargin: auto;\n\t}\n\n\t&.minimized {\n\t\ttransform: rotate(90deg);\n\t}\n`\n","import React, { useRef, useState, useEffect } from 'react'\n\nimport ReactPlayer from 'react-player'\n// import { Rnd } from \"react-rnd\";\n\nimport Style, {TimeBar, ToggleCarat, Blank, Censor, Comment } from './styles'\n\nimport { EventsContainer } from 'containers'\n\nimport play from 'assets/controls_play.svg'\nimport pause from 'assets/controls_pause.svg'\nimport mute from 'assets/controls_unmuted.svg'\nimport unmute from 'assets/controls_muted.svg'\nimport carat from 'assets/carat_white.svg'\n\nconst Controller = props => {\n\n\t// console.log('%c Controller Component', 'color: green; font-weight: bolder; font-size: 12px;')\n\n\tconst {\n\t\turl,\n\t\tgetDuration,\n\t\tminimized,\n\t\t// handleLastClick,\n\t\ttogglendTimeline,\n\t\tgetCurrentTime,\n\t} = props\n\n\tconst ref = useRef(null)\n\tconst videoRef = useRef(null)\n\n\tconst [playing, setPlaying] = useState(false)\n\tconst [volume, setVolumeState] = useState(1)\n\tconst [muted, setMuted] = useState(false)\n\tconst [played, setPlayed] = useState(0)\n\tconst [duration, setDuration] = useState(0) // total time of video\n\tconst [elapsed, setElapsed] = useState(0)\n\tconst [playbackRate, setPlaybackRate] = useState(1)\n\tconst [blank, setBlank] = useState(false)\n\tconst [videoComment, setVideoComment] = useState(``)\n\tconst [commentPosition, setCommentPosition] = useState({x: 0, y: 0})\n\t// const [censorPosition, setCensorPosition] = useState([0,0])\n\t// const [censorActive, SetCensorActive] = useState(false)\n\n\t// const [timelineZoomFactor, setTimelineZoomFactor] = useState(1)\n\tconst [currentZone, setCurrentZone] = useState([0, duration])\n\n\tuseEffect(() => {\n\t\tconst indicator = document.getElementById(`time-indicator`)\n\t})\n\n\tconst video = {\n\n\t\t// state\n\n\t\tplaying,\n\t\tvolume,\n\t\tmuted,\n\t\tplayed,\n\t\tduration,\n\t\telapsed,\n\t\tplaybackRate,\n\n\t\t// handlers\n\n\t\ttoggleMute: () => setMuted(!muted),\n\t\tsetVolume: volume => setVolumeState(volume),\n\n\t\thandleReady: reactPlayer => {\n\t\t\tconst {\n\t\t\t\tplaying,\n\t\t\t\tvolume,\n\t\t\t\tmuted,\n\t\t\t\tplaybackRate,\n\t\t\t} = reactPlayer.props\n\n\t\t\tsetPlaying(playing)\n\t\t\tsetVolumeState(volume)\n\t\t\tsetMuted(muted)\n\t\t\tsetPlaybackRate(playbackRate)\n\t\t},\n\t\thandleProgress: ({ played, playedSeconds }) => {\n\t\t\tif(document.getElementById(`layer-time-indicator`) !== undefined)\n\t\t\t\tdocument.getElementById(`layer-time-indicator-line`).style.width = `calc(${played * 100}%)`\n\t\t\t\t// document.getElementById('time-dot').scrollIntoView()\n\n\t\t\tsetPlayed(played)\n\t\t\tsetElapsed(playedSeconds)\n\n\t\t},\n\t\thandleDuration: duration => {\n\t\t\tif(typeof getDuration === `function`)\n\t\t\t\tgetDuration(duration)\n\n\t\t\tsetDuration(duration)\n\t\t\tsetCurrentZone([0, duration])\n\t\t},\n\t\thandlePlaybackRate: rate => {\n\t\t\tsetPlaybackRate(rate)\n\t\t},\n\t\thandleSeek: (e, time) => {\n\t\t\tlet newPlayed = 0\n\t\t\tif(e !== null){\n\t\t\t\tconst scrubber = e.currentTarget.getBoundingClientRect()\n\t\t\t\tnewPlayed = (e.pageX - scrubber.left) / scrubber.width\n\t\t\t} else\n\t\t\t\tnewPlayed = time / duration\n\n\t\t\tif(newPlayed !== Infinity && newPlayed !== -Infinity){\n\t\t\t\t// console.log(newPlayed)\n\t\t\t\tref.current.seekTo(newPlayed.toFixed(10), `fraction`)\n\t\t\t}\n\t\t},\n\t\thandlePause: () => {\n\t\t\tsetPlaying(false)\n\t\t\t// getCurrentTime(elapsed.toFixed(1))\n\t\t},\n\t\thandlePlay: () => {\n\t\t\tsetPlaying(true)\n\t\t\t// getCurrentTime(elapsed.toFixed(1))\n\t\t},\n\t\thandleMute: () => {\n\t\t\t// console.log('mute event')\n\t\t\tsetMuted(true)\n\t\t},\n\t\thandleUnMute: () => {\n\t\t\t// console.log('Unmute event')\n\t\t\tsetMuted(false)\n\t\t},\n\t\thandleBlank: (bool) => {\n\t\t\tsetBlank(bool)\n\t\t},\n\t\thandleShowComment: (value, position) => {\n\t\t\t// console.log(position)\n\t\t\t// console.log(value)\n\t\t\tsetVideoComment(value)\n\t\t\tsetCommentPosition(position)\n\n\t\t},\n\t\t// handleCensorPosition: (position) => {\n\t\t// \t//console.log(position)\n\t\t// \tif(position !== undefined){\n\t\t// \t\tsetCensorPosition(\n\t\t// \t\t\tposition\n\t\t// \t\t)\n\t\t// \t}\n\t\t// },\n\t\t// handleCensorActive: (bool) => {\n\t\t// \tSetCensorActive(bool)\n\t\t// }\n\t}\n\n\tconst config = {\n\t\tyoutube: {\n\t\t\tplayerVars: {\n\t\t\t\tautoplay: 0,\n\t\t\t\tcontrols: 0,\n\t\t\t\tiv_load_policy: 3,\n\t\t\t\tmodestbranding: 1,\n\t\t\t\trel: 0,\n\t\t\t\tenablejsapi: 1,\n\t\t\t\tshowinfo: 0,\n\t\t\t},\n\t\t\tpreload: true,\n\t\t},\n\t}\n\n\tconst dateElapsed = new Date(null)\n\tdateElapsed.setSeconds(elapsed)\n\tconst formattedElapsed = dateElapsed.toISOString().substr(11, 8)\n\n\tdocument.addEventListener(`keydown`, event => {\n\t\tswitch (event.keyCode) {\n\t\tcase 37:\n\t\t\tvideo.handleSeek(null, elapsed-1)\n\t\t\tbreak\n\t\tcase 39:\n\t\t\tvideo.handleSeek(null, elapsed+1)\n\t\t\tbreak\n\t\tdefault:\n\t\t\tbreak\n\t\t}\n\t})\n\tconst showError = () => {\n\t\talert(`There was an error loading the video`)\n\t}\n\n\treturn (\n\t\t<Style style={{ maxHeight: `${!minimized ? `65vh` : `100vh`}`}}>\n\t\t\t{/* <Style> */}\n\t\t\t{/* <Blank blank={blank} onClick={(e) => handleLastClick(videoRef.current.offsetHeight, videoRef.current.offsetWidth, e.clientX, e.clientY, video.elapsed)} ref={videoRef}> */}\n\t\t\t<Blank blank={blank} id='blank' onContextMenu={e => e.preventDefault()}>\n\t\t\t\t<Comment commentX={commentPosition.x} commentY={commentPosition.y}>{videoComment}</Comment>\n\t\t\t\t{/* <Censor x={censorPosition[0]} y={censorPosition[1]} active={censorActive} wProp={censorPosition[2]} hProp={censorPosition[3]}><canvas></canvas></Censor> */}\n\t\t\t</Blank>\n\t\t\t<ReactPlayer ref={ref} config={config} url={url}\n\t\t\t\tonContextMenu={e => e.preventDefault()}\n\n\t\t\t\t// constants\n\n\t\t\t\tclassName='video'\n\t\t\t\tprogressInterval={100}\n\n\t\t\t\t// state\n\n\t\t\t\tplaying={playing}\n\t\t\t\tvolume={volume}\n\t\t\t\tmuted={muted}\n\t\t\t\tplaybackRate={playbackRate}\n\n\t\t\t\t// handlers\n\n\t\t\t\tonReady={video.handleReady}\n\t\t\t\t// onStart={() => console.log(`onStart`)}\n\t\t\t\t// onBuffer={() => console.log(`onBuffer`)}\n\t\t\t\tonError={()=>{\n\t\t\t\t\tconsole.log(`Error is working`)\n\t\t\t\t\tshowError()\n\t\t\t\t}}\n\n\t\t\t\tonPlay={video.handlePlay}\n\t\t\t\tonPause={video.handlePause}\n\n\t\t\t\tonProgress={video.handleProgress}\n\t\t\t\tonDuration={video.handleDuration}\n\n\t\t\t\t// blank style\n\t\t\t/>\n\t\t\t<TimeBar played={video.played}>\n\t\t\t\t<header>\n\t\t\t\t\t<button className='play-btn' onClick={playing ? video.handlePause : video.handlePlay}>\n\t\t\t\t\t\t<img src={playing ? pause : play} alt={playing ? `pause` : `play`}/>\n\t\t\t\t\t\t<span className='carat'></span>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<div className='scrubber'>\n\t\t\t\t\t\t<span className='time'>{formattedElapsed}</span>\n\n\t\t\t\t\t\t<button className='mute' onClick={video.toggleMute}>\n\t\t\t\t\t\t\t<img src={muted ? unmute : mute} alt={muted ? `unmute` : `mute`}/>\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<div id='time-bar'>\n\t\t\t\t\t\t\t<div id={`time-bar-container`}>\n\t\t\t\t\t\t\t\t<progress className='total' value={`${video.played * 100}`} max='100' onClick={video.handleSeek}></progress>\n\t\t\t\t\t\t\t\t<span id='time-dot'></span>\n\t\t\t\t\t\t\t\t{/* <span id='time-indicator'></span> */}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* <ToggleCarat id={'carat-button'} className={`${minimized ? ` minimized` : ``}`} onClick={e => togglendTimeline()}>\n\t\t\t\t\t\t\t<img src={carat} alt='Toggle Timeline' />\n\t\t\t\t\t\t</ToggleCarat> */}\n\t\t\t\t</header>\n\t\t\t</TimeBar>\n\t\t\t<EventsContainer currentTime={elapsed.toFixed(1)} duration={video.duration}\n\t\t\t\thandleSeek={video.handleSeek}\n\t\t\t\thandleMute={video.handleMute}\n\t\t\t\thandlePlay={video.handlePlay}\n\t\t\t\thandlePause={video.handlePause}\n\t\t\t\thandleUnMute={video.handleUnMute}\n\t\t\t\ttoggleMute={video.toggleMute}\n\t\t\t\thandleBlank={video.handleBlank}\n\t\t\t\thandleShowComment={video.handleShowComment}\n\t\t\t\t// handleCensorPosition={video.handleCensorPosition}\n\t\t\t\t// handleCensorActive={video.handleCensorActive}\n\t\t\t></EventsContainer>\n\t\t</Style>\n\t)\n}\n\nexport default Controller\n\n// https://github.com/CookPete/react-player","import styled from 'styled-components'\n\nimport { Link } from 'react-router-dom'\n\nimport Background from 'assets/desertbackground.svg'\n\nexport const SError = styled.div`\n\twidth: 100%;\n\theight: 100vh;\n\tbackground: url(${Background});\n\tbackground-size: cover;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\n\t&>h1 {\n\t\tfont-size: 28.8rem;\n\t\tcolor: white;\n\t\ttext-shadow: 0 0 15px rgba(255,255,255,1);\n\t\tfont-weight: normal;\n\t\tmargin-top: 10rem;\n\t\tmargin-bottom: 17rem;\n\t\tuser-select: none;\n\t}\n\n\t&>h2 {\n\t\tfont-weight: bold;\n\t\tfont-size: 6.4rem;\n\t\tcolor: white;\n\t\ttext-shadow: 0 0 15px rgba(255,255,255,1);\n\t\tuser-select: none;\n\t}\n`\n\nexport const SLink = styled(Link)`\n\tpadding: 1.5rem;\n\tborder: 2px solid white;\n\tborder-radius: 10rem;\n\tcolor: white !important;\n\ttext-shadow: 0 0 15px rgba(255,255,255,1);\n\tfont-family: 'Roboto Mono';\n\tfont-weight: bold;\n\tfont-size: 1.8rem;\n\ttext-decoration: none;\n\tcursor: pointer;\n\tmargin-top: 8rem;\n`","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\n\nimport { interfaceService } from 'services'\n\nimport { SError, SLink } from './styles'\n\nclass Error extends PureComponent {\n\tcomponentDidMount = () => {\n\t\tthis.props.setLost(true)\n\t\tthis.props.setHeaderBorder(false)\n\t}\n\n\tcomponentWillUnmount = () => {\n\t\tthis.props.setLost(false)\n\t\tthis.props.setHeaderBorder(true)\n\t}\n\n\trender() {\n\t\tconst { error, message } = this.props\n\t\treturn (\n\t\t\t<SError>\n\t\t\t\t<h1>{error}</h1>\n\t\t\t\t<h2>{message}</h2>\n\t\t\t\t<SLink to={`/`}>Go back home</SLink>\n\t\t\t</SError >\n\t\t)\n\t}\n}\n\nconst mapDispatchToProps = {\n\tsetLost: interfaceService.setLost,\n\tsetHeaderBorder: interfaceService.setHeaderBorder,\n}\n\nexport default connect(null, mapDispatchToProps)(Error)\n","import styled from 'styled-components'\n\nconst Style = styled.div`\n\tbackground-color: red;\n`\n\nexport default Style","import React from 'react'\n\nimport Style from './styles'\n\n\nconst Events = props => {\n\n\tconst {currentTime, eventClassArray} = props.viewstate\n\n\t//console.log(eventClassArray)\n\n\t// const currentEvents = eventClassArray.filter(event => event.active === true)\n\n\treturn (\n\t\t<>\n\t\t\t{/* <p>currentTime: {currentTime}</p>\n\t\t\t<ul>currentEvent: {\n\t\t\t\tcurrentEvents.map((event, index) => (\n\t\t\t\t\t<li key={index}>{event.name}</li>\n\t\t\t\t))\n\t\t\t}</ul> */}\n\t\t</>\n\t)\n}\n\nexport default Events\n","import styled from 'styled-components'\n\nimport { Link } from 'react-router-dom'\n\nimport HexLogo from 'assets/hexborder.svg'\n\nconst Style = styled.div`\n\theight: 8.4rem;\n\twidth: 100%;\n\t/* box-shadow: 0 -.5rem 3rem 0 rgba(0,0,0,0.25); */\n\t/* padding: 0 2.4rem; */\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\n\tborder-bottom: ${props => props.border ? `1px solid #c4c4c4` : `none`};\n\n\tposition: fixed;\n\tbackground-color: ${props => props.backgroundColor};\n\n\tz-index: 16;\n\n\t& > button {\n\t\tbackground-color: #0157b8;\n\t\tborder: none;\n\t\tcolor: white;\n\t\tpadding: 1rem;\n\t\tborder-radius: .3rem;\n\t\tmargin-right: 7.4rem;\n\t\tcursor: pointer;\n\t}\n`\n\nexport default Style\n\nexport const LogoWrapper = styled(Link)`\n\tdisplay: flex;\n\talign-items: center;\n\n\ttext-decoration: none;\n\tcolor: black;\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-left: 2.4rem;\n`\n\nexport const Name = styled.h1`\n\tfont-family: 'Roboto Mono';\n\tfont-weight: bold;\n\tfont-size: 1.8rem;\n\tline-height: 2.1rem;\n\tmargin: 0 0 0 1.3rem;\n\n\tz-index: 2;\n\n\tbackground: linear-gradient(to right, #0582CA 0%, #002E5D 100%);\n\t-webkit-background-clip: text;\n\t-webkit-text-fill-color: transparent;\n`\n\nexport const Shadow = styled.h1`\n\tposition: absolute;\n\tz-index: 1;\n\n\tcolor: white;\n\n\tfont-family: 'Roboto Mono';\n\tfont-weight: bold;\n\tfont-size: 1.8rem;\n\tline-height: 2.1rem;\n\tmargin: 0 0 0 4.9rem;\n\n\ttext-shadow: -.125rem 0 white, 0 .125rem white, .125rem 0 white, 0 -.125rem white, -.125rem .125rem white, .125rem .125rem white, .125rem -.125rem white, -.125rem -.125rem white;\n`\n\nexport const Logo = styled.div`\n\tbackground: url(${HexLogo}) no-repeat center;\n\tbackground-size: contain;\n\theight: 3.6rem;\n\twidth: 3.6rem;\n`","import React, { PureComponent } from 'react'\n\nimport Style, { LogoWrapper, Name, Shadow, Logo} from './styles'\n\nexport default class Header extends PureComponent {\n\trender() {\n\n\t\tconst {\n\t\t\tlost,\n\t\t\tborder,\n\t\t\teditorStyle,\n\t\t} = this.props.viewstate\n\n\t\tlet backgroundColor = `white`\n\n\t\tif (lost) backgroundColor = `transparent`\n\t\telse if (editorStyle) backgroundColor = `transparent`\n\n\t\treturn (\n\t\t\t<Style backgroundColor={backgroundColor} border={border}>\n\t\t\t\t<LogoWrapper to='/'>\n\t\t\t\t\t<Logo />\n\t\t\t\t\t<Name>YVIDEO</Name>\n\t\t\t\t\t<Shadow>YVIDEO</Shadow>\n\t\t\t\t</LogoWrapper>\n\t\t\t</Style>\n\t\t)\n\t}\n}\n","import styled from 'styled-components'\n\nimport searchIcon from 'assets/search.svg'\n\nconst Style = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\theight: calc(100vh - 8.4rem);\n\tbackground-color: #fafafa;\n\tpadding-top: 8.4rem;\n\n\t& > div {\n\t\tdisplay: flex;\n\t}\n\n\t& > h1 {\n\t\tmargin: 5rem 0 4rem 0;\n\t\tfont-weight: normal;\n\t}\n`\n\nexport default Style\n\nexport const Search = styled.form`\n\tposition: relative;\n\n\t& > input {\n\t\tz-index: 1;\n\t\tbackground: white;\n\n\t\theight: 4rem;\n\t\twidth: 30rem;\n\n\t\tfont-size: 1.5rem;\n\n\t\tborder: none;\n\t\tborder-radius: 2rem;\n\n\t\tmargin-left: 1rem;\n\n\t\tpadding: 0 1.25rem 0 3.25rem;\n\n\t\toutline: none;\n\t\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\t}\n`\n\nexport const SearchIcon = styled.span`\n\tposition: absolute;\n\tz-index: 10;\n\ttop: 1rem;\n\tleft: 2rem;\n\tbackground: url(${searchIcon}) center no-repeat;\n\tbackground-size: contain;\n\theight: 2rem;\n\twidth: 2rem;\n`\n","import React, { PureComponent } from 'react'\n\nimport { LabAssistantTable } from 'components/bits'\n\nimport Style, { Search, SearchIcon } from './styles'\n\nexport class LabAssistant extends PureComponent {\n\trender() {\n\n\t\tconst {\n\t\t\tdata,\n\t\t\tplaceholder,\n\t\t\tsearchQuery,\n\t\t\tshowResource,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\tupdateSearchBar,\n\t\t\thandleSubmit,\n\t\t\thandleShowResource,\n\t\t} = this.props.handlers\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<h1>Lab Assistant Dashboard</h1>\n\t\t\t\t<Search onSubmit={handleSubmit}>\n\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t<input type='search' placeholder={placeholder} onChange={updateSearchBar} value={searchQuery} />\n\t\t\t\t</Search>\n\t\t\t\t<LabAssistantTable data={data} show={showResource} handleShowResource={handleShowResource}/>\n\t\t\t</Style>\n\t\t)\n\t}\n}\n\nexport default LabAssistant\n","import styled from 'styled-components'\n\nimport LComets from 'assets/CometsLeft.svg'\nimport RComets from 'assets/CometsRight.svg'\nimport HexLogo from 'assets/hexborder.svg'\n\nexport const Wrapper = styled.div`\n\twidth: 100%;\n\theight: 100vh;\n\tdisplay: flex;\n`\n\nexport const Comets = styled.div`\n\tflex: 1;\n\theight: 100vh;\n\tmargin: 0;\n\tbackground-color: transparent;\n\n\t@media (max-width: 780px) {\n\t\tbackground-size: contain !important;\n\t}\n\n\t&.left{\n\t\tbackground: url(${LComets}) no-repeat bottom left;\n\t}\n\n\t&.right{\n\t\tbackground: url(${RComets}) no-repeat top right;\n\t}\n`\n\nexport const Welcome = styled.div`\n\tposition: fixed;\n\twidth: 100%;\n\theight: 100vh;\n\tbackground: transparent;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\n\t& > div {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\n\t\t& > h1 {\n\t\t\tfont-family: 'Roboto Mono';\n\t\t\tfont-size: 4.8rem;\n\t\t\tmargin: 0 0 0 2rem;\n\t\t\theight: 4.8rem;\n\t\t\tline-height: 4.8rem;\n\n\t\t\tbackground: linear-gradient(to right, #0582CA 0%, #002E5D 100%);\n\t\t\tbackground-clip: text;\n\t\t\t-webkit-background-clip: text;\n\t\t\t-webkit-text-fill-color: transparent;\n\t\t}\n\n\t\t&.button-wrapper {\n\t\t\tflex-direction: column;\n\t\t\tmargin-top: 8rem;\n\t\t}\n\t}\n`\n\nexport const Logo = styled.div`\n\tbackground: url(${HexLogo}) no-repeat center;\n\tbackground-size: contain;\n\theight: 10rem;\n\twidth: 10rem;\n`\n\nexport const Button = styled.button`\n\tfont-family: 'Roboto Mono';\n\tfont-weight: bold;\n\tfont-size: 2.4rem;\n\tpadding: 1.5rem 10rem;\n\tborder-radius: 100rem;\n\tborder: none;\n\ttext-transform: uppercase;\n\ttext-decoration: none;\n\tmargin: 0 0 2.6rem 0;\n\tcursor: pointer;\n\toutline: none;\n\n\t&.primary {\n\t\tbackground-color: #0582CA;\n\t\tcolor: white;\n\t}\n\n\t&.secondary {\n\t\tbackground-color: transparent;\n\t\tcolor: #0582CA;\n\t}\n`\n","import React, { PureComponent } from 'react'\n\nimport { Overlay } from 'components'\n\nimport { Wrapper, Comets, Welcome, Logo, Button } from './styles'\n\nclass Landing extends PureComponent {\n\trender() {\n\n\t\tconst {\n\t\t\toverlay,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\ttoggleOverlay,\n\t\t\thandleLogin,\n\t\t} = this.props.handlers\n\n\t\treturn (\n\t\t\t<Wrapper>\n\t\t\t\t<Comets className='left' />\n\t\t\t\t<Comets className='right' />\n\n\t\t\t\t<Welcome>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Logo />\n\t\t\t\t\t\t<h1>YVIDEO</h1>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='button-wrapper'>\n\t\t\t\t\t\t<Button className='primary' onClick={handleLogin}>Sign In</Button>\n\t\t\t\t\t\t<Button className='secondary' onClick={toggleOverlay}>About</Button>\n\t\t\t\t\t</div>\n\n\t\t\t\t</Welcome>\n\n\t\t\t\t{ overlay && <Overlay toggleOverlay={toggleOverlay} /> }\n\n\t\t\t</Wrapper>\n\t\t)\n\t}\n}\n\nexport default Landing\n","import styled, { keyframes } from 'styled-components'\nimport logo from 'assets/hexborder.svg'\n\nconst fadein = keyframes`\nfrom {\n\topacity: 0;\n}\nto {\n\topacity: 1;\n}\n`\n\nconst fadeout = keyframes`\nfrom {\n\topacity: 1;\n}\nto {\n\topacity: 0;\n}\n`\n\nexport const Wrapper = styled.div`\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100vh;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\tbackground-color: white;\n\n\tz-index: 50;\n\n\topacity: 0;\n\tanimation: ${fadeout} .25s ease-in-out;\n\n\t&.active {\n\t\topacity: 1;\n\t\tanimation: ${fadein} .01s;\n\t}\n\n\t&.hidden {\n\t\tdisplay: none;\n\t}\n`\n\nconst rotate = keyframes`\n\tfrom {\n\t\ttransform: rotate(0deg);\n\t}\n\tto {\n\t\ttransform: rotate(720deg);\n\t}\n`\n\nexport const Spinner = styled.div`\n\tbackground: url(${logo}) center no-repeat;\n\tbackground-size: cover;\n\twidth: 20rem;\n\theight: 20rem;\n\n\tanimation: ${rotate} 2.5s ease-in-out infinite;\n`","import React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { Wrapper, Spinner } from './styles'\n\nclass Load extends Component {\n\n\trender() {\n\t\treturn ReactDOM.createPortal(\n\t\t\t(\n\t\t\t\t<Wrapper ref={this.wrapper} className='hidden'>\n\t\t\t\t\t<Spinner />\n\t\t\t\t</Wrapper>\n\t\t\t)\n\t\t\t,\n\t\t\tdocument.getElementById('load'))\n\t}\n\n\tcomponentDidUpdate = prevProps => {\n\n\t\tconsole.log(this.props)\n\n\t\tif (!prevProps.loading && this.props.loading) {\n\t\t\tthis.wrapper.current.classList.add('active')\n\t\t\tthis.wrapper.current.classList.remove('hidden')\n\t\t}\n\t}\n\n}\n\nexport default Load","import styled from 'styled-components'\n\nconst Style = styled.div`\n  & > header {\n    height: 12rem;\n    padding: 0 3.8rem;\n\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    & h6 {\n      font-size: 1.8rem;\n      font-weight: bold;\n    }\n\n    & p {\n      color: #a4a4a4;\n      margin-top: 1.7rem;\n    }\n  }\n`\n\nexport default Style\n\nexport const Title = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nexport const TitleEdit = styled.input`\n  margin-left: -0.3rem;\n  font-size: 1.8rem;\n  font-weight: bold;\n`\n\nexport const TitleEditButton = styled.div`\n  color: ${props => props.editing ? `#0582CA` : `#a4a4a4;`};\n  font-weight: bold;\n  cursor: pointer;\n  margin-top: 0;\n  margin-left: 1rem;\n`\n\nexport const PublishButton = styled.button`\n  color: white;\n  font-weight: bold;\n  background-color: ${props => props.published ? `#FFBF00` : `#0582CA`};\n\n  letter-spacing: 0.05rem;\n\n  padding: 0.8rem 1.5rem;\n  margin-right: 3rem;\n\n  border: none;\n  border-radius: 0.3rem;\n\n  cursor: pointer;\n  outline: none;\n`\n\nexport const ArchiveButton = styled.button`\n  color: #ff4c4c;\n  font-weight: bold;\n\n  letter-spacing: 0.05rem;\n\n  padding: 0;\n  background: transparent;\n\n  border: none;\n  cursor: pointer;\n  outline: none;\n`\n\nexport const Tab = styled.div`\n  background-color: white;\n  overflow-y: scroll;\n\n  border-top: 1px solid #c4c4c4;\n\n  padding: 2rem;\n\n  height: calc(100vh - 24.6rem);\n`\n\nexport const TabHeader = styled.div`\n  position: absolute;\n  top: 18rem;\n\n  padding-left: 2rem;\n\n  height: 2.5rem;\n\n  & > button {\n    padding: 0;\n    width: 10rem;\n    background: transparent;\n    height: 2.5rem;\n\n    border: none;\n    outline: none;\n    cursor: pointer;\n  }\n`\n\nexport const Selector = styled.div`\n  position: absolute;\n\n  bottom: 0;\n  left: ${props => props.isContent ? `2rem` : `12rem`};\n\n  transition: left 0.3s ease-in-out;\n\n  height: 0.25rem;\n  width: 10rem;\n\n  background-color: #0582ca;\n`\n\nexport const NewContent = styled.button`\n  width: calc(100% - 4rem);\n  height: 6.1rem;\n\n  margin: 2rem;\n\n  border: none;\n  border-radius: 0.3rem;\n\n  background-color: #eee;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  outline: none;\n  cursor: pointer;\n`\n\nexport const Icon = styled.div`\n  background: url(${props => props.src}) center no-repeat;\n  background-size: contain;\n\n  height: 2rem;\n  width: 2rem;\n`\n","import React, { PureComponent } from 'react'\n\nimport {\n\tContentOverviewContainer,\n\tCollectionPermissionsContainer,\n} from 'containers'\n\nimport Style, {\n\tTitle,\n\tTitleEdit,\n\tTitleEditButton,\n\tPublishButton,\n\tArchiveButton,\n\tTabHeader,\n\tSelector,\n\tTab,\n\tNewContent,\n\tIcon,\n} from './styles'\n\nimport plus from 'assets/plus_gray.svg'\n\nexport default class ManageCollection extends PureComponent {\n\trender() {\n\t\tconst {\n\t\t\tadmin,\n\t\t\tcollection,\n\t\t\tcollectionName,\n\t\t\tisEditingCollectionName,\n\t\t\tisContent,\n\t\t\tcontent,\n\t\t\tisLabAssistant,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\tunarchive,\n\t\t\ttoggleEdit,\n\t\t\thandleNameChange,\n\t\t\ttogglePublish,\n\t\t\tarchive,\n\t\t\tsetTab,\n\t\t\tcreateContent,\n\t\t} = this.props.handlers\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<header>\n\t\t\t\t\t<Title>\n\t\t\t\t\t\t{isEditingCollectionName ? (\n\t\t\t\t\t\t\t// TODO When switching between collections, it uses the same value\n\t\t\t\t\t\t\t<TitleEdit\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tvalue={collectionName}\n\t\t\t\t\t\t\t\tcontenteditable='true'\n\t\t\t\t\t\t\t\tonChange={handleNameChange}\n\t\t\t\t\t\t\t\tclassName={`title-edit`}\n\t\t\t\t\t\t\t\tonKeyPress={event => {\n\t\t\t\t\t\t\t\t\tif (event.key === `Enter`) toggleEdit()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tsize={collectionName.length > 0 ? collectionName.length : 1}\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<h6 onClick={e => toggleEdit(e)}>{collectionName}</h6>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<TitleEditButton\n\t\t\t\t\t\t\tediting={isEditingCollectionName}\n\t\t\t\t\t\t\tonClick={toggleEdit}\n\t\t\t\t\t\t\tclassName={`title-edit-button`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{isEditingCollectionName ? `Save` : `Edit`}\n\t\t\t\t\t\t</TitleEditButton>\n\t\t\t\t\t</Title>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{collection.archived ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{ admin !== undefined ? (\n\t\t\t\t\t\t\t\t\t<>{admin === 0 || admin === 1 ? (\n\t\t\t\t\t\t\t\t\t\t<ArchiveButton onClick={unarchive}>Unarchive</ArchiveButton>\n\t\t\t\t\t\t\t\t\t) : ( <p>Cannot unarchive</p> )}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : null }\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<PublishButton\n\t\t\t\t\t\t\t\t\tpublished={collection.published}\n\t\t\t\t\t\t\t\t\tonClick={togglePublish}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{collection.published ? `Unpublish` : `Publish`}\n\t\t\t\t\t\t\t\t</PublishButton>\n\t\t\t\t\t\t\t\t<ArchiveButton onClick={archive}>Archive</ArchiveButton>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</header>\n\t\t\t\t<TabHeader>\n\t\t\t\t\t<button className={`content-button`} onClick={setTab(true)}>Content</button>\n\t\t\t\t\t<button className={`permissions-button`} onClick={setTab(false)}>Permissions</button>\n\t\t\t\t\t<Selector isContent={isContent} />\n\t\t\t\t</TabHeader>\n\t\t\t\t<Tab>\n\t\t\t\t\t{isContent ?\n\t\t\t\t\t\tcontent.map(item => (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{ isLabAssistant !== undefined ? (\n\t\t\t\t\t\t\t\t\t<ContentOverviewContainer key={item.id} content={item} isLabAssistant={isLabAssistant}/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<ContentOverviewContainer key={item.id} content={item} />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t))\n\t\t\t\t\t\t: (\n\t\t\t\t\t\t\t<CollectionPermissionsContainer collection={collection} />\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t{isContent && (\n\t\t\t\t\t\t<NewContent className={`newcontent-button`} onClick={createContent}>\n\t\t\t\t\t\t\t<Icon src={plus} />\n\t\t\t\t\t\t</NewContent>\n\t\t\t\t\t)}\n\t\t\t\t</Tab>\n\t\t\t</Style>\n\t\t)\n\t}\n}\n","import styled from 'styled-components'\n\nexport const Container = styled.div`\n\tpadding-top: 8.4rem;\n\tdisplay: flex;\n\n\t& .no-collections {\n\t\ttext-align: center;\n\t\twidth: 80%;\n\t\tmargin: 5% 10% 2% 10%;\n\t}\n\n\t& #create-button {\n\t\tposition: absolute !important;\n\t\ttop: 30%;\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\n\t\t& button {\n\t\t\tmargin: auto;\n\t\t\theight: 40px;\n\t\t\tfont-size: 2rem;\n\t\t\twidth: 20%;\n\t\t\tcolor: white;\n\t\t\tbackground-color: var(--light-blue);\n\t\t\tborder: none;\n\t\t\tborder-radius: 10px;\n\t\t\tcursor: pointer;\n\n\t\t\t:hover {\n\t\t\t\tborder: 2px solid var(--navy-blue);\n\t\t\t}\n\t\t}\n\t}\n`\n\nexport const SideMenu = styled.div`\n\tflex: none;\n\n\tborder-right: 1px solid #c4c4c4;\n\twidth: 22rem;\n\tmin-height: calc(100vh - 14.4rem);\n\n\theight: 100%;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\tpadding: 3rem;\n\n\toverflow-y: scroll;\n\n\t& > h4 {\n\t\tpadding: .8rem 0;\n\t\tmargin-bottom: 1rem;\n\t}\n\n\t& .link {\n\t\theight: 4rem;\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding-left: 2rem;\n\t\tfont-size: 1.3rem;\n\t}\n\n\t& .active-collection {\n\t\tbackground-color: rgba(5, 130, 202, 0.5);\n\t\tborder-radius: 2px;\n\t}\n`\n\nexport const Body = styled.div`\n\tflex: auto;\n\theight: calc(100vh - 16rem);\n`\n\nexport const CreateButton = styled.button`\n\tpadding: 0;\n\n\tborder: none;\n\tbackground: transparent;\n\n\tfont-weight: normal;\n\tline-height: 3.7rem;\n\n\theight: 3.5rem;\n\n\tdisplay: flex;\n\talign-items: center;\n\n\toutline: none;\n\n\tcursor: pointer;\n`\n\nexport const Plus = styled.div`\n\theight: 1.7rem;\n\twidth: 1.7rem;\n\n\tmargin-right: 1rem;\n\n\tbackground: url(${props => props.src}) center no-repeat;\n\tbackground-size: contain;\n`\n\nexport const NoCollection = styled.div`\n\theight: 100%;\n\tfont-size: 2.4rem;\n\tcolor: #ccc;\n\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n`\n","import React, { PureComponent } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { LabAssistantManageCollectionContainer, ManageCollectionContainer } from 'containers'\n\nimport { Accordion } from 'components/bits'\n\nimport {\n\tBody,\n\tContainer,\n\tCreateButton,\n\tNoCollection,\n\tPlus,\n\tSideMenu,\n} from './styles'\n\nimport plus from 'assets/plus.svg'\n\nexport default class Manager extends PureComponent {\n\trender() {\n\n\t\t// console.log('render manager')\n\n\t\tconst {\n\t\t\tadmin,\n\t\t\tcollection,\n\t\t\tpath,\n\t\t\tsideLists,\n\t\t\tuser,\n\t\t\tactiveId,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\tcreateNew,\n\t\t} = this.props.handlers\n\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t{ this.props.empty !== undefined ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ user ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<h1 className='no-collections'>{ user.name } does not have any collections</h1>\n\t\t\t\t\t\t\t\t<div id={'create-button'}>\n\t\t\t\t\t\t\t\t\t<button onClick={createNew}>Create New Collection</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<h1 className='no-collections'>There are no collections</h1>\n\t\t\t\t\t\t\t\t<div id={'create-button'} >\n\t\t\t\t\t\t\t\t\t<button onClick={createNew}>Create New Collection</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<SideMenu>\n\n\t\t\t\t\t\t\t<h4>{user ? (`${user.name}'s Collections`) : `My Collections`}</h4>\n\n\t\t\t\t\t\t\t<Accordion header={`Published`} active>\n\t\t\t\t\t\t\t\t{sideLists.published.map(({ id, name }, index) => <div key={index} className={`${ id === activeId ? ('active-collection link') : ('link')}`}><Link to={`/${path}/${id}`} >{name}</Link></div>)}\n\t\t\t\t\t\t\t</Accordion>\n\n\t\t\t\t\t\t\t<Accordion header={`Unpublished`} active>\n\t\t\t\t\t\t\t\t{sideLists.unpublished.map(({ id, name }, index) => <div key={index} className={`${ id === activeId ? ('active-collection link') : ('link')}`}><Link to={`/${path}/${id}`}>{name}</Link></div>)}\n\t\t\t\t\t\t\t</Accordion>\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tadmin && <Accordion header={`Archived`}>\n\t\t\t\t\t\t\t\t\t{sideLists.archived.map(({ id, name }, index) => <div key={index} className={`${ id === activeId ? ('active-collection link') : ('link')}`}><Link to={`/${path}/${id}`} >{name}</Link></div>)}\n\t\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t<CreateButton onClick={createNew}><Plus src={plus} />Create New Collection</CreateButton>\n\n\t\t\t\t\t\t</SideMenu>\n\t\t\t\t\t\t<Body>\n\t\t\t\t\t\t\t{collection ?\n\t\t\t\t\t\t\t\tuser ?\n\t\t\t\t\t\t\t\t\t<LabAssistantManageCollectionContainer collection={collection} published={collection.published} archived={collection.archived} />\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<ManageCollectionContainer collection={collection} published={collection.published} archived={collection.archived} />\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<NoCollection>Select a Collection to get started.</NoCollection>}\n\t\t\t\t\t\t</Body>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</Container>\n\t\t)\n\t}\n}","import styled from 'styled-components'\nimport { Link } from 'react-router-dom'\n\nconst Style = styled.div`\n\tposition: fixed;\n\ttop: 0;\n\tleft: 100%;\n\n\theight: 100vh;\n\twidth: 32rem;\n\n\tpadding: 2.4rem;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\tbackground-color: ${props => props.editorStyle ? `#303030` : `white`};\n\tcolor: ${props => props.editorStyle ? `white` : `black`};\n\n\tz-index: 32;\n\n\ttransition: all .4s ease-in-out;\n\n\t& > button:first-of-type {\n\t\tposition: relative;\n\t\tleft: -8.4rem;\n\t\ttransition: left .4s ease-in-out;\n\t}\n\n\t&.active {\n\t\tleft: calc(100% - 32rem);\n\t\tbox-shadow: 0 -.5rem 3rem 0 rgba(0,0,0,0.25);\n\n\t\t& > button:first-of-type {\n\t\t\tposition: relative;\n\t\t\tleft: 0;\n\t\t}\n\t}\n\n\t& > h4 {\n\t\tmargin-top: 2.4rem;\n\t\tfont-weight: 500;\n\t}\n\n\t& > hr {\n\t\tmargin: 1rem 0;\n\t\tborder: none;\n\t\tborder-top: 1px solid #c4c4c4;\n\t\tmax-width: 27rem;\n\t}\n`\n\nexport default Style\n\nexport const LinkStyled = styled(Link)`\n\tmargin-bottom: 1rem;\n\n\ttext-decoration: none;\n\tfont-weight: 300;\n\n\tbackground: transparent;\n\tborder: none;\n`\n\nexport const Header = styled.h4`\n\ttext-transform: uppercase;\n\tfont-weight: 500;\n`\n\nexport const UserPic = styled.button`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\theight: 3.6rem;\n\twidth: 3.6rem;\n\n\tcolor: white;\n\tline-height: 1.9;\n\n\tborder: .125rem solid white;\n\tborder-radius: 50%;\n\n\toutline: none;\n\n\tfont-weight: 500;\n\tfont-size: 1.8rem;\n\n\tbackground: linear-gradient(to bottom, #0582CA 0%, #0157b8 100%);\n\n\tz-index: 18;\n\n\t:hover {\n\t\tcursor: pointer;\n\t}\n`\n\nexport const LogoutButton = styled.button`\n\tmargin-bottom: 1rem;\n\tpadding: 0;\n\n\twidth: fit-content;\n\n\ttext-decoration: none;\n\toutline: none;\n\tfont-weight: 300;\n\n\tcolor: #FF6161;\n\n\tbackground: transparent;\n\tborder: none;\n\n\tcursor: pointer;\n`\n","import React, { PureComponent } from 'react'\nimport Style, { LinkStyled, Header, UserPic, LogoutButton } from './styles'\n\nclass Menu extends PureComponent {\n\trender() {\n\n\t\tconst {\n\t\t\tuser,\n\t\t\tinitials,\n\t\t\tmenuActive,\n\t\t\tisProf,\n\t\t\tisAdmin,\n\t\t\teditorStyle,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\ttoggleMenu,\n\t\t\thandleLogout,\n\t\t} = this.props.handlers\n\n\t\treturn (\n\t\t\t<Style editorStyle={editorStyle} className={menuActive && `active`} onClick={toggleMenu}>\n\n\t\t\t\t<UserPic>{initials}</UserPic>\n\t\t\t\t<h4>{user.name}</h4>\n\n\t\t\t\t<hr />\n\n\t\t\t\t{/* <LinkStyled to='/word-list'>My Word List</LinkStyled> */}\n\n\t\t\t\t{\n\t\t\t\t\tisProf || isAdmin ||\n\t\t\t\t\t<LinkStyled to='/collections'>Collections</LinkStyled>\n\t\t\t\t}\n\n\t\t\t\t{\n\t\t\t\t\tisAdmin &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t<LinkStyled to='/admin'>Admin Dashboard</LinkStyled>\n\t\t\t\t\t\t<LinkStyled to='/lab-assistant'>Lab Assistant Dashboard</LinkStyled>\n\t\t\t\t\t\t<LinkStyled to='/manage-resource'>Manage Resource</LinkStyled>\n\t\t\t\t\t</>\n\t\t\t\t}\n\n\t\t\t\t<LogoutButton onClick={handleLogout}>Sign Out</LogoutButton>\n\n\t\t\t\t{\n\t\t\t\t\t(isProf || isAdmin) &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Header>Collections</Header>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t<LinkStyled to='/'>View Collections</LinkStyled>\n\t\t\t\t\t\t<LinkStyled to='/manager'>Manage Collections</LinkStyled>\n\t\t\t\t\t\t<LinkStyled to={{ pathname: `/manager`, createCollection: true }}>Create New Collection</LinkStyled>\n\t\t\t\t\t</>\n\t\t\t\t}\n\n\t\t\t</Style>\n\t\t)\n\t}\n}\n\nexport default Menu","import styled, { keyframes } from 'styled-components'\n\nconst fadeIn = keyframes`\n\t\tfrom {\n\t\t\topacity: 0;\n\t\t}\n\n\t\tto {\n\t\t\topacity: 1;\n\t\t}\n\t`,\n\n\tfadeOut = keyframes`\n\t\tfrom {\n\t\t\topacity: 1;\n\t\t}\n\n\t\tto {\n\t\t\topacity: 0;\n\t\t}\n\t`\n\nexport const Wrapper = styled.div`\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100vh;\n\n\tvisibility: ${props => props.out ? `hidden` : `visible`};\n\tanimation: ${props => props.out ? fadeOut : fadeIn} .25s linear;\n\ttransition: visibility .25s linear;\n\n\tbackground-color: rgba(0,0,0,0.25);\n\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\n\t& > div {\n\t\tbackground-color: white;\n\t\tbox-shadow: 0px .4rem .7rem -.1rem rgba(0,0,0,0.25);\n\n\t\tmin-width: 32rem;\n\t\twidth: auto;\n\t\tpadding: 6rem 15rem;\n\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: space-around;\n\n\t\t& > button {\n\t\t\tbackground: transparent;\n\t\t\tborder: none;\n\t\t\tfont-size: 18px;\n\t\t\tcolor: #0582CA;\n\t\t\tflex-basis: 100%;\n\t\t\tmargin-top: 5rem;\n\t\t\toutline: none;\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t& > div {\n\t\t\twidth: 27.5rem;\n\t\t\tpadding: 2rem;\n\n\t\t\t& > h3 {\n\t\t\t\tfont-weight: bold;\n\t\t\t\tfont-size: 1.8rem;\n\t\t\t\ttext-justify: center;\n\t\t\t\tmargin-bottom: 1.2rem;\n\t\t\t}\n\t\t}\n\t}\n`","import React, { PureComponent } from 'react'\nimport { Wrapper } from './styles'\n\nclass Overlay extends PureComponent {\n\n\tstate = {\n\t\tvisible: false,\n\t}\n\n\tcloseModal = e => {\n\t\te.preventDefault()\n\n\t\tthis.setState({\n\t\t\tvisible: false,\n\t\t})\n\n\t\tsetTimeout(() => {\n\t\t\tthis.props.toggleOverlay()\n\t\t}, 250)\n\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Wrapper visible={this.state.visible} out={!this.state.visible}>\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3>What is YVIDEO?</h3>\n\t\t\t\t\t\t<p>Y-Video is a web-based system for streaming video and audio content especially as it applies to learning a foreign language. It houses a collection of media all with the express purpose of helping you learn languages.</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3>Text Helps</h3>\n\t\t\t\t\t\t<p>Additional aids are available to be used in conjunction with the media, such as captions and annotations. A key feature of the site enables learners to directly interact with subtitle tracks to quickly access translations for foreign words and phrases and view relevant annotations.</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3>For School</h3>\n\t\t\t\t\t\t<p>Teachers or course designers are able to aggregate media into a single location and set up specific conditions in order to optimize the learning experience. Statistics and analytics are available to improve the learning experience.</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button onClick={this.closeModal}>close</button>\n\t\t\t\t</div>\n\t\t\t</Wrapper>\n\t\t)\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.setState({\n\t\t\tvisible: true,\n\t\t})\n\t}\n}\n\nexport default Overlay\n","import styled from 'styled-components'\n\nexport const Style = styled.div`\n\tpadding-top: 8.4rem;\n\tpadding-bottom: 15rem;\n\toverflow-y: scroll;\n\theight: calc(100vh - 23.4rem);\n\n\t& > div {\n\t\t& .ayamelPlayer,\n\t\t& .videoBox,\n\t\t& .mediaPlayer {\n\t\t\twidth: 100% !important;\n\t\t\theight: 70vh;\n\t\t}\n\t\t& .sliderContainer {\n\t\t\tpadding-bottom: 0 !important;\n\t\t}\n\t}\n\n\t& .player-wrapper {\n\t\tposition: relative;\n\t\tbackground-color: black;\n\t}\n`\n\nexport const Blank = styled.div`\n\tposition: absolute;\n\tbackground-color: ${props => props.blank ? ('black') : ('transparent')};\n\tz-index: 10;\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0px;\n`\n\nexport const Comment = styled.div`\n\t--x: ${props => props.commentX !== 0 ? `${props.commentX}%` : `0%`};\n\t--y: ${props => props.commentY !== 0 ? `${props.commentY}%` : `0%`};\n\n\tposition: absolute;\n\ttop: var(--y);\n\tleft: calc(var(--x));\n\tfont-size: 2rem;\n\tcolor: white;\n\tz-index: 15;\n`\n\nexport default Style\n","import React, { PureComponent } from 'react'\n\nimport ReactPlayer from 'react-player'\n\nimport { CollectionsContainer, EventsContainer } from 'containers'\nimport { PlayerControls } from 'components/bits'\n\nimport { Controller } from 'components'\n\nimport Style, { Blank, Comment } from './styles'\n\nexport default class Player extends PureComponent {\n\tcomponentDidMount(){\n\t\t// setTimeout(() => {\n\t\t// \tconst {url} = this.props.viewstate\n\t\t// \tif (!url) alert(`No media found, please check to see if you have the correct URL`)\n\t\t// }, 4000)\n\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tref,\n\t\t\turl,\n\t\t\tplaying,\n\t\t\tplaybackRate,\n\t\t\tprogress,\n\t\t\tvolume,\n\t\t\tmuted,\n\t\t\tblank,\n\t\t\tvideoComment,\n\t\t\tcommentPosition,\n\t\t\tduration,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\thandleDuration,\n\t\t\thandleMouseOut,\n\t\t\thandleMouseOver,\n\t\t\thandlePause,\n\t\t\thandlePlay,\n\t\t\thandleProgress,\n\t\t\thandleSeekChange,\n\t\t\thandleBlank,\n\t\t\thandleMuted,\n\t\t\thandleUnmuted,\n\t\t\thandleShowComment,\n\t\t} = this.props.handlers\n\n\t\t//console.log('%c URL', 'font-size: 18px; color: green;', url)\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<div className='player-wrapper' onMouseOver={handleMouseOver} onMouseOut={handleMouseOut}>\n\t\t\t\t\t<ReactPlayer\n\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\tclassName='react-player'\n\t\t\t\t\t\twidth='100%'\n\t\t\t\t\t\theight='50rem'\n\t\t\t\t\t\turl={url}\n\t\t\t\t\t\tplaying={playing}\n\t\t\t\t\t\tcontrols={false}\n\t\t\t\t\t\tplaybackRate={playbackRate}\n\t\t\t\t\t\tvolume={volume}\n\t\t\t\t\t\tmuted={muted}\n\t\t\t\t\t\t// onReady={() => console.log(`onReady`)}\n\t\t\t\t\t\t// onStart={() => console.log(`onStart`)}\n\t\t\t\t\t\tonPlay={handlePlay}\n\t\t\t\t\t\tonPause={handlePause}\n\t\t\t\t\t\t// onBuffer={() => console.log(`onBuffer`)}\n\t\t\t\t\t\t// onSeek={e => console.log(`onSeek`, e)}\n\t\t\t\t\t\t// onError={e => console.log(`onError`, e)}\n\t\t\t\t\t\tprogressInterval={100}\n\t\t\t\t\t\tonProgress={handleProgress}\n\t\t\t\t\t\tonDuration={handleDuration}\n\t\t\t\t\t/>\n\t\t\t\t\t<PlayerControls viewstate={this.props.viewstate} handlers={this.props.handlers} />\n\t\t\t\t\t<Blank blank={blank} id='blank' onContextMenu={e => e.preventDefault()}>\n\t\t\t\t\t\t<Comment commentX={commentPosition.x} commentY={commentPosition.y}>{videoComment}</Comment>\n\t\t\t\t\t\t{/* <Censor x={censorPosition[0]} y={censorPosition[1]} active={censorActive} wProp={censorPosition[2]} hProp={censorPosition[3]}><canvas></canvas></Censor> */}\n\t\t\t\t\t</Blank>\n\t\t\t\t</div>\n\t\t\t\t<div className={`collection-container`}>\n\t\t\t\t\t<CollectionsContainer/>\n\t\t\t\t</div>\n\t\t\t\t<EventsContainer currentTime={progress.playedSeconds.toFixed(1)} duration={duration}\n\t\t\t\t\thandleSeek={handleSeekChange}\n\t\t\t\t\thandleMute={handleMuted}\n\t\t\t\t\thandlePlay={handlePlay}\n\t\t\t\t\thandlePause={handlePause}\n\t\t\t\t\thandleUnMute={handleUnmuted}\n\t\t\t\t\t// toggleMute={toggleMute}\n\t\t\t\t\thandleBlank={handleBlank}\n\t\t\t\t\thandleShowComment={handleShowComment}\n\t\t\t\t\t// handleCensorPosition={video.handleCensorPosition}\n\t\t\t\t\t// handleCensorActive={video.handleCensorActive}\n\t\t\t\t></EventsContainer>\n\t\t\t</Style>\n\t\t)\n\t}\n}","import React, { PureComponent } from 'react'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\n\nimport {\n\tAdminContainer,\n\tCollectionsContainer,\n\tHeaderContainer,\n\tLabAssistantContainer,\n\tLabAssistantManagerContainer,\n\tLandingContainer,\n\tMenuContainer,\n\tManagerContainer,\n\tPlayerContainer,\n\tTrackEditorContainer,\n\tManageResourceContainer,\n} from 'containers'\n\nimport {\n\tLoad,\n\tError,\n} from 'components'\n\nimport {\n\tModal,\n} from 'components/bits'\n\nclass Root extends PureComponent {\n\n\trender() {\n\n\t\tconst {\n\t\t\tuser,\n\t\t\tloading,\n\t\t\tmodal,\n\t\t} = this.props.viewstate\n\n\t\t// TODO: route has to be touched mirroring with backend\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t{user ?\n\t\t\t\t\t<>\n\t\t\t\t\t\t<HeaderContainer />\n\t\t\t\t\t\t<MenuContainer />\n\t\t\t\t\t\t<Switch>\n\n\t\t\t\t\t\t\t<Route exact path='/' >\n\t\t\t\t\t\t\t\t<CollectionsContainer />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path='/admin'>\n\t\t\t\t\t\t\t\t<AdminContainer />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path='/collections'>\n\t\t\t\t\t\t\t\t<CollectionsContainer />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path='/lab-assistant'>\n\t\t\t\t\t\t\t\t<LabAssistantContainer />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t{/* <Route path='/lab-assistant-resource/:professorId'>\n\t\t\t\t\t\t\t\t<ManageResourceContainer />\n\t\t\t\t\t\t\t</Route> */}\n\n\t\t\t\t\t\t\t<Route path='/manage-resource'>\n\t\t\t\t\t\t\t\t<ManageResourceContainer />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path='/lab-assistant-manager/:professorId/:collectionId?'>\n\t\t\t\t\t\t\t\t<LabAssistantManagerContainer />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path='/manager/:id?'>\n\t\t\t\t\t\t\t\t<ManagerContainer />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path='/player/:id'>\n\t\t\t\t\t\t\t\t<PlayerContainer />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route path='/trackeditor/:id'>\n\t\t\t\t\t\t\t\t<TrackEditorContainer />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t\t<Route>\n\t\t\t\t\t\t\t\t<Error error='404' message={`You've wandered too far`} />\n\t\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</>\n\t\t\t\t\t:\n\t\t\t\t\t<LandingContainer />\n\t\t\t\t}\n\n\t\t\t\t<Load loading={loading} />\n\t\t\t\t<Modal active={modal.active} />\n\t\t\t</Router>\n\t\t)\n\t}\n}\n\nexport default Root\n","import styled, { keyframes } from 'styled-components'\n\nimport carat from 'assets/carat_white.svg'\n\nimport menu from 'assets/menu-white.svg'\n\nconst Style = styled.div`\n\n\tbackground-color: white;\n\toverflow: hidden;\n\n\tpadding-top: var(--navbar-height);\n\theight: calc(100vh - var(--navbar-height));\n\tz-index: 0;\n\n\tdisplay: flex;\n\n\t& > span {\n\n\t\tflex: 1;\n\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t* {\n\t\t&:focus {\n\t\t\toutline: none;\n\t\t}\n\t}\n`\nexport default Style\n\nexport const ItemContainer = styled.div`\n\t& h4 {\n\t\tfont-weight: 500;\n\t}\n`\nexport const Timeline = styled.div`\n\n\t--scale: ${props => props.scale};\n\n\t--timeline-start: 16rem;\n\t--header-height: 5rem;\n\t/*\n\t--dark-gray: #303030;\n\t--light-gray: #4F4F4F;\n\t--lighter-gray: #565656;\n\tcolor: #5F5F5F; */\n\n\tposition: relative;\n\theight: ${props => props.minimized ? `0vh` : `30vh`};\n\tbox-sizing: border-box;\n\ttransition: height .5s cubic-bezier(0, 0, 0, 1.07);\n\tcursor: ${props => props.cursor};\n  \tbackground-color: transparent;\n\tz-index: 0;\n\toverflow-y: scroll;\n\toverflow-x: hidden;\n\n\t& .zoom-controls {\n\t\twidth: calc(100% - 35rem);\n\t\theight: 40px;\n\t\tdisplay: flex;\n\t\tleft: 0px;\n\t\tbackground-color: white;\n\t\tborder-bottom: 1px solid black;\n\t\tborder-top: 1px solid black;\n\t\tposition: fixed;\n\t\tbottom: 0px;\n\n\t\t& .zoom-factor {\n\t\t\tmargin: auto;\n\t\t\twidth: 140px;\n\t\t\theight: 50%;\n\t\t\tborder-radius: 10px;\n\t\t\tbackground-color: rgba(220, 220, 220, 0.5);\n\t\t\tposition: relative;\n\n\t\t\t& .zoom-indicator {\n\t\t\t\twidth: 2rem !important;\n\t\t\t\theight: 100% !important;\n\t\t\t\tbackground-color: var(--light-blue);\n\t\t\t\tborder-radius: 20px;\n\t\t\t}\n\t\t}\n\n\t\t& .zoom-scroll {\n\t\t\twidth: calc(100% - 161px);\n\t\t\theight: calc(100%);\n\t\t\tborder-left: 1px solid black;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\toverflow-x: scroll;\n\n\t\t\t& .zoom-scroll-container {\n\t\t\t\tmargin: auto;\n\t\t\t\twidth: 90%;\n\t\t\t\theight: 50%;\n\t\t\t\tborder-radius: 10px;\n\t\t\t\tbackground-color: rgba(220, 220, 220, 0.5);\n\t\t\t\tposition: relative;\n\t\t\t\toverflow: hidden;\n\n\t\t\t\t& .zoom-scroll-indicator {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tmin-width: 5%;\n\t\t\t\t\twidth: ${props => props.zoom !== 0 ? (`${props.zoom}%`) : (`100%`)} !important;\n\t\t\t\t\theight: 100% !important;\n\t\t\t\t\tbackground-color: var(--light-blue);\n\t\t\t\t\tborder-radius: 20px;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& #time-indicator-container {\n\t\t\t\theight: 27vh;\n\t\t\t\twidth: calc(100% - 162px);\n\t\t\t\tposition: absolute;\n\t\t\t\toverflow-x: scroll;\n\t\t\t\toverflow-y: hidden;\n\t\t\t\tpointer-events: none;\n\t\t\t\tbottom: 0px;\n\n\t\t\t\t& #layer-time-indicator {\n\t\t\t\t\theight: 10px;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tbackground-color: transparent;\n\n\t\t\t\t\t& #layer-time-indicator-line {\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\theight: calc(27vh - 40px);\n\t\t\t\t\t\tbackground-color: transparent;\n\t\t\t\t\t\tborder-right: 2px solid red;\n\t\t\t\t\t\tz-Index: 20;\n\t\t\t\t\t\t/* border-right: 2px dotted red; */\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t}\n\t\t}\n\t}\n\n\t& > section {\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t\toverflow-y: scroll;\n\t}\n\n\t& .event-layers {\n\t\theight: 100%;\n\t\tdisplay: block;\n\t}\n\n\t& .layer {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\theight: 46px;\n\t}\n\n\t& .handle {\n\t\twidth: 162px !important;\n\t\tmin-width: 162px;\n\t\theight: 46px;\n\t\tdisplay: inline-flex;\n\t\talign-items: center;\n\t\tjustify-content: flex-start;\n\t\tbox-sizing: border-box;\n\t\tposition: relative;\n\t\tcursor: pointer;\n\t\tborder-bottom: 1px solid #555;\n\t\tborder-right: 1px solid var(--light-blue);\n\t\ttransition: .5s;\n\n\t\t& p {\n\t\t\tpadding-left: 2rem;\n\t\t\tcolor: black;\n\t\t\tfont-size: 1.5rem;\n\t\t\t& .layer-delete {\n\t\t\t\tmargin: auto auto -3px 15px;\n\t\t\t\topacity: 0.3;\n\n\t\t\t\ttransition: .5s ease;\n\t\t\t\t:hover {\n\t\t\t\t\topacity: 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`\nexport const HandleIcon = styled.div `\n\theight: 2.5rem;\n\twidth: 2.5rem;\n\tbackground: url(${menu}) center no-repeat;\n\tbackground-size: contain;\n\t/* display: inline-block; */\n\tposition: absolute;\n\tright: 5px;\n\tmargin: auto 0;\n`\nexport const Icon = styled.div`\n\t/* transform: rotate(45deg); */\n  background: url(${props => props.src}) center no-repeat;\n  width: 20px;\n  height: 15px;\n`\nexport const NewLayer = styled.button`\n\theight: 2.4rem;\n\twidth: 2.5rem;\n\tbackground-color: #0582ca;\n\n\tmargin-top: .75rem;\n\tmargin-left: 90px;\n\n\tborder: none;\n\tborder-radius: 0.3rem;\n\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\toutline: none;\n\tcursor: pointer;\n`\nexport const EventList = styled.div`\n\t--minimized: ${props => props.minimized};\n\n\twidth: ${ props => props.minimized !== false ? ('4rem') : ('35rem')};\n\theight: calc(100vh - var(--navbar-height));\n\tbackground: ${ props => props.minimized !== false ? ('var(--navy-blue)') : ('white !important')};\n\ttransition: .5s;\n\tz-index: 20;\n\toverflow: hidden;\n\tborder-left: 1px solid black;\n\n\t& > header {\n\t\theight: 5rem;\n\t\tbackground: var(--navy-blue);\n\n\t\tborder-bottom: 5px solid var(--light-blue);\n\n\t\t& > .carat {\n\t\t\tfloat: left;\n\t\t\tmargin: auto 0px auto 1rem;\n\t\t\talign-items: center;\n\t\t\tpadding-right: 1rem;\n\t\t}\n\n\t\t/* & > .tab {\n\t\t\tdisplay: ${ props => props.minimized !== false ? ('none') : ('visible')}\n\t\t\theight: 5rem;\n\t\t\twidth: 7rem;\n\t\t\tcolor: white;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tfont-size: 1.5rem;\n\n\t\t\tfont-weight: 500;\n\n\t\t\t&.active {\n\t\t\t\tbackground: var(--light-blue);\n\t\t\t}\n\t\t} */\n\n\t\t& > .save {\n\t\t\tposition: relative;\n\t\t\tfloat: right;\n\t\t\tmargin-right: 20px;\n\t\t\twidth: 10rem;\n\t\t\theight: 100%;\n\n\t\t\t& button {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tfont-size: 1.7rem;\n\t\t\t\tdisplay: flex;\n\t\t\t\tborder: none;\n\t\t\t\tbackground-color: transparent;\n\t\t\t\tcolor: white;\n\t\t\t\tcursor: pointer;\n\t\t\t\ttransition: .5s ease;\n\n\t\t\t\t:hover {\n\t\t\t\t\tbackground-color: var(--light-blue)\n\t\t\t\t}\n\n\t\t\t\t& span, img {\n\t\t\t\t\tmargin: auto;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .breadcrumbs {\n\t\tdisplay: ${ props => props.minimized !== false ? ('none') : ('flex')}\n\n\t\theight: 5rem;\n\n\t\tposition: relative;\n\n\t\tbox-sizing: border-box;\n\n\t\tborder-bottom: 1px solid #555;\n\n\t\tcolor: black;\n\t\tfont-weight: 500;\n\n\t\t& > span {\n\t\t\theight: 100%;\n\t\t\twidth: 7rem;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tfont-size: 1.5rem;\n\n\t\t\tborder: none;\n\t\t\tpadding: 0;\n\t\t\tmargin: 0;\n\n\t\t\t&.carat {\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 6.5rem;\n\t\t\t\ttop: 1.9rem;\n\t\t\t\theight: 1rem;\n\t\t\t\twidth: 1rem;\n\t\t\t\ttransform: rotate(45deg);\n\t\t\t\tborder-top: 1px solid #555;\n\t\t\t\tborder-right: 1px solid #555;\n\t\t\t\tbackground-color: white;\n\t\t\t}\n\n\t\t\t&.current {\n\t\t\t\tflex: 1;\n\t\t\t\tjustify-content: flex-start;\n\t\t\t\tpadding-left: 2rem;\n\t\t\t\tborder-left: 1px solid #555;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .eventsList {\n\t\tdisplay: ${ props => props.minimized !== false ? ('none') : ('visible')}\n\t\tpadding: 3rem;\n\t}\n\n\t& .deleteEventButton {\n\t\twidth: 100px;\n\t\theight: 30px;\n\t\tmargin: auto 10px auto auto;\n\t\tborder: 2px solid #eb6e79;\n\t\tbackground-color: #eb6e79;\n\t\tcolor: white;\n\t\tfont-size: 1.5rem;\n\t\tfont-weight: 500;\n\t\tborder-radius: 5px;\n\t\tcursor: pointer;\n\n\t\t&:active{\n\t\t\tbackground-color: white;\n\t\t\tcolor: #eb6e79;\n\t\t\tborder: 2px solid #eb6e79 !important;\n\t\t\toutline: none;\n\t\t}\n\t}\n`\nexport const EventListCarat = styled.button`\n\theight: 2rem;\n\twidth: 2rem;\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n\tbackground: url(${carat}) center no-repeat;\n\tbackground-size: contain;\n\tpadding: 0;\n\n\ttransform: rotate(-90deg);\n\ttransition: transform .25s ease-in-out;\n\n\t&.minimized {\n\t\ttransform: rotate(90deg);\n\t}\n`\nexport const AnnotationMessage = styled.div`\n\tposition: fixed;\n\tmargin-top: calc(40vh - 150px);\n\tmargin-left: calc(60vw - 400px);\n\twidth: 400px;\n\theight: 150px;\n\tz-index: 30;\n\tbackground-color: var(--light-blue);\n\tdisplay: flex;\n\tborder: 5px solid var(--light-blue);\n\tborder-radius: 25px;\n\n\ttransition: 1s ease;\n\n\t& h2 {\n\t\tmargin: auto;\n\t\tcolor: white;\n\t\tfont-size: 2.5rem;\n\t}\n`","import React, { useState, useEffect } from 'react'\n\nimport Style, { Timeline, EventList, EventListCarat, NewLayer, Icon, AnnotationMessage } from './styles'\n\nimport { DndProvider } from 'react-dnd'\nimport { Rnd } from \"react-rnd\"\n\nimport Backend from 'react-dnd-html5-backend'\n\nimport { EventCard, TrackEditorSideMenu } from 'components/bits'\n\nimport { Controller, TrackLayer } from 'components'\n\nimport skipIcon from 'assets/event_skip.svg'\nimport muteIcon from 'assets/event_mute.svg'\nimport pauseIcon from 'assets/event_pause.svg'\nimport commentIcon from 'assets/event_comment.svg'\n//import censorIcon from 'Assets/event_censor.svg'\nimport blankIcon from 'assets/event_blank.svg'\nimport trashIcon from 'assets/trash_icon.svg'\nimport closeIcon from 'assets/close_icon.svg'\nimport saveIcon from 'assets/annotations-save.svg'\n\nimport llIcon from 'assets/te-chevrons-left.svg'\nimport rrIcon from 'assets/te-chevrons-right.svg'\nimport lIcon from 'assets/te-chevron-left.svg'\nimport rIcon from 'assets/te-chevron-right.svg'\n\n//ICONS FOR THE EVENTS CAN BE FOUND AT https://feathericons.com/\n//TRASH ICON COLOR IS: #eb6e79. OTHER ICON STROKES ARE LIGHT BLUE VAR IN CSS: #0582ca\n\nimport plus from 'assets/plus-square.svg'\n\nconst TrackEditor = props => {\n\n\t//console.log('%c Editor Component', 'color: red; font-weight: bolder; font-size: 12px;')\n\n\tconst { setEvents, updateContent } = props\n\n\tconst { eventsArray, currentContent } = props.viewstate\n\n\tconst events = [\n\t\t{\n\t\t\ttype: `Skip`,\n\t\t\ticon: skipIcon,\n\t\t\tstart: 0,\n\t\t\tend: 10,\n\t\t\tlayer: 0\n\t\t},\n\t\t{\n\t\t\ttype: `Mute`,\n\t\t\ticon: muteIcon,\n\t\t\tstart: 0,\n\t\t\tend: 10,\n\t\t\tlayer: 0\n\t\t},\n\t\t{\n\t\t\ttype: `Pause`,\n\t\t\ticon: pauseIcon,\n\t\t\tstart: 0,\n\t\t\tend: 10,\n\t\t\tlayer: 0\n\t\t},\n\t\t{\n\t\t\ttype: `Comment`,\n\t\t\ticon: commentIcon,\n\t\t\tstart: 0,\n\t\t\tend: 10,\n\t\t\tlayer: 0,\n\t\t\tcomment: '',\n\t\t\tposition: {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t},\n\t\t},\n\t\t// {\n\t\t// \ttype: `Censor`,\n\t\t// \ticon: censorIcon,\n\t\t// \tstart: 0,\n\t\t// \tend: 10,\n\t\t// \tlayer: 0,\n\t\t// \tposition: {\n\t\t// \t\t0: [0, 0, 30, 40],\n\t\t// \t},\n\t\t// },\n\t\t{\n\t\t\ttype: `Blank`,\n\t\t\ticon: blankIcon,\n\t\t\tstart: 0,\n\t\t\tend: 10,\n\t\t\tlayer: 0\n\t\t},\n\t]\n\n\tconst [allEvents, setAllEvents] = useState(eventsArray)\n\tconst [layers, setLayers] = useState([])\n\tconst [shouldUpdate, setShouldUpdate] = useState(false)\n\tconst [showSideEditor, setSideEditor] = useState(false)\n\tconst [eventToEdit, setEventToEdit] = useState(10000)\n\tconst [displayLayer, setDisplayLayer] = useState(0)\n\tconst [videoLength, setVideoLength] = useState(0)\n\t//const [videoCurrentTime, setCurrentTime] = useState(0)\n\n\tconst [tab, setTab] = useState(`events`)\n\tconst [timelineMinimized, setTimelineMinimized] = useState(false)\n\tconst [eventListMinimized, setEventListMinimized] = useState(false)\n\tconst [layerWidth, setWidth] = useState(0)\n\tconst [zoomFactor, setZoomFactor] = useState(0)\n\tconst [scrollFactor, setScrollFactor] = useState(0)\n\tconst [scrollWidth, setScrollWidth] = useState(0)\n\tconst [annotationsSaved, setSaved] = useState(false)\n\tconst [scrollBarWidth, setScrollBar] = useState(0)\n\t//const [editCensor, setEditCensor] = useState({})\n\t//const [lastClick, setLastClick] = useState({x: 0, y: 0})\n\n\tconst [dimensions, setDimensions] = useState({\n\t\theight: window.innerHeight,\n\t\twidth: window.innerWidth\n\t})\n\n\tuseEffect(() => {\n\t\tsetScrollWidth(document.getElementsByClassName('zoom-scroll-container')[0].clientWidth)\n\t\tfunction handleResize() {\n\t\t\tsetZoomFactor(0)\n\t\t\tsetWidth(0)\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetDimensions({\n\t\t\t\t\theight: window.innerHeight,\n\t\t\t\t\twidth: window.innerWidth\n\t\t\t\t})\n\t\t\t}, 500);\n\t\t\tsetZoomFactor(1)\n\t\t\tsetWidth(1)\n\t\t}\n\t\twindow.addEventListener('resize', handleResize)\n\t\tsetAllEvents(eventsArray)\n\n\t\tlet largestLayer = 0\n\n\t\t//SORTING THE ARRAYS TO HAVE A BETTER WAY TO HANDLE THE EVENTS\n\t\tif(eventsArray !== undefined && eventsArray.length > 0){\n\t\t\teventsArray.sort((a, b) => (a.layer > b.layer) ? 1 : -1)\n\t\t\tlargestLayer = eventsArray[eventsArray.length-1].layer\n\t\t}\n\n\t\teventsArray.sort((a, b) => (a.layer > b.layer) ? 1 : -1)\n\n\t\t//Find the largets layer number\n\t\tconst initialLayers = []\n\n\t\t//new Array(largestLayer+1).fill(0)\n\n\t\tfor(let i = 0; i < largestLayer + 1; i++){\n\t\t\t//console.log(i)\n\t\t\tinitialLayers.push([i])\n\t\t}\n\n\t\tsetLayers(initialLayers)\n\t\tsetEvents(allEvents)\n\n\t\tif(annotationsSaved){\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetSaved(false)\n\t\t\t}, 3000);\n\t\t}\n\n\t}, [eventsArray])\n\n\tif(shouldUpdate === true){\n\n\t\tsetShouldUpdate(false)\n\t}\n\n\tconst togglendTimeline = () => {\n\n\t\tsetTimelineMinimized(!timelineMinimized)\n\t}\n\n\t// const toggleEventList = () => {\n\t// \tif(eventListMinimized){\n\t// \t\tsetWidth(31)\n\t// \t}\n\t// \telse {\n\t// \t\tsetWidth(35)\n\t// \t}\n\t// \tsetEventListMinimized(!eventListMinimized)\n\t// }\n\n\tconst getVideoDuration = (duration) => {\n\t\tsetVideoLength(duration)\n\t}\n\n\tconst handleTabChange = tab => () => {\n\t\tsetTab(tab)\n\t}\n\n\tconst handleAddLayer = () => {\n\t\tconst currentLayers = [...layers]\n\n\t\tconst newLayer = currentLayers.length\n\n\t\tcurrentLayers.push(newLayer)\n\t\tsetLayers(currentLayers)\n\t\tsetSideEditor(false)\n\t\tsetDisplayLayer(currentLayers.length-1)\n\t}\n\n\tconst handleRemoveLayer = (e, index) => {\n\t\t//console.log(e)\n\t\tif(e !== null){\n\t\t\t//console.log('remove layer: ', index)\n\t\t\tlet currentLayers = [...layers]\n\t\t\tlet currentEvents = [...allEvents]\n\t\t\tlet toDelete = []\n\n\t\t\tcurrentLayers.splice(index, 1)\n\n\t\t\tcurrentEvents.forEach((element, i) => {\n\t\t\t\tif(element.layer === index){\n\t\t\t\t\ttoDelete.push(element)\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//console.log('%c to delete', 'color: red;', toDelete)\n\n\t\t\ttoDelete.forEach((element) => {\n\t\t\t\tcurrentEvents.splice(currentEvents.findIndex(item => item === element), 1)\n\t\t\t});\n\n\t\t\t//console.log('%c left Events', 'color: blue;', currentEvents)\n\n\t\t\tsetLayers(currentLayers)\n\t\t\tsetSideEditor(false)\n\t\t\tsetDisplayLayer(currentLayers.length-1)\n\t\t\tsetAllEvents(currentEvents)\n\t\t\tsetEvents(currentEvents)\n\t\t}\n\t}\n\n\tconst eventDropHandler = (item, index) => {\n\t\t// console.log(`Event Drop Handler: `, item, index)\n\t\taddEventToLayer(item, index)\n\t}\n\n\tconst addEventToLayer = (item, index) => {\n\t\t//TODO: Change this to use real JS event objects and insert based on time\n\t\tlet currentEvents = []\n\t\tif(allEvents !== undefined){\n\t\t\tcurrentEvents = [...allEvents]\n\t\t}\n\t\t//console.log('ADDING NEW EVENT')\n\t\tconst matchingEvent = filterValue(events, `type`, item.id)\n\n\t\tconst eventObj = {\n\t\t\t...matchingEvent,\n\t\t\tlayer: index\n\t\t}\n\n\t\tcurrentEvents.push(eventObj)\n\t\tsetAllEvents(currentEvents)\n\t\tsetDisplayLayer(index)\n\t}\n\n\tconst updateEvents = (index, event, layerIndex) => {\n\t\t//console.log('Update', event)\n\t\tlet canAccessDom = false\n\t\tif(showSideEditor && eventListMinimized === false){\n\t\t\tcanAccessDom = true\n\t\t\tdocument.getElementById('sideTabMessage').style.color='red'\n\t\t}\n\n\t\tlet currentEvents = [...allEvents]\n\n\t\t//check start event times\n\t\tif(event.start < 0){\n\t\t\tevent.start = 0\n\t\t\tif(canAccessDom){\n\t\t\t\tdocument.getElementById('sideTabExplanation').innerText='Changed start time to 0'\n\t\t\t}\n\t\t}\n\t\telse if(event.start >= 100) {\n\t\t\tevent.start = 95\n\t\t\tevent.end = 100\n\t\t\tif(canAccessDom){\n\t\t\t\tdocument.getElementById('sideTabExplanation').innerHTML=`Start time cannot be larger than ${videoLength} <br/> Changed values to match criteria`\n\t\t\t}\n\t\t}\n\t\telse if(event.start > event.end){\n\t\t\tif(canAccessDom){\n\t\t\t\tdocument.getElementById('sideTabExplanation').innerHTML=`Start time cannot be larger than end time <br/> Change values to match criteria`\n\t\t\t}\n\t\t}\n\n\t\t//check end event times\n\t\tif(event.end <= event.start){\n\t\t\tif(canAccessDom){\n\t\t\t\tdocument.getElementsByClassName('sideTabInput')[1].value=event.end\n\t\t\t\tdocument.getElementById('sideTabMessage').innerHTML='Please, enter a number bigger than star time'\n\t\t\t}\n\t\t}\n\t\telse if(event.end > 100){\n\t\t\t//event.end = 100\n\t\t\tif(canAccessDom){\n\t\t\t\tdocument.getElementById('sideTabMessage').innerHTML=`Please, enter a number less than ${videoLength}`\n\t\t\t\tdocument.getElementById('sideTabExplanation').innerHTML=`End time cannot be larger than ${videoLength} <br/> Change value to ${videoLength} or less`\n\t\t\t}\n\t\t}\n\n\t\tif(0 <= event.start && event.start < event.end && event.end <= 100){\n\t\t\tif(canAccessDom){\n\t\t\t\tdocument.getElementById('sideTabMessage').style.color='green'\n\t\t\t\tdocument.getElementById('sideTabMessage').innerHTML='Start and end times have been updated correctly'\n\t\t\t\tdocument.getElementById('sideTabExplanation').innerHTML=``\n\t\t\t}\n\t\t}\n\n\t\tcurrentEvents[index] = event\n\n\t\tsetAllEvents(currentEvents)\n\t\tsetEvents(currentEvents)\n\t\tsetDisplayLayer(layerIndex)\n\t\tsetEventToEdit(index)\n\t\tsetSideEditor(true)\n\t}\n\n\tconst deleteEvent = () => {\n\t\tlet currentEvents = [...allEvents]\n\t\tcurrentEvents.splice(eventToEdit, 1)\n\n\t\tsetAllEvents(currentEvents)\n\t\tsetEvents(currentEvents)\n\t\tsetEventToEdit(1000)\n\t\tsetSideEditor(false)\n\t}\n\n\t// const handleCensorRemove = (item) => {\n\t// \tlet index = eventToEdit\n\t// \tlet cEvent = allEvents[index]\n\t// \tlet layer = cEvent.layer\n\n\t// \tdelete cEvent.position[item]\n\n\t// \tupdateEvents(index, cEvent, layer)\n\n\t// }\n\n\t// const handleAddCensor = () => {\n\n\t// \tlet temp = editCensor\n\t// \tconst last = Object.keys(temp)\n\n\t// \tif(videoCurrentTime === 0 && last.length === 0){\n\t// \t\ttemp[`0.0`] = [0 ,0, 30, 40]\n\t// \t}\n\t// \telse if(videoCurrentTime == 0 && last.length > 0){\n\t// \t\ttemp[`${(parseInt(last[last.length - 1]) + 1).toFixed(1)}`] = [0 ,0, 30, 40]\n\t// \t}\n\t// \telse{\n\t// \t\ttemp[`${videoCurrentTime.toFixed(1)}`] = [0 ,0, 30, 40]\n\t// \t}\n\n\t// \tconsole.log('temp', temp)\n\t// \tdocument.getElementById('tableBottom').scrollIntoView(false)\n\t// \tsetEditCensor(temp)\n\t// \thandleSaveCensor()\n\t// }\n\n\t// const handleEditCensor = (e, item, int) => {\n\t// \tlet object = editCensor\n\t// \t//console.log(editCensor)\n\t// \tlet value = (parseFloat(e.target.value)).toFixed(1)\n\n\t// \tswitch (int) {\n\t// \t\tcase 1:\n\t// \t\t\tobject[item][0] = value\n\t// \t\t\tbreak;\n\t// \t\tcase 2:\n\t// \t\t\tobject[item][1] = value\n\t// \t\t\tbreak;\n\t// \t\tcase 3:\n\t// \t\t\tobject[item][2] = value\n\t// \t\t\tbreak;\n\t// \t\tcase 4:\n\t// \t\t\tobject[item][3] = value\n\t// \t\t\tbreak;\n\n\t// \t\tdefault:\n\t// \t\t\tbreak;\n\t// \t}\n\n\t// \tsetEditCensor(object)\n\t// }\n\n\t// const handleSaveCensor = () => {\n\t// \tconsole.log('SAVE CENSOR')\n\t// \tlet index = eventToEdit\n\t// \tlet cEvent = allEvents[index]\n\t// \tlet layer = cEvent.layer\n\n\t// \tcEvent.position = editCensor\n\n\t// \tsetEditCensor({})\n\t// \tupdateEvents(index, cEvent, layer)\n\t// }\n\n\tconst openSideEditor = (layerIndex, eventIndex) => {\n\t\tsetEventToEdit(eventIndex)\n\t\tsetDisplayLayer(layerIndex)\n\t\tsetSideEditor(true)\n\t}\n\n\tconst closeSideEditor = () => {\n\t\tsetSideEditor(false)\n\t}\n\n\tconst filterValue = (obj, key, value) => {\n\t\treturn obj.find((v) => {\n\t\t\treturn v[key] === value\n\t\t})\n\t}\n\n\tconst handleSaveAnnotation = () => {\n\t\tsetSaved(true)\n\t\tlet content = currentContent\n\t\tcontent.settings.annotationDocument = [...allEvents]\n\n\t\tupdateContent(content)\n\t}\n\n\tconst handleScrollFactor = (direction) => {\n\t\t//console.log('called')\n\t\tif(document.getElementsByClassName('layer-container') !== undefined){\n\t\t\tlet scrubber = document.getElementById('time-bar')\n\t\t\tlet timeIndicator = document.getElementById('time-indicator-container')\n\t\t\tlet alllayers = Array.from(document.getElementsByClassName('layer-container'))\n\t\t\tlet currentLayerWidth = document.getElementsByClassName('events')[0].clientWidth\n\t\t\tlet scrollBarContainer = ((document.getElementsByClassName('zoom-scroll-container')[0].offsetWidth))\n\t\t\tlet scrollBar = document.getElementsByClassName('zoom-scroll-indicator')[0]\n\n\t\t\tlet cLeft = parseInt(scrollBar.style.left)\n\t\t\tlet scrollBarOffset = scrollBarContainer * 0.03\n\t\t\tlet lastPossibleRight = document.getElementsByClassName('zoom-scroll-container')[0].clientWidth - document.getElementsByClassName('zoom-scroll-indicator')[0].clientWidth\n\t\t\t//console.log(lastPossibleRight)\n\t\t\tconsole.log(cLeft)\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'start':\n\t\t\t\t\tscrubber.scrollLeft = 0\n\t\t\t\t\ttimeIndicator.scrollLeft = 0\n\t\t\t\t\talllayers.forEach((element, i) => {\n\t\t\t\t\t\talllayers[i].scrollLeft = 0\n\t\t\t\t\t});\n\t\t\t\t\tscrollBar.style.left = '0px'\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'left':\n\t\t\t\t\tscrubber.scrollLeft -= currentLayerWidth * 0.03\n\t\t\t\t\ttimeIndicator.scrollLeft -= currentLayerWidth * 0.03\n\t\t\t\t\talllayers.forEach((element, i) => {\n\t\t\t\t\t\talllayers[i].scrollLeft -= currentLayerWidth * 0.03\n\t\t\t\t\t});\n\t\t\t\t\t//FIND 3 PERCENT OF PARENT\n\t\t\t\t\t//CURRENT LEFT MINUS NEW LEFT\n\t\t\t\t\tif(isNaN(cLeft) === false && (cLeft - scrollBarOffset) > -1){\n\t\t\t\t\t\tscrollBar.style.left = `${cLeft - scrollBarOffset}px`\n\t\t\t\t\t}\n\t\t\t\t\telse if ((cLeft - scrollBarOffset) < 0){\n\t\t\t\t\t\tscrollBar.style.left = `0px`\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tscrubber.scrollLeft += currentLayerWidth * 0.03\n\t\t\t\t\ttimeIndicator.scrollLeft += currentLayerWidth * 0.03\n\t\t\t\t\t//console.log(scrollPercentage / scrollIndicatorWidth)\n\t\t\t\t\talllayers.forEach((element, i) => {\n\t\t\t\t\t\talllayers[i].scrollLeft += currentLayerWidth * 0.03\n\t\t\t\t\t});\n\t\t\t\t\tif(zoomFactor !== 0){\n\t\t\t\t\t\tif(isNaN(cLeft) === true){\n\t\t\t\t\t\t\tscrollBar.style.left = `${scrollBarOffset}px`\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tscrollBar.style.left = `${cLeft + scrollBarOffset}px`\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ((cLeft + scrollBarOffset) > lastPossibleRight){\n\t\t\t\t\t\tconsole.log('got to the end')\n\t\t\t\t\t\tscrollBar.style.left = `${scrollBarContainer - scrollBar.clientWidth}px`\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'end':\n\t\t\t\t\tscrubber.scrollLeft += currentLayerWidth\n\t\t\t\t\ttimeIndicator.scrollLeft += currentLayerWidth\n\t\t\t\t\talllayers.forEach((element, i) => {\n\t\t\t\t\t\talllayers[i].scrollLeft += currentLayerWidth\n\t\t\t\t\t});\n\t\t\t\t\tscrollBar.style.left = `${scrollBarContainer - scrollBar.clientWidth}px`\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t//OLD SCROLL FUNCTIONALITY\n\t// const handleScrollFactorD = (e, d) => {\n\t// \tconsole.log('in scroll')\n\t// \tsetScrollFactor(d.x)\n\t// \tconsole.log(d)\n\t// \tlet scrollPercentage = ((d.x * 100) / scrollWidth)\n\t// \t//console.log(scrollPercentage)\n\n\t// \tif(document.getElementsByClassName('layer-container') !== undefined){\n\t// \t\tlet scrubber = document.getElementById('time-bar')\n\t// \t\tlet timeIndicator = document.getElementById('time-indicator-container')\n\t// \t\tlet alllayers = Array.from(document.getElementsByClassName('layer-container'))\n\t// \t\tlet currentLayerWidth = document.getElementsByClassName('events')[0].clientWidth\n\t// \t\tlet scrollIndicatorWidth = ((document.getElementsByClassName('zoom-scroll-indicator')[0].clientWidth) * 100) / scrollWidth\n\t// \t\tlet scrollBar = document.getElementsByClassName('zoom-scroll-indicator')[0]\n\n\t// \t\tif(d.x === 0){\n\t// \t\t\tscrubber.scrollLeft -= d.x + 100 * 100\n\t// \t\t\ttimeIndicator.scrollLeft -= d.x + 100 * 100\n\t// \t\t\tconsole.log('got here')\n\t// \t\t\tscrollBar.style.transform = 'translate(0px, 0px)'\n\t// \t\t\talllayers.forEach((element, i) => {\n\t// \t\t\t\talllayers[i].scrollLeft -= d.x + 100 * 100\n\t// \t\t\t});\n\t// \t\t}\n\t// \t\telse if(d.x < scrollFactor){\n\t// \t\t\tscrubber.scrollLeft = ((scrollPercentage * currentLayerWidth) / 100)\n\t// \t\t\ttimeIndicator.scrollLeft = ((scrollPercentage * currentLayerWidth) / 100)\n\t// \t\t\talllayers.forEach((element, i) => {\n\t// \t\t\t\talllayers[i].scrollLeft = ((scrollPercentage * currentLayerWidth) / 100)\n\t// \t\t\t});\n\t// \t\t}\n\t// \t\telse {\n\t// \t\t\tscrubber.scrollLeft = (((scrollPercentage) * currentLayerWidth) / 100)\n\t// \t\t\ttimeIndicator.scrollLeft = (((scrollPercentage) * currentLayerWidth) / 100)\n\t// \t\t\tconsole.log(scrollPercentage / scrollIndicatorWidth)\n\t// \t\t\talllayers.forEach((element, i) => {\n\t// \t\t\t\tif(scrollPercentage + scrollIndicatorWidth >= 100){\n\t// \t\t\t\t\talllayers[i].scrollLeft = (((scrollPercentage + scrollIndicatorWidth) * currentLayerWidth) / 100)\n\t// \t\t\t\t}\n\t// \t\t\t\telse {\n\t// \t\t\t\t\talllayers[i].scrollLeft = (((scrollPercentage + (scrollIndicatorWidth / scrollPercentage )) * currentLayerWidth) / 100)\n\t// \t\t\t\t}\n\t// \t\t\t});\n\n\t// \t\t\t// scrubber.scrollLeft = (((scrollPercentage  + scrollIndicatorWidth / 2) * currentLayerWidth) / 100)\n\t// \t\t\t// timeIndicator.scrollLeft = (((scrollPercentage  + scrollIndicatorWidth / 2) * currentLayerWidth) / 100)\n\t// \t\t\t// alllayers.forEach((element, i) => {\n\t// \t\t\t// \t//console.log(currentLayerWidth)\n\t// \t\t\t// \tconsole.log(scrollPercentage + (scrollIndicatorWidth))\n\t// \t\t\t// \tif(scrollPercentage + scrollIndicatorWidth >= 100){\n\t// \t\t\t// \t\talllayers[i].scrollLeft = (((scrollPercentage + scrollIndicatorWidth) * currentLayerWidth) / 100)\n\t// \t\t\t// \t}\n\t// \t\t\t// \telse {\n\t// \t\t\t// \t\talllayers[i].scrollLeft = (((scrollPercentage + scrollIndicatorWidth / 2) * currentLayerWidth) / 100)\n\t// \t\t\t// \t}\n\t// \t\t\t// });\n\t// \t\t}\n\t// \t}\n\t// }\n\n\t// THIS IS PART OF CENSOR\n\t// const handleLastClick = (height, width, x, y, time) => {\n\t// \t//console.log(height, width)\n\n\t// \tif(eventToEdit < allEvents.length && allEvents[eventToEdit].type === 'Censor'){\n\t// \t\t//console.log('%c Added position', 'color: red; font-weight: bold; font-size: 1.2rem;')\n\t// \t\tlet index = eventToEdit\n\t// \t\tlet cEvent = allEvents[index]\n\t// \t\tlet layer = cEvent.layer\n\n\t// \t\tlet value = Object.keys(cEvent.position).find(item => item >= time)\n\n\t// \t\t// cEvent.position[time] = [((x / width) * 100) - (((x / width) * 100)*.5), (((y-86) / height) * 100) - ((((y-86) / height) * 100)*.5)]\n\t// \t\tif(cEvent.position[`${(time).toFixed(1)}`] !== undefined){\n\t// \t\t\tcEvent.position[`${(time).toFixed(1)}`] = [((x / width) * 100), (((y-86) / height) * 100), cEvent.position[`${time.toFixed(1)}`][2], cEvent.position[`${time.toFixed(1)}`][3]]\n\t// \t\t}\n\t// \t\telse {\n\t// \t\t\tcEvent.position[`${(time).toFixed(1)}`] = [((x / width) * 100), (((y-86) / height) * 100), 30, 40]\n\t// \t\t}\n\n\t// \t\t//console.log(cEvent.position)\n\t// \t\tupdateEvents(index, cEvent, layer)\n\t// \t}\n\t// }\n\n\treturn (\n\t\t<Style>\n\t\t\t<DndProvider backend={Backend}>\n\n\t\t\t<span style={{ zIndex: 0 }}>\n\n\t\t\t\t<Controller className='video'\n\t\t\t\t\turl={props.viewstate.url}\n\t\t\t\t\thandlers={togglendTimeline}\n\t\t\t\t\tgetDuration={getVideoDuration}\n\t\t\t\t\tminimized={timelineMinimized}\n\t\t\t\t\ttogglendTimeline={togglendTimeline}\n\t\t\t\t\t>\n\t\t\t\t</Controller>\n\n\t\t\t\t<Timeline minimized={timelineMinimized} zoom={scrollBarWidth}>\n\n\t\t\t\t\t<section>\n\t\t\t\t\t\t{/* //TODO: Add delete logic */}\n\t\t\t\t\t\t<div className='event-layers'>\n\n\t\t\t\t\t\t\t\t{layers.map((layer, index) => (\n\t\t\t\t\t\t\t\t\t<div className={`layer`} key={index}>\n\t\t\t\t\t\t\t\t\t\t<div className={`handle`} onClick={() => setDisplayLayer(index)}>\n\t\t\t\t\t\t\t\t\t\t\t<p>Layer {index} <img className={'layer-delete'} src={trashIcon} width=\"20px\" width=\"20px\" onClick={ e => handleRemoveLayer(e, index)}/></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/* <HandleIcon /> */}\n\t\t\t\t\t\t\t\t\t\t\t<TrackLayer\n\t\t\t\t\t\t\t\t\t\t\t\tvideoLength={videoLength}\n\t\t\t\t\t\t\t\t\t\t\t\tminimized={eventListMinimized}\n\t\t\t\t\t\t\t\t\t\t\t\twidth={layerWidth}\n\t\t\t\t\t\t\t\t\t\t\t\tevents={allEvents}\n\t\t\t\t\t\t\t\t\t\t\t\tactiveEvent={eventToEdit}\n\t\t\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\t\t\tonDrop={(item) => eventDropHandler(item,index)}\n\t\t\t\t\t\t\t\t\t\t\t\tsideEditor={openSideEditor}\n\t\t\t\t\t\t\t\t\t\t\t\tupdateEvents={updateEvents}\n\t\t\t\t\t\t\t\t\t\t\t\tcloseEditor={closeSideEditor}\n\t\t\t\t\t\t\t\t\t\t\t\tdisplayLayer={displayLayer}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\n\n\t\t\t\t\t\t\t\t<NewLayer onClick={handleAddLayer}>\n\t\t\t\t\t\t\t\t\t<Icon src={plus}/>\n\t\t\t\t\t\t\t\t</NewLayer>\n\t\t\t\t\t\t\t\t<br/><br/><br/><br/><br/><br/><br/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</section>\n\t\t\t\t\t<div className='zoom-controls'>\n\t\t\t\t\t{/* ADD ZOOM ICON */}\n\t\t\t\t\t\t<div className='zoom-factor' style={{ visibility: `${timelineMinimized ? ` hidden` : `initial`}`}}>\n\t\t\t\t\t\t\t<Rnd\n\t\t\t\t\t\t\t\tclassName={'zoom-indicator'}\n\t\t\t\t\t\t\t\tbounds={'parent'}\n\t\t\t\t\t\t\t\tenableResizing={{top:false, right:false, bottom:false, left:false, topRight:false, bottomRight:false, bottomLeft:false, topLeft:false}}\n\t\t\t\t\t\t\t\tdragAxis=\"x\"\n\t\t\t\t\t\t\t\tonDragStop={(e, d) => {\n\t\t\t\t\t\t\t\t\tif(d.x < zoomFactor){\n\t\t\t\t\t\t\t\t\t\tif(d.x === 0){\n\t\t\t\t\t\t\t\t\t\t\t//console.log('zero')\n\t\t\t\t\t\t\t\t\t\t\tsetZoomFactor(0)\n\t\t\t\t\t\t\t\t\t\t\tsetWidth(0)\n\t\t\t\t\t\t\t\t\t\t\thandleScrollFactor('start')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\t//console.log('smaller')\n\t\t\t\t\t\t\t\t\t\t\tsetZoomFactor(d.x)\n\t\t\t\t\t\t\t\t\t\t\tsetWidth(-(Math.abs(zoomFactor - d.x) * videoLength / 10))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse if(d.x > zoomFactor) {\n\t\t\t\t\t\t\t\t\t\t//console.log('larger')\n\t\t\t\t\t\t\t\t\t\tsetZoomFactor(d.x)\n\t\t\t\t\t\t\t\t\t\tsetWidth((Math.abs(zoomFactor - d.x) * videoLength / 10))\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsetScrollBar(document.getElementsByClassName('layer-container')[0].clientWidth * 100 / document.getElementsByClassName('events')[0].clientWidth)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></Rnd>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='zoom-scroll' style={{ visibility: `${timelineMinimized ? ` hidden` : `initial`}`}}>\n\n\t\t\t\t\t\t\t<div style={{ width: '90%', height: '100%', display: 'flex', marginLeft: '5%' }}>\n\n\t\t\t\t\t\t\t\t{/* <Rnd\n\t\t\t\t\t\t\t\t\tclassName={'zoom-scroll-indicator'}\n\t\t\t\t\t\t\t\t\tbounds={'parent'}\n\t\t\t\t\t\t\t\t\tenableResizing={{top:false, right:false, bottom:false, left:false, topRight:false, bottomRight:false, bottomLeft:false, topLeft:false}}\n\t\t\t\t\t\t\t\t\tdragAxis=\"x\"\n\t\t\t\t\t\t\t\t\tonDrag={(e, d) => handleScrollFactor(e, d)}\n\t\t\t\t\t\t\t\t></Rnd> */}\n\t\t\t\t\t\t\t\t<span onClick={ e => handleScrollFactor('start') } style={{ margin: 'auto' }}><img src={llIcon}/></span>\n\t\t\t\t\t\t\t\t<span onClick={ e => handleScrollFactor('left') } style={{ margin: 'auto' }}><img src={lIcon}/></span>\n\t\t\t\t\t\t\t\t\t<div className={'zoom-scroll-container'}>\n\t\t\t\t\t\t\t\t\t\t{/* <div style={{ width: '98%',  height: '100%', backgroundColor: 'red'}}></div> */}\n\t\t\t\t\t\t\t\t\t\t<div className={'zoom-scroll-indicator'}></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span onClick={ e => handleScrollFactor('right') } style={{ margin: 'auto' }}><img src={rIcon}/></span>\n\t\t\t\t\t\t\t\t<span onClick={ e => handleScrollFactor('end') } style={{ margin: 'auto' }}><img src={rrIcon}/></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id={'time-indicator-container'}>\n\t\t\t\t\t\t\t\t<div id={'layer-time-indicator'}>\n\t\t\t\t\t\t\t\t\t<span id={'layer-time-indicator-line'}></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Timeline>\n\n\t\t\t</span>\n\n\t\t\t<EventList minimized={eventListMinimized}>\n\n\t\t\t\t<header>\n\t\t\t\t\t{/* <div className='carat'>\n\t\t\t\t\t\t<EventListCarat onClick={toggleEventList} className={eventListMinimized ? `minimized` : ``}/>\n\t\t\t\t\t</div> */}\n\t\t\t\t\t{/* <div className={`tab active`}>Events</div> */}\n\t\t\t\t\t<div className={`save`}><button onClick={handleSaveAnnotation}><img src={`${saveIcon}`}/><span>Save</span></button></div>\n\n\t\t\t\t</header>\n\n\t\t\t\t{tab === `events` ?\n\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className='breadcrumbs'>\n\t\t\t\t\t\t\t<span>Events</span>\n\t\t\t\t\t\t\t{ showSideEditor &&\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<span className='carat'></span>\n\t\t\t\t\t\t\t\t\t<span className='current'>{eventToEdit !== undefined ? `${allEvents[eventToEdit].type}` : ''}</span>\n\n\t\t\t\t\t\t\t\t\t<button className='deleteEventButton' onClick={deleteEvent}>Delete Event</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{ showSideEditor !== false && eventListMinimized !== true ? (\n\t\t\t\t\t\t\t\t<TrackEditorSideMenu\n\t\t\t\t\t\t\t\t\tsingleEvent={allEvents[eventToEdit]}\n\t\t\t\t\t\t\t\t\tindex={eventToEdit}\n\t\t\t\t\t\t\t\t\tvideoLength={videoLength}\n\t\t\t\t\t\t\t\t\tcloseSideEditor={closeSideEditor}\n\t\t\t\t\t\t\t\t\tupdateEvents={updateEvents}\n\t\t\t\t\t\t\t\t></TrackEditorSideMenu>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className='eventsList'>\n\t\t\t\t\t\t\t\t\t{events.map((event, i) => (\n\t\t\t\t\t\t\t\t\t\t<EventCard event={event} key={i} />\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\n\t\t\t\t\t:\n\t\t\t\t\t(null)\n\t\t\t\t}\n\t\t\t</EventList>\n\t\t</DndProvider>\n\t\t<>\n\t\t\t<AnnotationMessage style={{ visibility: `${annotationsSaved ? (`visible`) : (`hidden`)}`, opacity: `${annotationsSaved ? (`1`) : (`0`)}`, }}>\n\t\t\t\t<h2>Annotations saved successfully</h2>\n\t\t\t</AnnotationMessage>\n\t\t</>\n\t</Style>\n\t)\n}\n\nexport default TrackEditor\n","import styled from 'styled-components'\n\nimport timeBarIcon from 'assets/time-bar-icon.svg'\n\nexport const Icon = styled.div`\n\t/* transform: rotate(45deg); */\n  background: url(${props => props.src}) center no-repeat;\n  background-size: 18px 18px;\n  height: 4rem;\n  width: 4rem;\n`\n\nexport const Style = styled.div`\n\n\t/* width: auto; */\n\twidth: 100%;\n\theight: auto;\n\tz-index: 0;\n\toverflow-x: scroll;\n\n\t& .eventsbox {\n    position: relative;\n    width: 100%;\n    height: 100%;\n\t}\n\n\t& .events {\n\t\twidth: ${props => props.layerWidth !== 0 ? `${props.layerWidth}px` : (`calc(100%)`)};\n\t\tborder-bottom: 1px dashed var(--light-blue);\n\t\tdisplay: flex;\n\t\theight: 45px;\n\t\tposition: absolute;\n\t\tborder-right: 2px solid var(--light-blue);\n\t\t/* background: url(${timeBarIcon}) center repeat;\n\t\tbackground-size: 200px 100%; */\n\t}\n\n\t& .layer-event {\n\t\tborder: 1px solid var(--light-blue) !important;\n\t\tborder-radius: 3px;\n\t\theight: 46px !important;\n\t\tpadding: 1px;\n\t\tmin-width: .01%;\n\t\toverflow: hidden !important;\n\t\tdisplay: flex !important;\n\t\tbackground-color: white;\n\t\tbox-shadow: 2px 2px 3px rgba(0,0,0, 0.2), -2px -2px 3px rgba(0,0,0, 0.2);\n\t\toverflow-x: scroll !important;\n\n\t\t&\tp {\n\t\t\tfont-size: 1.3rem;\n\t\t\ttext-align: left;\n\t\t\tmargin: auto 0px auto 2px;\n\t\t\tpadding: 1px 2px 1px 2px;\n\t\t\tbackground-color: transparent;\n\n\t\t}\n\t\t&\tdiv{\n\t\t\ttext-align: right;\n\t\t\tmargin: 0px;\n\t\t\tpadding: 0px 3px 0px 3px;\n\t\t}\n\t}\n\n\t& .active-event {\n\t\tbackground-color: var(--navy-blue);\n\t\t& p { color: white !important; };\n\t}\n\n\t& .active-layer {\n\t\tbackground-color: rgba(0, 46, 93, 0.1);\n\t\t& p {\n\t\t\tcolor: black;\n\t\t\tfont-size: 1.3rem;\n\t\t}\n\t}\n`","import React, { useState, useRef, useLayoutEffect } from 'react'\n\nimport { useDrop } from 'react-dnd'\nimport { Rnd } from \"react-rnd\";\n\nimport {\n\tIcon, Style\n} from './styles'\n\n// TODO: Copy styles from NewTrackEditor used by these components into this file\n\n// This is inspired from the React DnD example found here: https://react-dnd.github.io/react-dnd/examples/dustbin/multiple-targets\n\nconst TrackLayer = props => {\n\n\t//console.log('%c Layer Component', 'color: blue; font-weight: bolder; font-size: 12px;')\n\n\tconst { events, onDrop, sideEditor, updateEvents, activeEvent, width, minimized, videoLength, displayLayer} = props\n\tconst layerIndex = parseInt(props.index)\n\n\tconst layerRef =  useRef(null)\n\n\tconst [initialWidth, setInitialWidth] = useState(0)\n\tconst [shouldUpdate, setShouldUpdate] = useState(false)\n\tconst [layerWidth, setLayerWidth] = useState(0)\n\tconst [layerHeight, setLayerHeight] = useState(0)\n\tconst [isEditorOpen, setEditorOpen] = useState(false)\n\n\tif(shouldUpdate){\n\t\tsetShouldUpdate(false)\n\t}\n\n\tuseLayoutEffect(() => {\n\t\tsetInitialWidth(layerRef.current.offsetWidth)\n\t\tif(layerWidth === 0){\n\t\t\tsetLayerWidth(layerRef.current.offsetWidth + width)\n\t\t}\n\t\telse if (width === 0){\n\t\t\tsetLayerWidth(initialWidth)\n\t\t}\n\t\telse {\n\t\t\tsetLayerWidth(layerWidth + width)\n\t\t}\n\t\tsetLayerHeight(layerRef.current.offsetHeight*layerIndex)\n \t}, [width]);\n\n\tif(document.getElementsByClassName('total')[0] !== undefined && layerWidth !== 0){\n\t\tdocument.getElementById('time-bar-container').style.width = `${layerWidth - 2}px`\n\t\tdocument.getElementsByClassName('total')[0].style.width = `${layerWidth - 2}px`\n\t\tdocument.getElementById('layer-time-indicator').style.width = `${layerWidth}px`\n\t}\n\t//This object is to tell the onReziseStop nevent for the Rnd component that resizing can only be right and left\n\tconst Enable = {top:false, right:true, bottom:false, left:true, topRight:false, bottomRight:false, bottomLeft:false, topLeft:false}\n\n\t// Drag and Drop event to the layer\n\tconst [, dropRef] = useDrop({\n\t\taccept: `timeline-event`,\n\t\tdrop: onDrop,\n\t\thover: (item, monitor) => {},\n\t})\n\t//Drag within the layer\n\tconst handleDrag = (d, event, index) => {\n\t\tlet cEvents = events\n\t\tconst beginTimePercentage = (d.x / layerWidth) * 100\n\t\tconst endPercentage = beginTimePercentage + (event.end - event.start)\n\n\t\t//LOGIC TO CHANGE THE TIME @params beginTime, end\n\t\tcEvents[index].start = beginTimePercentage\n\t\tcEvents[index].end = endPercentage\n\n\t\tif(cEvents[index].end > 100){\n\t\t\tcEvents[index].end = 100\n\t\t}\n\t\tif(cEvents[index].start < 0){\n\t\t\tcEvents[index].start = 0\n\t\t}\n\t\t//call handler from parent\n\t\tupdateEvents(index, cEvents[index], layerIndex)\n\t}\n\t//Resize within the layer\n\tconst handleResize = (direction, ref, delta, event, index, e ) => {\n\t\tlet cEvents = events\n\t\tconst difference = (delta.width / layerWidth) * 100\n\t\tif(direction === 'right'){\n\t\t\tcEvents[index].end += difference\n\n\t\t\tif(cEvents[index].end > 100){\n\t\t\t\tcEvents[index].end = 100\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tcEvents[index].start -= difference\n\n\t\t\tconsole.log(cEvents[index])\n\t\t\tif(cEvents[index].start < 0){\n\t\t\t\tcEvents[index].start = 0\n\t\t\t}\n\t\t\telse if(cEvents[index].start > 100){\n\t\t\t\tcEvents[index].start = 99\n\t\t\t\tcEvents[index].end = 100\n\t\t\t}\n\t\t}\n\n\t\tupdateEvents(index, cEvents[index], layerIndex)\n\t}\n\n\t//This opens the side tab editor\n\tconst toggleEditor = (layerIndex, eventIndex) => {\n\t\tsetEditorOpen(true)\n\t\tsideEditor(layerIndex, eventIndex)\n\t}\n\n\tconst printEvents = (event, index) => {\n\t\treturn (\n\t\t\t<Rnd\n\t\t\t\tclassName={`layer-event ${activeEvent === index ? 'active-event' : ''}`}\n\t\t\t\tid={`event-${index}`}\n\t\t\t\tsize={{width: `${((event.end - event.start)/100) * layerWidth}px`, height: '46px'}}\n\t\t\t\tposition={{ x: parseFloat((event.start / 100) * layerWidth), y: 0}}\n\t\t\t\tenableResizing={Enable}\n\t\t\t\tdragAxis=\"x\"\n\t\t\t\tbounds={`.layer-${layerIndex}`}\n\t\t\t\tonDragStop={(e, d) => handleDrag(d, event, index)}\n\t\t\t\tonResizeStop={(e, direction, ref, delta, position) => handleResize(direction, ref, delta, event, index, e, position)}\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => toggleEditor(layerIndex, index)}\n\t\t\t\tstyle={{ left: `${event.start}% !important`, top: `-${layerHeight}px !important`}}\n\t\t\t>\n\t\t\t\t{/* //TODO: Change the p tag to be an svg icon */}\n\t\t\t\t<Icon src={event.icon}/>\n\t\t\t\t{ event.type !== 'Pause' ? (\n\t\t\t\t\t\t<p>{event.type} - From: {((event.start / 100) * videoLength).toFixed(1)}s - To: {((event.end / 100) * videoLength).toFixed(1)}s</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p>{event.type} - At: {((event.start / 100) * videoLength).toFixed(1)}s</p>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</Rnd>\n\t\t)\n\t}\n\n\treturn (\n\t\t<>\n\t\t<Style layerWidth={layerWidth} className='layer-container'>\n\t\t\t\t{/* overflow-x should be like scroll or something */}\n\t\t\t\t<div ref={layerRef} className='eventsbox'>\n\t\t\t\t\t<div className={`layer-${layerIndex} events ${displayLayer === layerIndex ? 'active-layer' : ''}`} ref={dropRef}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tevents !== undefined ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{events.map((event, index) => (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{event.layer === layerIndex ? (\n\t\t\t\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t\t\t\t{printEvents(event, index)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : (null)}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (null)\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/* <div id='layer-message' ></div> */}\n\t\t</Style>\n\t\t</>\n\t)\n}\n\nexport default TrackLayer\n\n","import styled from 'styled-components'\n\nconst Style = styled.div``\n\nexport default Style\n","import styled from 'styled-components'\nimport searchIcon from 'assets/search.svg'\n\nconst Style = styled.div`\nmax-width: 100rem;\n\npadding: 8.4rem 2.4rem 0 2.4rem;\nmargin: 0 auto;\n\n& header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 2rem;\n\n\t& > div {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\n\t\t& > h3 {\n\t\t\tfont-weight: bold;\n\t\t\tfont-size: 1.2rem;\n\t\t}\n\n\t\t& a {\n\t\t\tfont-weight: 300;\n\t\t\tfont-size: 1.2rem;\n\t\t\ttext-decoration: none;\n\t\t\tcolor: #000;\n\t\t}\n\n\t\t& > button {\n\t\t}\n\t}\n}\n`\n\nexport default Style\n\nexport const Title = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nexport const Button = styled.button`\n\tbackground-size: contain;\n\tborder: none;\n\tcursor: pointer;\n\theight: 3rem;\n\toutline: none;\n\twidth: 10rem;\n\tborder-radius: .5rem;\n\n\t&:hover {\n\t\tbox-shadow: 0 3px 6px -2px #A0A0A0;\n\t}\n`\n\nexport const Table = styled.table`\n\t/*background: white;*/\n\t/*box-shadow: 0 2px 5px -1px rgba(0,0,0,0.15);*/\n\twidth: 100%;\n\n\t& th {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t}\n\n\t& tr {\n\t\tbackground: white;\n\t\tbox-shadow: 0 2px 5px -1px rgba(0,0,0,0.15);\n\t}\n\n\t& td {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t\t& label {\n\t\t\tpadding: 1rem;\n\t\t}\n\t}\n`\n\nexport const TableContainer = styled.div`\n\theight: 25rem;\n\toverflow-y: scroll;\n`\n\nexport const Search = styled.form`\n\tposition: relative;\n\n\t& > input {\n\t\tz-index: 1;\n\t\tbackground: white;\n\n\t\theight: 4rem;\n\t\twidth: 30rem;\n\n\t\tfont-size: 1.5rem;\n\n\t\tborder: none;\n\t\tborder-radius: 2rem;\n\n\t\tmargin-left: 1rem;\n\n\t\tpadding: 0 1.25rem 0 3.25rem;\n\n\t\toutline: none;\n\t\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\t}\n`\n\nexport const SearchIcon = styled.span`\n\tposition: absolute;\n\tz-index: 10;\n\ttop: 1rem;\n\tleft: 2rem;\n\tbackground: url(${searchIcon}) center no-repeat;\n\tbackground-size: contain;\n\theight: 2rem;\n\twidth: 2rem;\n`","import styled from 'styled-components'\nimport uploadIcon from 'assets/upload.svg'\n\nexport const Form = styled.form`\n\tdisplay: grid;\n\t/* grid: repeat(3, 1fr) / 1fr; */\n\tgrid-gap: 2rem;\n\n\tmin-width: 30rem;\n\tmin-height: 35rem;\n\n\n\t& > div {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n`\n\nexport const Button = styled.button`\n\tfont-size: 1.5rem;\n\tcolor: ${props => props.color || `black`};\n\tbackground: transparent;\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n`\n\nexport const RemoveKeyword = styled.button`\n\theight: 1.5rem;\n\twidth: 1.5rem;\n\tbackground: url(${props => props.src}) center no-repeat;\n\tbackground-size: contain;\n\ttransform: rotate(45deg);\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n\tpadding: 0;\n\tmargin: 0 -.25rem 0 .25rem;\n`\n\nexport const TableContainer = styled.div`\n\theight: 25rem;\n\toverflow-y: scroll;\n`\n\nexport const Table = styled.table`\n\t/*background: white;*/\n\t/*box-shadow: 0 2px 5px -1px rgba(0,0,0,0.15);*/\n\twidth: 100%;\n\n\t& th {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t}\n\n\t& tr {\n\t\tbackground: white;\n\t\tbox-shadow: 0 2px 5px -1px rgba(0,0,0,0.15);\n\t}\n\n\t& td {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t\t& label {\n\t\t\tpadding: 1rem;\n\t\t}\n\t}\n`\n\nexport const Tabs = styled.div`\n\tmargin: 2rem 0;\n\tpadding: 0;\n`\n\nexport const Tab = styled.button`\n\tfont-weight: ${props => props.selected ? `500` : `300`};\n\tcolor: ${props => props.selected ? `#0057B8` : `black`};\n\n\tborder-radius: .3rem;\n\n\tpadding: .75rem 1.25rem;\n\tbackground: ${props => props.selected ? `#D2E8FF` : `transparent`};\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n`\n\nexport const UploadButton = styled.button`\n\tfont-size: 1.5rem;\n\tcolor: ${props => props.color || `black`};\n\tbackground: transparent;\n\tcursor: pointer;\n`\n\nexport const TypeButton = styled.button`\n\tbackground: transparent;\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n\n\tfont-weight: ${props => props.selected ? `500` : `300`};\n\tcolor: ${props => props.selected ? `#0057B8` : `black`};\n`\n\nexport const Upload = styled.div`\n\n\t& .files-input {\n\t\toutline: 2px dashed #92b0b3;\n    -webkit-transition: outline-offset .15s ease-in-out, background-color .15s linear;\n    transition: outline-offset .15s ease-in-out, background-color .15s linear;\n    padding: 1em;\n    text-align: center !important;\n    margin: 0;\n\t\tmargin-right: 20px;\n    width: 100% !important;\n\t}\n\n\t& .files{ position:relative }\n\n\t& .files:after {\n\t\tpointer-events: none;\n    position: absolute;\n    top: 10px;\n    left: 230px;\n    right: 0;\n\t\twidth: 50px;\n    height: 56px;\n    content: \"\";\n\t\tbackground-image: url(${uploadIcon});\n    display: block;\n    margin: 0 auto;\n    background-size: 50%;\n    background-repeat: no-repeat;\n\t}\n`\n\nexport const CategorySelect = styled.select`\n\tbackground: white;\n\tfont-size: 1.5rem;\n\n\tborder: none;\n\tborder-radius: 2rem;\n\n\tpadding: 0 1.25rem 0 1.25rem;\n\n\toutline: none;\n\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\t& option {\n\t\tmargin: auto auto 6px auto;\n\t}\n`","import React, { PureComponent } from 'react'\n\nimport {\n\tForm,\n\tUpload,\n\tUploadButton,\n\tButton,\n\tTypeButton,\n\tTab,\n\tCategorySelect,\n} from './styles'\n\nexport default class FileUpload extends PureComponent {\n\n\trender() {\n\n\t\tconst {\n\t\t\tcategory,\n\t\t\tselectedFile,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\tupdateFileVersion,\n\t\t\thandleFileChange,\n\t\t\thandleFileUpload,\n\t\t\ttoggleModal,\n\t\t\tonKeyPress,\n\t\t} = this.props.handlers\n\n\t\treturn (\n\t\t\t<Form onKeyPress={onKeyPress} onSubmit={handleFileUpload} id='upload-file-form'>\n\t\t\t\t<h2>File Upload</h2>\n\n\t\t\t\t<label htmlFor='create-resource-file-version'>\n\t\t\t\t\t<span>Select File</span>\n\t\t\t\t\t<Upload>\n\t\t\t\t\t\t<div className='files'>\n\t\t\t\t\t\t\t<input type='file' className='files-input' onChange={handleFileChange}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Upload>\n\t\t\t\t</label>\n\n\t\t\t\t<label htmlFor='create-resource-file-version'>\n\t\t\t\t\t<span>File Version</span>\n\t\t\t\t\t<CategorySelect id='categorySelect' onChange={updateFileVersion}>\n\t\t\t\t\t\t{Object.keys(category).map((c, index) => (\n\t\t\t\t\t\t\t<option value={category[c].name} key={index}>\n\t\t\t\t\t\t\t\t{category[c].name}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</CategorySelect>\n\t\t\t\t</label>\n\n\t\t\t\t<div>\n\t\t\t\t\t<Button type='button' onClick={toggleModal}>Cancel</Button>\n\t\t\t\t\t{selectedFile !== undefined ?\n\t\t\t\t\t\t<Button type='submit' color={`#0582CA`}>Upload</Button>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Button disabled={selectedFile === undefined} type='submit' color={`#A0A0A0`}>Upload</Button>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</Form>\n\t\t)\n\t}\n}\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport {\n\tinterfaceService,\n\tfileService,\n\tresourceService,\n} from 'services'\n\nimport FileUpload from 'components/modals/components/FileUpload'\n\nconst FileUploadContainer = props => {\n\n\tconst {\n\t\t// resource id from the Resource Overview Container\n\t\tresourceId,\n\t\ttoggleModal,\n\t\tresource,\n\t\tuploadFile,\n\t\tgetFiles,\n\t\tgetResource,\n\t\tuser,\n\t} = props\n\n\tconst category = {\n\t\tEnglish: {\n\t\t\tname: `English`,\n\t\t},\n\t\tFrench: {\n\t\t\tname: `French`,\n\t\t},\n\t\tMandarin: {\n\t\t\tname: `Mandarin`,\n\t\t},\n\t\tJapanese: {\n\t\t\tname: `Japanese`,\n\t\t},\n\t\tSpainsh: {\n\t\t\tname: `Spanish`,\n\t\t},\n\t\tKorean: {\n\t\t\tname: `Korean`,\n\t\t},\n\t}\n\n\tconst [selectedFile, setSelectedFile] = useState()\n\n\tconst [fileVersion, setFileVersion] = useState(category.English.name)\n\n\tconst handleFileChange = e =>{\n\t\tsetSelectedFile(e.target.files[0])\n\t}\n\n\tconst updateFileVersion = e => {\n\t\te.preventDefault()\n\t\tsetFileVersion(e.target.value)\n\t}\n\n\tconst handleFileUpload = async(e) =>{\n\t\te.preventDefault()\n\n\t\tconst formData = new FormData()\n\t\tformData.append(`file`, selectedFile)\n\t\tformData.append(`resource-id`, resourceId)\n\t\tformData.append(`file-version`, fileVersion)\n\t\tformData.append(`mime`, ``)\n\t\tformData.append(`metadata`, ``)\n\n\t\tawait uploadFile(formData)\n\t\tawait getFiles(resourceId)\n\t\ttoggleModal()\n\t}\n\n\tconst viewstate = {\n\t\tcategory,\n\t\tselectedFile,\n\t}\n\n\tconst handlers = {\n\t\tupdateFileVersion,\n\t\thandleFileChange,\n\t\thandleFileUpload,\n\t\ttoggleModal,\n\t}\n\n\treturn <FileUpload viewstate={viewstate} handlers={handlers}/>\n}\n\nconst mapStateToProps = store => ({\n\tuser: store.authStore.user,\n\tmodal: store.interfaceStore.modal,\n\tresource: store.resourceStore.cache,\n})\n\nconst mapDispatchToProps = {\n\ttoggleModal: interfaceService.toggleModal,\n\tuploadFile: fileService.upload,\n\tgetResource: resourceService.getResource,\n\tgetFiles: resourceService.getFiles,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FileUploadContainer)","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport { FileOverview } from 'components'\n\nimport { interfaceService, fileService } from 'services'\n\nconst FileOverviewContainer = props => {\n\n\tconst {\n\t\tfile,\n\t\tremoveFile,\n\t\tupdateFile,\n\t\tfileCache,\n\t} = props\n\n\tconst [fileState, setFileState] = useState(file)\n\n\tuseEffect(() => {\n\n\t\tconsole.log(fileCache)\n\t}, [fileCache])\n\n\tconst viewstate = {\n\t\tfile,\n\t}\n\n\tconst handleFileMetadata = e => {\n\t\tsetFileState({\n\t\t\t...fileState,\n\t\t\tmetadata: e.target.value,\n\t\t})\n\t}\n\n\tconst handleUpdateFile = e => {\n\t\te.preventDefault()\n\t\tupdateFile(file.id, fileState)\n\t}\n\n\tconst handleRemoveFile = e => {\n\t\tremoveFile(file.id)\n\t}\n\n\tconst handlers = {\n\t\thandleFileMetadata,\n\t\thandleUpdateFile,\n\t\thandleRemoveFile,\n\t}\n\n\treturn <FileOverview viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = store => ({\n\tfileCache: store.fileStore.cache,\n})\n\nconst mapDispatchToProps = {\n\ttoggleModal: interfaceService.toggleModal,\n\tremoveFile: fileService.delete,\n\tupdateFile: fileService.update,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FileOverviewContainer)","import styled from 'styled-components'\n\nimport searchIcon from 'assets/search.svg'\nimport uploadIcon from 'assets/upload.svg'\nimport xIcon from 'assets/x.svg'\n\nexport const Form = styled.form`\n\tdisplay: grid;\n\tgrid-gap: 4rem;\n\n\tmin-width: 30rem;\n\n\t& input, select {\n\t\tflex: 4;\n\t\tborder: none;\n\t\tborder-bottom: 1px solid #ccc;\n\t\toutline: none;\n\t}\n\n\t& > label{\n\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\n\t\t& > span {\n\t\t\tflex: 1;\n\t\t}\n\t}\n\n\t& > div {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n\n\t.keywords-list {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: start;\n\t\tmax-width: 30rem;\n\n\t\t& > span {\n\t\t\tcolor: white;\n\t\t\tbackground-color: #0582CA;\n\t\t\tpadding: .5rem .75rem;\n\t\t\tborder-radius: 1.2rem;\n\t\t\tmargin: 0 .5rem 0 0;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t}\n\t}\n`\n\nexport const Button = styled.button`\n\tfont-size: 1.5rem;\n\tcolor: ${props => props.color || `black`};\n\tbackground: transparent;\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n`\n\nexport const XIcon = styled.button`\n\tbackground: url(${xIcon}) center no-repeat;\n\tbackground-size: contain;\n\theight: 2rem;\n\twidth: 2rem;\n`\n\nexport const UploadButton = styled.button`\n\tfont-size: 1.5rem;\n\tcolor: ${props => props.color || `black`};\n\tbackground: transparent;\n\t/* border: none;\n\toutline: none; */\n\tcursor: pointer;\n`\n\nexport const SearchIcon = styled.span`\n\tposition: absolute;\n\tz-index: 10;\n\ttop: 1rem;\n\tleft: 2rem;\n\tbackground: url(${searchIcon}) center no-repeat;\n\tbackground-size: contain;\n\theight: 2rem;\n\twidth: 2rem;\n`\n\nexport const RemoveKeyword = styled.button`\n\theight: 1.5rem;\n\twidth: 1.5rem;\n\tbackground: url(${props => props.src}) center no-repeat;\n\tbackground-size: contain;\n\ttransform: rotate(45deg);\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n\tpadding: 0;\n\tmargin: 0 -.25rem 0 .25rem;\n`\n\nexport const TableContainer = styled.div`\n\theight: 25rem;\n\toverflow-y: scroll;\n`\n\nexport const Table = styled.table`\n\twidth: 100%;\n\n\t& th {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t}\n\n\t& tr {\n\t\tbackground: white;\n\t\tbox-shadow: 0 2px 5px -1px rgba(0,0,0,0.15);\n\t}\n\n\t& td {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t\t& label {\n\t\t\tpadding: 1rem;\n\t\t}\n\t}\n`\n\nexport const Tabs = styled.div`\n\tmargin: 1.5rem 0;\n\tpadding: 0;\n`\n\nexport const Tab = styled.button`\n\tfont-weight: ${props => props.selected ? `500` : `300`};\n\tcolor: ${props => props.selected ? `#0057B8` : `black`};\n\n\tborder-radius: .3rem;\n\n\tpadding: .75rem 1.25rem;\n\tbackground: ${props => props.selected ? `#D2E8FF` : `transparent`};\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n`\n\nexport const TypeButton = styled.button`\n\tbackground: transparent;\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n\n\tfont-weight: ${props => props.selected ? `500` : `300`};\n\tcolor: ${props => props.selected ? `#0057B8` : `black`};\n`\n\nexport const FileUpload = styled.div`\n\n\t& .files-input {\n\t\toutline: 2px dashed #92b0b3;\n    -webkit-transition: outline-offset .15s ease-in-out, background-color .15s linear;\n    transition: outline-offset .15s ease-in-out, background-color .15s linear;\n    padding: 1em;\n    text-align: center !important;\n    margin: 0;\n    width: 100% !important;\n\t}\n\n\t& .files{ position:relative }\n\n\t& .files:after {\n\t\tpointer-events: none;\n    position: absolute;\n    top: 10px;\n    left: 230px;\n    right: 0;\n\t\twidth: 50px;\n    height: 56px;\n    content: \"\";\n\t\tbackground-image: url(${uploadIcon});\n    display: block;\n    margin: 0 auto;\n    background-size: 50%;\n    background-repeat: no-repeat;\n\t}\n`\n\nexport const CategorySelect = styled.select`\n\tbackground: white;\n\tfont-size: 1.5rem;\n\n\tborder: none;\n\tborder-radius: 2rem;\n\n\tpadding: 0 1.25rem 0 1.25rem;\n\n\toutline: none;\n\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\t& option {\n\t\tmargin: auto auto 6px auto;\n\t}\n`","import React, { PureComponent } from 'react'\n\nimport FileOverviewContainer from '../../../../containers/c/FileOverviewContainer'\n\nimport {\n\tForm,\n\tButton,\n\tXIcon,\n} from './styles'\n\nexport default class ManageFiles extends PureComponent {\n\n\trender() {\n\n\t\tconst {\n\t\t\ttoggleModal,\n\t\t} = this.props.handlers\n\n\t\tconst {\n\t\t\tfiles,\n\t\t} = this.props.viewstate\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Form>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h2>Manage Files</h2>\n\t\t\t\t\t\t<Button type='button' onClick={toggleModal}>Cancel</Button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{Object.keys(files).map(index => <FileOverviewContainer key={files[index].id} file={files[index]} />)}\n\t\t\t\t\t{/* <div>\n\t\t\t\t\t\t<Button type='button' onClick={toggleModal}>Cancel</Button>\n\t\t\t\t\t\t<Button type='submit' color={`#0582CA`}>Update</Button>\n\t\t\t\t\t</div> */}\n\t\t\t\t</Form>\n\t\t\t</>\n\t\t)\n\t}\n}\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { useParams } from 'react-router-dom'\n\nimport {\n\tinterfaceService,\n\tresourceService,\n\tfileService,\n} from 'services'\n\nimport ManageFiles from 'components/modals/components/ManageFiles'\n\nconst ManageFilesContainer = props => {\n\n\tconst {\n\t\tmodal,\n\t\tuser,\n\t\tfiles,\n\t\ttoggleModal,\n\t} = props\n\n\tconst viewstate = {\n\t\tfiles,\n\t}\n\n\tconst handlers = {\n\t\ttoggleModal,\n\t}\n\n\treturn <ManageFiles viewstate={viewstate} handlers={handlers}/>\n}\n\nconst mapStateToProps = store => ({\n\tmodal: store.interfaceStore.modal,\n\tuser: store.authStore.user,\n})\n\nconst mapDispatchToProps = {\n\ttoggleModal: interfaceService.toggleModal,\n\taddResource: resourceService.addResource,\n\tuploadFile: fileService.upload,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ManageFilesContainer)","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport FileUploadContainer from 'components/modals/containers/FileUploadContainer'\nimport ManageFilesContainer from 'components/modals/containers/ManageFilesContainer'\n\nimport {\n\tresourceService,\n\tinterfaceService,\n} from 'services'\n\nimport {\n\tResourceOverview,\n} from 'components'\n\nimport { objectIsEmpty } from 'lib/util'\n\nconst ResourceOverviewContainer = props => {\n\n\tconst {\n\t\tuser,\n\t\tresource,\n\t\teditResource,\n\t\tremoveResource,\n\t\tgetResourceFiles,\n\t\tresourceCache,\n\t\tfileId,\n\t\tthisfiles,\n\t} = props\n\n\tconst [editing, setEditing] = useState(false)\n\tconst [showing, setShowing] = useState(false)\n\tconst [resourceState, setResourceState] = useState(resource)\n\tconst [files, setFiles] = useState([])\n\n\tuseEffect(() => {\n\n\t\tif(editing) setFiles(resourceCache[resource.id].files)\n\n\t\t// TODO: need to update file versions from the files to the resource all-file-versionns\n\t\t// if(files.length !== 0)\n\t\t// \tconsole.log(files)\n\n\t}, [editing, files, resource.id, resourceCache])\n\n\tif (objectIsEmpty(resource)) return null\n\n\tconst handleFileUploadToResource = () => {\n\t\tprops.toggleModal({\n\t\t\tcomponent: FileUploadContainer,\n\t\t\tprops: {\n\t\t\t\tresourceId: resource.id,\n\t\t\t},\n\t\t})\n\t}\n\n\tconst handleToggleEdit = async () => {\n\t\tawait getResourceFiles(resource.id)\n\n\t\tif (editing) {\n\t\t\tawait editResource(resourceState, resourceState.id)\n\t\t\tsetShowing(false)\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetEditing(false)\n\t\t\t}, 500)\n\t\t} else setEditing(true)\n\t}\n\n\tconst handleRemoveResource = e => {\n\t\tremoveResource(resource.id)\n\t}\n\n\tconst handleResourceName = e => {\n\t\tsetResourceState({\n\t\t\t...resourceState,\n\t\t\tresourceName: e.target.value,\n\t\t})\n\t}\n\n\tconst handleResourceEmail = e => {\n\t\tsetResourceState({\n\t\t\t...resourceState,\n\t\t\trequesterEmail: e.target.value,\n\t\t})\n\t}\n\n\tconst handleResourceMetadata = e => {\n\t\tsetResourceState({\n\t\t\t...resourceState,\n\t\t\tmetadata: e.target.value,\n\t\t})\n\t}\n\n\tconst handleTypeChange = e => {\n\t\tsetResourceState({\n\t\t\t...resourceState,\n\t\t\tresourceType: e.target.dataset.type,\n\t\t})\n\t}\n\n\tconst handleTogglePublish = e => {\n\t\tsetResourceState({\n\t\t\t...resourceState,\n\t\t\tpublished: !resourceState.published,\n\t\t})\n\t}\n\n\tconst handleToggleCopyRighted = e => {\n\t\tsetResourceState({\n\t\t\t...resourceState,\n\t\t\tcopyrighted: !resourceState.copyrighted,\n\t\t})\n\t}\n\n\tconst handleTogglePhysicalCopyExists = e => {\n\t\tsetResourceState({\n\t\t\t...resourceState,\n\t\t\tphysicalCopyExists: !resourceState.physicalCopyExists,\n\t\t})\n\t}\n\n\tconst handleToggleFullVideo = e => {\n\t\tsetResourceState({\n\t\t\t...resourceState,\n\t\t\tfullVideo: !resourceState.fullVideo,\n\t\t})\n\t}\n\n\tconst handleMetadata = e => {\n\t\tsetResourceState({\n\t\t\t...resourceState,\n\t\t\tmetadata: e.target.value,\n\t\t})\n\t}\n\n\tconst handleFiles = () => {\n\t\tprops.toggleModal({\n\t\t\tcomponent: ManageFilesContainer,\n\t\t\tprops: {\n\t\t\t\tfiles,\n\t\t\t},\n\t\t})\n\t}\n\n\tconst viewstate = {\n\t\tresourceCache,\n\t\tresource: resourceState,\n\t\tfiles,\n\t\tfileId,\n\t\tshowing,\n\t\tediting,\n\t}\n\n\tconst handlers = {\n\t\thandleFileUploadToResource,\n\t\thandleFiles,\n\t\thandleResourceName,\n\t\thandleResourceMetadata,\n\t\thandleRemoveResource,\n\t\thandleToggleEdit,\n\t\thandleTogglePublish,\n\t\thandleTogglePhysicalCopyExists,\n\t\thandleToggleCopyRighted,\n\t\thandleToggleFullVideo,\n\t\tsetResourceState,\n\t\tsetShowing,\n\t\thandleTypeChange,\n\t\thandleResourceEmail,\n\t\thandleMetadata,\n\t}\n\n\treturn <ResourceOverview viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = store => ({\n\tthisfiles: store.fileStore.cache,\n\tfileId: store.fileStore.cache,\n\tresourceCache: store.resourceStore.cache,\n})\n\nconst mapDispatchToProps = {\n\tremoveResource: resourceService.removeResource,\n\teditResource: resourceService.editResource,\n\ttoggleModal: interfaceService.toggleModal,\n\tgetResourceFiles: resourceService.getFiles,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResourceOverviewContainer)","import React, { PureComponent } from 'react'\n\nimport Style, {Button, Search, SearchIcon} from './styles'\n\nimport ResourceOverviewContainer from '../../../containers/c/ResourceOverviewContainer'\n\nexport class ManageResource extends PureComponent {\n\n\trender() {\n\t\tconst {\n\t\t\tuser,\n\t\t\tsearchQuery,\n\t\t\tresources,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\taddResource,\n\t\t\thandleSearchTextChange,\n\t\t} = this.props.handlers\n\n\t\treturn (\n\t\t\t<Style>\n\t\t\t\t<header>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h2>Manage Resources</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Button onClick={addResource}>Create Resource</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</header>\n\n\t\t\t\t<Search >\n\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t<input type='search' placeholder={`search resources`} onChange={handleSearchTextChange} value={searchQuery} />\n\t\t\t\t</Search>\n\n\t\t\t\t<div>\n\t\t\t\t\t{Object.keys(resources).map(index => <ResourceOverviewContainer key={resources[index].id} resource={resources[index]} />)}\n\t\t\t\t</div>\n\t\t\t</Style>\n\t\t)\n\t}\n}\n\nexport default ManageResource\n","import styled, {css} from 'styled-components'\nimport trashIcon from 'assets/trash.svg'\nimport saveIcon from 'assets/save.svg'\nimport uploadIcon from 'assets/upload.svg'\n\nconst Style = styled.div`\n\tpadding: 2rem;\n`\n\nexport default Style\n\nexport const BoxRow = styled.div`\n\tbox-shadow: 0px 2px 5px rgba(0,0,0,0.3);\n\tbackground-color: white;\n\n\t& > div {\n\t\tdisplay: grid;\n\t\tpadding-top:1rem;\n\t\tpadding-bottom: 1rem;\n\t\tpadding-right: 1rem;\n\t}\n`\n\nexport const FileTitle = styled.div`\n\tdisplay: flex;\n\tmargin-left: 1rem;\n\t& > h4 {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n`\n\nexport const Buttons = styled.div`\n\tdisplay: flex;\n`\n\nconst TextButton = css`\n\tfont-weight: bold;\n\tline-height: 1.5rem;\n\tletter-spacing: .05rem;\n\tbackground: transparent;\n\tborder: none;\n\tcursor: pointer;\n\toutline: none;\n`\n\nexport const EditButton = styled.button`\n\tcolor: #0582CA;\n\t${TextButton}\n\n\tdisplay: flex;\n\talign-items: center;\n  justify-content: center;\n\ttext-align: center !important;\n\t& > span {\n\t\tmargin-left: .5rem;\n\t}\n`\n\nexport const SaveIcon = styled.span`\n\tbackground: url(${saveIcon}) center no-repeat;\n\theight: 2.5rem;\n\twidth: 2rem;\n`\n\nexport const InnerContainer = styled.div`\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr;\n\tpadding: 15px;\n`\n\nexport const Column = styled.div`\n\t/* margin-right: 1.5rem; */\n\tmargin-left: 1.5rem;\n\n\t& > div {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tline-height: 2rem;\n\t\tmargin-bottom: 1rem;\n\n\t\t& > h4 {\n\t\t\tmargin-right: 0.5rem;\n\t\t}\n\t}\n\n\t& textarea {\n\t\tmargin-top: 1rem;\n\t\twidth: 100%;\n\t}\n`\n\nexport const RemoveIcon = styled.span`\n\tbackground: url(${trashIcon}) center no-repeat;\n\theight: 2.5rem;\n\twidth: 2rem;\n`\n\nexport const RemoveButton = styled.button`\n\tdisplay: flex;\n\talign-items: center;\n  justify-content: center;\n\tcolor: #ff4c4c;\n\t${TextButton}\n\ttext-align: center !important;\n\n\t& > span {\n\t\tmargin-left: .5rem;\n\t}\n`","import React, { PureComponent } from 'react'\nimport Style, {\n\tInnerContainer,\n\tColumn,\n\tBoxRow,\n\tRemoveButton,\n\tRemoveIcon,\n\tEditButton,\n\tSaveIcon,\n\tFileTitle,\n} from './styles'\n\nexport class FileOverview extends PureComponent {\n\n\trender() {\n\n\t\tconst {\n\t\t\thandleUpdateFile,\n\t\t\thandleFileMetadata,\n\t\t\thandleRemoveFile,\n\t\t} = this.props.handlers\n\n\t\tconst {\n\t\t\tfile,\n\t\t} = this.props.viewstate\n\n\t\treturn (\n\t\t\t<BoxRow>\n\t\t\t\t<InnerContainer>\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h4>Title:</h4> {file[`filepath`]}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h4>File version:</h4> {file[`file-version`]}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h4>File ID:</h4> {file[`id`]}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h4>Resource ID:</h4> {file[`resource-id`]}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h4>Mime:</h4> {file[`mime`]}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Column>\n\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<h4>Metadata</h4>\n\t\t\t\t\t\t<textarea onChange={handleFileMetadata} defaultValue={file.metadata} rows={8}/>\n\t\t\t\t\t</Column>\n\t\t\t\t</InnerContainer>\n\t\t\t\t<div>\n\t\t\t\t\t<EditButton onClick={handleUpdateFile}>Update<SaveIcon/></EditButton>\n\t\t\t\t\t<RemoveButton className='remove-file-button' onClick={handleRemoveFile}>Delete<RemoveIcon/></RemoveButton>\n\t\t\t\t</div>\n\t\t\t</BoxRow>\n\t\t)\n\t}\n}\n\nexport default FileOverview","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport ConfirmDeleteContainer from 'components/modals/containers/ConfirmDeleteContainer'\n\nimport { Admin } from 'components'\n\nimport { adminService, interfaceService } from 'services'\n\nconst AdminContainer = props => {\n\n\tconst {\n\t\tdata,\n\t\tsearch,\n\t\tclean,\n\t\tsetHeaderBorder,\n\t\ttoggleModal,\n\t} = props\n\n\tconst category = {\n\t\tUsers: {\n\t\t\tname: `Users`,\n\t\t\tplaceholder: `Search for a user`,\n\t\t\turl: `user`,\n\t\t},\n\t\tCollections: {\n\t\t\tname: `Collections`,\n\t\t\tplaceholder: `Search for a collection`,\n\t\t\turl: `collection`,\n\t\t},\n\t\tContent: {\n\t\t\tname: `Content`,\n\t\t\tplaceholder: `Search for content`,\n\t\t\turl: `content`,\n\t\t},\n\t}\n\n\tconst [searchQuery, setSearchQuery] = useState(``)\n\tconst [searchCategory, setSearchCategory] = useState(category.Users.name)\n\tconst [placeholder, setPlaceholder] = useState(category.Users.placeholder)\n\n\tconst [menuItemInfo, setMenuItemInfo] = useState({})\n\tconst [menuActive, setMenuActive] = useState(false)\n\tconst [mousePos, setMousePos] = useState({ x: 0, y: 0 })\n\n\tuseEffect(() => {\n\t\tclean()\n\t\tsetHeaderBorder(true)\n\t\treturn () => {\n\t\t\tsetHeaderBorder(false)\n\t\t}\n\t}, [setHeaderBorder])\n\n\tconst viewstate = {\n\t\tsearchQuery,\n\t\tsearchCategory,\n\t\tcategory,\n\t\tdata,\n\t\tplaceholder,\n\t\tmenuActive,\n\t\tmenuItemInfo,\n\t\tmousePos,\n\t}\n\n\tconst handlers = {\n\t\tupdateCategory: e => {\n\t\t\te.preventDefault()\n\t\t\tclean()\n\t\t\tsetSearchQuery(``)\n\t\t\tsetSearchCategory(e.target.value)\n\t\t\tsetPlaceholder(category[e.target.value].placeholder)\n\t\t},\n\t\tupdateSearchBar: e => {\n\t\t\tconst { value } = e.target\n\t\t\tsetSearchQuery(value)\n\t\t\tif (value.length > 1) search(category[searchCategory].url, value, true)\n\t\t},\n\t\thandleSubmit: e => {\n\t\t\te.preventDefault()\n\t\t},\n\t\ttoggleMenu: id => e => {\n\t\t\tdata.forEach(item => {\n\t\t\t\tif (item.id === id)\n\t\t\t\t\tsetMenuItemInfo(item)\n\n\t\t\t})\n\t\t\tsetMenuActive(!menuActive)\n\t\t\tsetMousePos({\n\t\t\t\tx: e.pageX,\n\t\t\t\ty: e.pageY,\n\t\t\t})\n\n\t\t},\n\t\thandleConfirmDelete: e => {\n\t\t\te.preventDefault()\n\t\t\ttoggleModal({\n\t\t\t\tcomponent: ConfirmDeleteContainer,\n\t\t\t\tprops: { menuItemInfo, searchCategory},\n\t\t\t})\n\t\t},\n\t}\n\n\treturn <Admin viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = store => ({\n\tdata: store.adminStore.data,\n})\n\nconst mapDispatchToProps = {\n\tsearch: adminService.search,\n\tclean: adminService.clean,\n\tsetHeaderBorder: interfaceService.setHeaderBorder,\n\ttoggleModal: interfaceService.toggleModal,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AdminContainer)\n","import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport { collectionService, interfaceService, contentService } from 'services'\n\nimport { Collections } from 'components'\n\nconst CollectionsContainer = props => {\n\n\tconst {\n\t\tisProf,\n\t\tisAdmin,\n\t\tdisplayBlocks,\n\t\tcontent,\n\t\tsetContent,\n\t\tcollections,\n\t\tgetCollections,\n\t\ttoggleCollectionsDisplay,\n\t\tsetHeaderBorder,\n\t} = props\n\n\tuseEffect(() => {\n\t\tgetCollections()\n\t\tsetHeaderBorder(false)\n\n\t\tconst allContent = {}\n\t\tObject.keys(collections).forEach(element => {\n\t\t\tcollections[element].content.forEach(item => {\n\t\t\t\tallContent[item.id] = item\n\t\t\t})\n\t\t})\n\n\t\tsetContent(allContent)\n\n\t\treturn () => {\n\t\t\tsetHeaderBorder(true)\n\t\t}\n\t}, [collections, getCollections, setContent, setHeaderBorder])\n\n\tconst viewstate = {\n\t\tisProf,\n\t\tisAdmin,\n\t\tdisplayBlocks,\n\t\t// TODO: When archiving a collection, make sure to unpublish it\n\t\t// TODO: need to check to see if which way is right way to use\n\t\tcollections, // : Object.fromEntries(Object.entries(collections).filter(([k,v]) => v.published && !v.archived)),\n\t\tcollectionsLength: Object.keys(collections).length,\n\t\t// TODO: When recreating the backend, add a collection.content.published value, so that we don't need to call getContent\n\t\tcontentIds: Object.entries(content).filter(([k, v]) => v.published).map(([k,v]) => k),\n\t}\n\n\tconst handlers = {\n\t\ttoggleCollectionsDisplay,\n\t}\n\n\treturn <Collections viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = ({ authStore, interfaceStore, collectionStore, contentStore }) => ({\n\tisProf: authStore.user.roles === 2,\n\tisAdmin: authStore.user.roles === 0,\n\tdisplayBlocks: interfaceStore.displayBlocks,\n\tcollections: collectionStore.cache,\n\tcontent: contentStore.cache,\n})\n\nconst mapDispatchToProps = {\n\tgetCollections: collectionService.getCollections,\n\tsetContent: contentService.setContent,\n\ttoggleCollectionsDisplay: interfaceService.toggleCollectionsDisplay,\n\tsetHeaderBorder: interfaceService.setHeaderBorder,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CollectionsContainer)\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport {\n\tcollectionService,\n\tcontentService,\n\tadminService,\n} from 'services'\n\nimport {\n\tContentOverview,\n} from 'components'\n\nimport { objectIsEmpty } from 'lib/util'\n\nconst ContentOverviewContainer = props => {\n\n\tconst {\n\t\tcontent,\n\t\tremoveCollectionContent,\n\t\tupdateContent,\n\t\tisLabAssistant,\n\t\tadminRemoveCollectionContent,\n\t} = props\n\n\tconst [editing, setEditing] = useState(false)\n\tconst [showing, setShowing] = useState(false)\n\n\tconst [tag, setTag] = useState(``)\n\n\tconst [contentState, setContentState] = useState(content)\n\n\tif (objectIsEmpty(content)) return null\n\n\tconst handleToggleEdit = async () => {\n\t\tif (editing) {\n\t\t\tawait updateContent(contentState)\n\t\t\tsetShowing(false)\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetEditing(false)\n\t\t\t}, 500)\n\t\t} else setEditing(true)\n\t}\n\n\tconst handleNameChange = e => {\n\t\tsetContentState({\n\t\t\t...contentState,\n\t\t\tname: e.target.value,\n\t\t\tresource: {\n\t\t\t\t...contentState.resource,\n\t\t\t\ttitle: e.target.value,\n\t\t\t},\n\t\t})\n\t}\n\n\tconst handleRemoveContent = e => {\n\t\tif(isLabAssistant){\n\t\t\tadminRemoveCollectionContent(content.id)\n\t\t}\n\t\telse {\n\t\t\tremoveCollectionContent(content.collectionId, content.id)\n\t\t}\n\t}\n\n\tconst handleTogglePublish = e => {\n\t\tsetContentState({\n\t\t\t...contentState,\n\t\t\tpublished: !contentState.published,\n\t\t})\n\t}\n\n\tconst handleToggleSettings = e => {\n\t\tconst { key } = e.target.dataset\n\t\tsetContentState({\n\t\t\t...contentState,\n\t\t\tsettings: {\n\t\t\t\t...contentState.settings,\n\t\t\t\t[key]: !contentState.settings[key],\n\t\t\t},\n\t\t})\n\t}\n\n\tconst handleDescription = e => {\n\t\tsetContentState({\n\t\t\t...contentState,\n\t\t\tdescription: e.target.value,\n\t\t})\n\t}\n\n\tconst addTag = (e) => {\n\t\te.preventDefault()\n\t\tconst newTags = tag.split(/[ ,]+/)\n\t\tsetContentState({\n\t\t\t...contentState,\n\t\t\tresource: {\n\t\t\t\t...contentState.resource,\n\t\t\t\tkeywords: [...contentState.resource.keywords, ...newTags],\n\t\t\t},\n\t\t})\n\t\tsetTag(``)\n\t}\n\n\tconst removeTag = e => {\n\t\tsetContentState({\n\t\t\t...contentState,\n\t\t\tresource: {\n\t\t\t\t...contentState.resource,\n\t\t\t\tkeywords: contentState.resource.keywords.filter(item => item !== e.target.dataset.value),\n\t\t\t},\n\t\t})\n\t}\n\n\tconst changeTag = e => {\n\t\tsetTag(e.target.value)\n\t}\n\n\tconst viewstate = {\n\t\tcontent: contentState,\n\t\tshowing,\n\t\tediting,\n\t\ttag,\n\t}\n\n\tconst handlers = {\n\t\thandleNameChange,\n\t\thandleRemoveContent,\n\t\thandleToggleEdit,\n\t\thandleTogglePublish,\n\t\tsetContentState,\n\t\tsetShowing,\n\t\tupdateContent,\n\t\thandleToggleSettings,\n\t\thandleDescription,\n\t\taddTag,\n\t\tremoveTag,\n\t\tchangeTag,\n\t}\n\n\treturn <ContentOverview viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapDispatchToProps = {\n\tremoveCollectionContent: collectionService.removeCollectionContent,\n\tupdateContent: contentService.updateContent,\n\tadminRemoveCollectionContent: adminService.deleteContent,\n}\n\nexport default connect(null, mapDispatchToProps)(ContentOverviewContainer)","import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport services from 'services'\n\nimport { CollectionPermissions } from 'components'\n\nconst CollectionPermissionsContainer = props => {\n\n\tconst { roleEndpoints } = services.collectionService\n\n\tconst {\n\t\tcollection, // from ManageCollection\n\t\troles, // from collectionService\n\t\tgetCollectionRoles, // from collectionService\n\t\tupdateCollectionRoles, // from collectionService\n\t} = props\n\n\tconst collectionRoles = roles[collection.id]\n\n\tconst [state, setState] = useState({\n\t\tdepartment: `*`,\n\t\tcatalog: ``,\n\t\tsection: ``,\n\t\ttaFaculty: ``,\n\t\texception: ``,\n\t\tdisabled: {\n\t\t\tcatalog: true,\n\t\t\tsection: true,\n\t\t\tsubmit: true,\n\t\t\ttaFaculty: true,\n\t\t\texception: true,\n\t\t},\n\t})\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (!collectionRoles) getCollectionRoles(collection.id)\n\t\t},\n\t\t[collection.id, collectionRoles, getCollectionRoles],\n\t)\n\n\tif (!collectionRoles) return null\n\n\tconst handlers = {\n\t\thandleDepartmentChange: e => {\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\tdepartment: e.target.value,\n\t\t\t\tcatalog: ``,\n\t\t\t\tsection: ``,\n\t\t\t\tdisabled: {\n\t\t\t\t\t...state.disabled,\n\t\t\t\t\tcatalog: e.target.value === `*`,\n\t\t\t\t\tsection: true,\n\t\t\t\t\tsubmit: e.target.value === `*`,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\thandleCatalogChange: e => {\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\tcatalog: e.target.value,\n\t\t\t\tsection: ``,\n\t\t\t\tdisabled: {\n\t\t\t\t\t...state.disabled,\n\t\t\t\t\tcatalog: false,\n\t\t\t\t\tsection: e.target.value === ``,\n\t\t\t\t\tsubmit: false,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\thandleSectionChange: e => {\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\tsection: e.target.value,\n\t\t\t\tdisabled: {\n\t\t\t\t\t...state.disabled,\n\t\t\t\t\tcatalog: false,\n\t\t\t\t\tsection: false,\n\t\t\t\t\tsubmit: false,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\thandleTaFacultyChange: e => {\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\ttaFaculty: e.target.value,\n\t\t\t\tdisabled: {\n\t\t\t\t\t...state.disabled,\n\t\t\t\t\ttaFaculty: e.target.value === ``,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\thandleExceptionChange: e => {\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\texception: e.target.value,\n\t\t\t\tdisabled: {\n\t\t\t\t\t...state.disabled,\n\t\t\t\t\texception: e.target.value === ``,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\taddCourse: e => {\n\t\t\te.preventDefault()\n\n\t\t\tconst {\n\t\t\t\tdepartment,\n\t\t\t\tcatalog,\n\t\t\t\tsection,\n\t\t\t} = state\n\n\t\t\tconst body = {\n\t\t\t\tdepartment,\n\t\t\t}\n\n\t\t\tif (catalog) body.catalogNumber = catalog\n\t\t\tif (section) body.sectionNumber = section\n\n\t\t\tupdateCollectionRoles(collection.id, roleEndpoints.addCourse, [body])\n\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\tdepartment: `*`,\n\t\t\t\tcatalog: ``,\n\t\t\t\tsection: ``,\n\t\t\t\tdisabled: {\n\t\t\t\t\t...state.disabled,\n\t\t\t\t\tcatalog: true,\n\t\t\t\t\tsection: true,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tremoveCourse: e => {\n\t\t\te.preventDefault()\n\n\t\t\tconst data = JSON.parse(e.target.dataset.item)\n\n\t\t\tconst body = {\n\t\t\t\tid: data.id || null,\n\t\t\t\tdepartment: data.Department || null,\n\t\t\t}\n\n\t\t\tif (data.Catalog) body.catalogNumber = data.Catalog\n\t\t\tif (data.Section) body.sectionNumber = data.Section\n\n\t\t\tif (body.department !== null && body.id !== null)\n\t\t\t\tupdateCollectionRoles(collection.id, roleEndpoints.removeCourse, [body])\n\t\t\telse alert(`Error, department not found`)\n\t\t},\n\t\taddTaFaculty: e => {\n\t\t\t// console.log(state.taFaculty)\n\t\t\te.preventDefault()\n\t\t\tconst body = {\n\t\t\t\t'username': state.taFaculty,\n\t\t\t\t'account-role': 1,\n\t\t\t}\n\t\t\tupdateCollectionRoles(collection.id, roleEndpoints.addTA, body)\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\ttaFaculty: ``,\n\t\t\t})\n\t\t},\n\t\tremoveFaculty: e => {\n\t\t\te.preventDefault()\n\n\t\t\tconst data = JSON.parse(e.target.dataset.item)\n\t\t\tconst body = data.NetID || null\n\n\t\t\tif (body !== null) updateCollectionRoles(collection.id, roleEndpoints.removeUser, body)\n\n\t\t\telse alert(`Error, netId not found`)\n\t\t},\n\t\taddException: e => {\n\t\t\te.preventDefault()\n\t\t\tupdateCollectionRoles(collection.id, roleEndpoints.addException, state.exception)\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\texception: ``,\n\t\t\t})\n\t\t},\n\t\tremoveException: e => {\n\t\t\te.preventDefault()\n\t\t\tconst data = JSON.parse(e.target.dataset.item)\n\t\t\tconst body = data.NetID || null\n\t\t\tif (body !== null)\n\t\t\t\tupdateCollectionRoles(collection.id, roleEndpoints.removeUser, body)\n\t\t\telse alert(`Error, netId not found`)\n\t\t},\n\t}\n\n\tconst viewstate = {\n\t\tcollection,\n\t\troles: collectionRoles,\n\t\tstate,\n\t}\n\n\treturn <CollectionPermissions viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStoreToProps = store => ({\n\troles: store.collectionStore.roles,\n})\n\nconst mapDispatchToProps = {\n\tgetCollectionRoles: services.collectionService.getCollectionRoles,\n\tupdateCollectionRoles: services.collectionService.updateCollectionRoles,\n}\n\nexport default connect(mapStoreToProps, mapDispatchToProps)(CollectionPermissionsContainer)\n","// //JS getter and setter is accessed like a property. Get event current bTime and eTime.\n\n// //create abstrack class. Create extended classes for all the possible events\n\n// //Create an newArray with all the new Event classes so we can call execute method for each event\n\n// //Run newArray based of currentTime of the video\n\n// // Dependency injection (might need to ask Grant)\n\n\n// newArray.forEach(element => {\n// \tif((currentTime >= element.start && currentTime <= element.end) && element.active === false){\n// \t\t// execute event\n// \t}\n// \telse if (currentTime > element.end && element.active === true){\n// \t\t//stop event\n// \t}\n// });\n\n// // if (currentTime >= newArray[i].start && currentTime <= newArray[i].end) && newArray[i].active === false ---> execute ... this.active = true\n// // else if currentTime > newArray[i].end && newArray[i].active === true ---> stop ... this.active = false\n\n//blank and censor and comment\n\nexport default class Event {\n\n\tconstructor(type, start, end)\n\t{\n\t\tthis.type = type\n\t\tthis.start = start;\n\t\tthis.end = end;\n\t\tthis.active = false;\n\t}\n\n\tprint(){\n\t\tconsole.log('%c Executing event is: ', 'color: blue; font-weight: bold; text-decoration: underline;', this.type)\n\t}\n}\n\nexport class SkipEvent extends Event {\n\n}\n\nexport class MuteEvent extends Event {\n\n}\n\nexport class PauseEvent extends Event {\n\n}\n\nexport class CommentEvent extends Event {\n\n\tconstructor(type, start, end, comment, position) {\n\t\tsuper(type, start, end)\n\t\tthis.comment = comment\n\t\tthis.position = position\n\t}\n}\n\nexport class CensorEvent extends Event {\n\n\tconstructor(type, start, end, position) {\n\t\tsuper(type, start, end)\n\t\tthis.position = position\n\t}\n}\n\nexport class BlankEvent extends Event {\n\n}\n\n// let modelArray = eventArray.map(event =>\n// \tswitch(event)\n// \t{\n// \t\tlet obj;\n// \t\tcase event == \"Comment\":\n// \t\tobj = new CommentEvent(obj.start, obj.end, obj.comment);\n// \t}\n// )\n\n\n// // let commentEvent1 = new CommentEvent(s,c,comment);\n// // commentEvent1.start\n\n// // export default class Event {\n// //   constructor(name, start, end) {\n// //     this.name = name;\n// //     this.start = start;\n// // \t\tthis.end = end;\n// //   }\n\n// // \t//methods\n\n// // }","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Events } from 'components'\n\nimport { interfaceService } from 'services'\n\nimport { SkipEvent, MuteEvent, PauseEvent, CommentEvent, BlankEvent } from 'models/events/'\n\nconst EventsContainer = props => {\n\n\t// console.log('%c Event Container', 'color: orange; font-weight: bolder; font-size: 12px;')\n\n\tconst {\n\t\tevents,\n\t\tcurrentTime,\n\t\tduration,\n\t\thandleSeek,\n\t\thandleMute,\n\t\thandlePause,\n\t\thandleUnMute,\n\t\thandleBlank,\n\t\thandleShowComment,\n\t\t// handleCensorPosition,\n\t\t// handleCensorActive,\n\t} = props\n\n\tconst [eventArray, setEventArray] = useState([])\n\tconst [force, setForce] = useState(false)\n\n\tuseEffect(() => {\n\t\t//console.log('reset')\n\t\t// after every re render we set blank to false and mute to false. We do this because blank does not update in the parent when we render this component.\n\t\t// If the blank or mute event is active the event will be executed.\n\t\thandleBlank(false)\n\t\thandleUnMute()\n\t\t// handleCensorActive(false)\n\t\thandleShowComment(``, {x: 0, y: 0})\n\n\t\t// We need to keep track of all the events. we need this code here so every time there is a change to the events we get those changes.\n\t\tlet tempArray = []\n\t\tif(duration !== 0 && events !== undefined){\n\t\t\tevents.forEach(event => {\n\t\t\t\t// Events time is in percentages so we can use that and figure out the exact seconds by doing time / 100 * videoLength.\n\t\t\t\tconst start = event.start / 100 * duration\n\t\t\t\tconst end = event.end / 100 * duration\n\t\t\t\tswitch (event.type) {\n\t\t\t\tcase `Skip`:\n\t\t\t\t\ttempArray.push(new SkipEvent(event.type, start, end))\n\t\t\t\t\tbreak\n\t\t\t\tcase `Mute`:\n\t\t\t\t\ttempArray.push(new MuteEvent(event.type, start, end))\n\t\t\t\t\tbreak\n\t\t\t\tcase `Pause`:\n\t\t\t\t\ttempArray.push(new PauseEvent(event.type, start, end))\n\t\t\t\t\tbreak\n\t\t\t\tcase `Comment`:\n\t\t\t\t\ttempArray.push(new CommentEvent(event.type, start, end, event.comment, event.position))\n\t\t\t\t\tbreak\n\t\t\t\t\t// case 'Censor':\n\t\t\t\t\t// \t\ttempArray.push(new CensorEvent(event.type, start, end, event.position))\n\t\t\t\t\t// \tbreak;\n\t\t\t\tcase `Blank`:\n\t\t\t\t\ttempArray.push(new BlankEvent(event.type, start, end))\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tsetEventArray([...tempArray])\n\t}, [duration, events])\n\n\teventArray.forEach(element => {\n\t\tif(currentTime >= element.start && currentTime <= element.end && element.active !== true){\n\t\t\telement.active = true\n\t\t\tswitch (element.type) {\n\t\t\tcase `Skip`:\n\t\t\t\thandleSeek(null, element.end)\n\t\t\t\tbreak\n\t\t\tcase `Mute`:\n\t\t\t\thandleMute()\n\t\t\t\tbreak\n\t\t\tcase `Pause`:\n\t\t\t\thandlePause()\n\t\t\t\tbreak\n\t\t\tcase `Comment`:\n\t\t\t\t// console.log(element)\n\t\t\t\thandleShowComment(element.comment, element.position)\n\t\t\t\tbreak\n\t\t\t\t// case 'Censor':\n\t\t\t\t// \t\telement.active = false\n\t\t\t\t// \t\tlet value = Object.keys(element.position).find(time => time >= currentTime)\n\t\t\t\t// \t\t//let includes = Object.keys(element.position).includes(currentTime)\n\n\t\t\t\t// \t\tconsole.log('current Time', currentTime)\n\t\t\t\t// \t\tconsole.log('value', value)\n\n\t\t\t\t// \t\thandleCensorActive(true)\n\t\t\t\t// \t\thandleCensorPosition(element.position[value])\n\n\t\t\t\t// \tbreak;\n\t\t\tcase `Blank`:\n\t\t\t\thandleBlank(true)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tbreak\n\t\t\t}\n\t\t} else if ((currentTime > element.end || currentTime < element.start) && element.active !== false){\n\t\t\telement.active = false\n\t\t\tswitch (element.type) {\n\t\t\tcase `Mute`:\n\t\t\t\thandleUnMute()\n\t\t\t\tbreak\n\t\t\tcase `Comment`:\n\t\t\t\thandleShowComment(``, {x: 0, y: 0})\n\t\t\t\tbreak\n\t\t\tcase `Blank`:\n\t\t\t\thandleBlank(false)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// else if (currentTime > element.end && element.type === 'Censor'){\n\t\t// \thandleCensorActive(false)\n\t\t// }\n\t})\n\n\tconst viewstate = {\n\t\tcurrentTime,\n\t\teventArray,\n\t}\n\n\treturn <Events viewstate={viewstate}></Events>\n}\n\nconst mapStateToProps = ({ interfaceStore }) => ({\n\tevents: interfaceStore.events,\n})\n\nconst mapDispatchToProps = {\n \tgetEvents: interfaceService.getEvents,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EventsContainer)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport { Header } from 'components'\n\nexport class HeaderContainer extends Component {\n\trender() {\n\n\t\tconst {\n\t\t\tlost,\n\t\t\tborder,\n\t\t\teditorStyle,\n\t\t} = this.props\n\n\t\tconst viewstate = {\n\t\t\tlost,\n\t\t\tborder,\n\t\t\teditorStyle,\n\t\t}\n\n\t\treturn <Header viewstate={viewstate} />\n\t}\n}\n\nconst mapStateToProps = store => ({\n\tlost: store.interfaceStore.lost,\n\tborder: store.interfaceStore.headerBorder,\n\teditorStyle: store.interfaceStore.editorStyle,\n})\n\nexport default connect(mapStateToProps)(HeaderContainer)\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport { LabAssistant } from 'components'\n\nimport { adminService, interfaceService } from 'services'\n\nconst LabAssistantContainer = props => {\n\n\tconst {\n\t\tprofessors,\n\t\tsearchProfessors,\n\t\tsetHeaderBorder,\n\t} = props\n\n\tconst category = {\n\t\tUsers: {\n\t\t\tname: `Professors`,\n\t\t\tplaceholder: `Search for a professor`,\n\t\t\turl: `user`,\n\t\t},\n\t}\n\n\tconst [searchQuery, setSearchQuery] = useState(``)\n\tconst [showResource, setShowResource] = useState(false)\n\n\tuseEffect(() => {\n\t\tsetHeaderBorder(true)\n\t\treturn () => {\n\t\t\tsetHeaderBorder(false)\n\t\t}\n\t}, [setHeaderBorder])\n\n\tconst updateSearchBar = e => {\n\t\tconst { value } = e.target\n\t\tsetSearchQuery(value)\n\t\tif (value.length > 1) searchProfessors(value, true)\n\t}\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault()\n\t}\n\n\tconst handleShowResource = () => {\n\t\tsetShowResource(!showResource)\n\t}\n\n\tconst viewstate = {\n\t\tsearchQuery,\n\t\t// TODO: Admins who are also Profs, should have `prof` included in their roles because we will only search for that, not admin\n\t\tdata: professors ? professors.filter(item => item.roles === 2 || item.roles === 0) : [],\n\t\tplaceholder: category.Users.placeholder,\n\t\tshowResource,\n\t}\n\n\tconst handlers = {\n\t\tupdateSearchBar,\n\t\thandleSubmit,\n\t\thandleShowResource,\n\t}\n\n\treturn <LabAssistant viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = store => ({\n\tprofessors: store.adminStore.professors,\n})\n\nconst mapDispatchToProps = {\n\tsearchProfessors: adminService.searchProfessors,\n\tsetHeaderBorder: interfaceService.setHeaderBorder,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LabAssistantContainer)\n","import styled from 'styled-components'\n\nimport searchIcon from 'assets/search.svg'\n\nexport const FormResource = styled.form`\n\tdisplay: grid;\n\t/* grid: repeat(3, 1fr) / 1fr; */\n\n\tmin-width: 30rem;\n\tmin-height: 35rem;\n\n\t& > label {\n\t\tfont-size: 1.4rem;\n\t\theight: 20px;\n\n\t\t& input {\n\t\t\twidth: 100%;\n\t\t\tborder: none;\n\t\t\tborder-bottom: 1px solid rgba(0,0,0,0.3);\n\t\t\t/* background-color: rgba(0,0,0,0.03); */\n\t\t\toutline: none;\n\t\t\tmargin: 10px 0px 2px 0px; \n\t\t}\n\n\t\t& select {\n\t\t\tmargin-left: 20px;\n\t\t\twidth: 150px;\n\t\t}\n\t}\n\n\t& > div {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n`\n\nexport const Form = styled.form`\n\tdisplay: grid;\n\t/* grid: repeat(3, 1fr) / 1fr; */\n\tgrid-gap: 2rem;\n\n\tmin-width: 30rem;\n\tmin-height: 35rem;\n\n\n\t& input, select {\n\t\tflex: 5;\n\t\tborder: none;\n\t\tborder-bottom: 1px solid #ccc;\n\t\toutline: none;\n\t}\n\n\t& > label{\n\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\n\t\t& > span {\n\t\t\tflex: 1;\n\t\t}\n\n\t}\n\n\t& > div {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n\n\t.keywords-list {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: start;\n\t\tmax-width: 30rem;\n\n\t\t& > span {\n\t\t\tcolor: white;\n\t\t\tbackground-color: #0582CA;\n\t\t\tpadding: .5rem .75rem;\n\t\t\tborder-radius: 1.2rem;\n\t\t\tmargin: 0 .5rem 0 0;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t}\n\t}\n`\n\nexport const Button = styled.button`\n\tfont-size: 1.5rem;\n\tcolor: ${props => props.color || `black`};\n\tbackground: transparent;\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n`\n\nexport const SearchIcon = styled.span`\n\tposition: absolute;\n\tz-index: 10;\n\ttop: 1rem;\n\tleft: 2rem;\n\tbackground: url(${searchIcon}) center no-repeat;\n\tbackground-size: contain;\n\theight: 2rem;\n\twidth: 2rem;\n`\n\nexport const RemoveKeyword = styled.button`\n\theight: 1.5rem;\n\twidth: 1.5rem;\n\tbackground: url(${props => props.src}) center no-repeat;\n\tbackground-size: contain;\n\ttransform: rotate(45deg);\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n\tpadding: 0;\n\tmargin: 0 -.25rem 0 .25rem;\n`\n\nexport const TableContainer = styled.div`\n\tposition: absolute;\n\theight: 250px;\n\twidth: 75%;\n\tmargin-top: 10%;\n\tbackground-color: white;\n\toverflow-y: scroll;\n\n\tbox-shadow: 0px 0px 5px rgba(0, 0, 0, 0.3), 0px 0px 5px rgba(0, 0, 0, 0.3);\n\n\t& li {\n\t\theight: 25px;\n\t\tlist-style-type: none;\n\t\tfont-size: 1.4rem;\n\t\tborder-bottom: 1px solid rgba(0, 0, 0, 0.3);\n\t\tpadding: 5px;\n\t\tdisplay: flex;\n\n\t\t& input, label {\n\t\t\tmargin: auto 0px auto 5%;\n\t\t}\n\t}\n`\n\nexport const Table = styled.table`\n\t/*background: white;*/\n\t/*box-shadow: 0 2px 5px -1px rgba(0,0,0,0.15);*/\n\n\theight: ${props => props.height ? (`${props.height * 15}px`): ('0px')};\n\twidth: 80%;\n\tposition: absolute;\n\tz-index: 10;\n\tbackground-color: white;\n\n\t& th {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t}\n\n\t& tr {\n\t\tbackground: white;\n\t\tbox-shadow: 0 2px 5px -1px rgba(0,0,0,0.15);\n\t}\n\n\t& td {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t\t& label {\n\t\t\tpadding: 1rem;\n\t\t}\n\t}\n`\n\nexport const Tabs = styled.div`\n\tmargin: 2rem 0;\n\tpadding: 0;\n`\n\nexport const Tab = styled.button`\n\tfont-weight: ${props => props.selected ? `500` : `300`};\n\tcolor: ${props => props.selected ? `#0057B8` : `black`};\n\n\tborder-radius: .3rem;\n\n\tpadding: .75rem 1.25rem;\n\tbackground: ${props => props.selected ? `#D2E8FF` : `transparent`};\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n`\n\nexport const TypeButton = styled.button`\n\tbackground: transparent;\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n\n\tfont-weight: ${props => props.selected ? `500` : `300`};\n\tcolor: ${props => props.selected ? `#0057B8` : `black`};\n`\n","import React, { PureComponent } from 'react'\n\nimport {\n\tForm,\n\tButton,\n\tRemoveKeyword,\n\tTable,\n\tTableContainer,\n\tTabs,\n\tTab,\n\tTypeButton,\n\tFormResource,\n} from './styles'\n\nimport plus from 'assets/plus_blue.svg'\n\nexport default class CreateContent extends PureComponent {\n\n\trender() {\n\n\t\tconst {\n\t\t\tadminContent,\n\t\t\tsearchQuery,\n\t\t\ttab,\n\t\t\tresourceContent,\n\t\t\thideResources,\n\t\t\tselectedResource,\n\t\t\tlanguages,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\ttitle,\n\t\t\tcontentType,\n\t\t\turl,\n\t\t\tdescription,\n\t\t\tresource,\n\t\t\ttargetLanguages\n\t\t} = this.props.viewstate.data\n\n\t\tconst {\n\t\t\tchangeTab,\n\t\t\thandleAddResourceSubmit,\n\t\t\thandleSearchTextChange,\n\t\t\thandleSelectResourceChange,\n\t\t\thandleSubmit,\n\t\t\thandleTextChange,\n\t\t\thandleTypeChange,\n\t\t\tonKeyPress,\n\t\t\tremove,\n\t\t\ttoggleModal,\n\t\t} = this.props.handlers\n\n\t\tconsole.log(languages)\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<h2>Create New Content</h2>\n\n\t\t\t\t<Tabs>\n\t\t\t\t\t<Tab selected={tab === `url`} onClick={changeTab} name={`url`}>From URL</Tab>\n\t\t\t\t\t<Tab selected={tab === `resource`} onClick={changeTab} name={`resource`}>Search Resources</Tab>\n\t\t\t\t</Tabs>\n\n\t\t\t\t{tab === `url` &&\n\t\t\t\t\t<Form onKeyPress={onKeyPress} onSubmit={handleSubmit} id='create-content-form' >\n\t\t\t\t\t\t<label htmlFor='create-content-title'>\n\t\t\t\t\t\t\t<span>Title</span>\n\t\t\t\t\t\t\t<input id='create-content-title' type='text' name='title' value={title} onChange={handleTextChange} required />\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t<label htmlFor='create-content-type'>\n\t\t\t\t\t\t\t<span>Type</span>\n\t\t\t\t\t\t\t<div style={{ flex: `5`, display: `flex`, justifyContent: `space-between` }}>\n\t\t\t\t\t\t\t\t<TypeButton type='button' selected={contentType === `video`} onClick={handleTypeChange} data-type='video'>Video</TypeButton>\n\t\t\t\t\t\t\t\t<TypeButton type='button' selected={contentType === `audio`} onClick={handleTypeChange} data-type='audio'>Audio</TypeButton>\n\t\t\t\t\t\t\t\t<TypeButton type='button' selected={contentType === `image`} onClick={handleTypeChange} data-type='image'>Image</TypeButton>\n\t\t\t\t\t\t\t\t<TypeButton type='button' selected={contentType === `text`} onClick={handleTypeChange} data-type='text'>Text</TypeButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t<label htmlFor='create-content-url'>\n\t\t\t\t\t\t\t<span>URL</span>\n\t\t\t\t\t\t\t<input id='create-content-url' type='text' name='url' value={url} onChange={handleTextChange} required />\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t<label htmlFor='create-content-description'>\n\t\t\t\t\t\t\t<span>Description</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<textarea id='create-content-description' name='description' value={description} onChange={handleTextChange} rows={4} required />\n\n\t\t\t\t\t\t<label htmlFor='create-content-keywords'>\n\t\t\t\t\t\t\t<span>Tags</span>\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t<div className='keywords-list'>\n\t\t\t\t\t\t\t{resource.keywords.map((keyword, index) => <span key={index}>{keyword}<RemoveKeyword src={plus} onClick={remove} type='button' data-keyword={keyword} /></span>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/* TODO: MAKE THE TAGS WORK AND BE PASSED WHEN ON CHANGE EVENT */}\n\t\t\t\t\t\t<input id='keyword-datalist-input' type='text' name='keywords' list='create-content-keywords' placeholder='Add a tag...'/>\n\t\t\t\t\t\t<datalist id='create-content-keywords'>\n\t\t\t\t\t\t\t{resource.keywords.map((keyword, index) => <option key={index} value={keyword} />)}\n\t\t\t\t\t\t</datalist>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button type='button' onClick={toggleModal}>Cancel</Button>\n\t\t\t\t\t\t\t<Button type='submit' color={`#0582CA`}>Create</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Form>\n\t\t\t\t}\n\n\t\t\t\t{tab === `resource` &&\n\t\t\t\t\t<FormResource onSubmit={handleAddResourceSubmit}>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tSearch Resource Title<br/>\n\t\t\t\t\t\t\t<input type='text' name='searchInput' value={searchQuery} onChange={handleSearchTextChange} />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<TableContainer height={Object.keys(resourceContent).length} style={{ display: `${ hideResources === true ? ('none') : ('initial')}` }}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t// TODO: need to be updated for submit work\n\t\t\t\t\t\t\t\tresourceContent && hideResources !== true &&\n\t\t\t\t\t\t\t\tObject.keys(resourceContent).map(index =>\n\t\t\t\t\t\t\t\t\t<li key={resourceContent[index].id}>\n\t\t\t\t\t\t\t\t\t\t<input type='radio' value={resourceContent[index].id} name='resource' onChange={e => handleSelectResourceChange(e, resourceContent[index].resourceName)}/>\n\t\t\t\t\t\t\t\t\t\t<label>{resourceContent[index].resourceName}</label>\n\t\t\t\t\t\t\t\t\t</li>,\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<span>Content Title</span><br/>\n\t\t\t\t\t\t\t<input type='text' name='title' value={title} onChange={handleTextChange} />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<span>Description</span><br/>\n\t\t\t\t\t\t\t<textarea name='description' value={description} onChange={handleTextChange} rows={2} cols={35} required />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<span>Target Language</span>\n\t\t\t\t\t\t\t{ languages.length > 0 && \n\t\t\t\t\t\t\t\t<select name='targetLanguages' onChange={handleTextChange} required>\n\t\t\t\t\t\t\t\t\t<option value='default'>None</option>\n\t\t\t\t\t\t\t\t\t{  \n\t\t\t\t\t\t\t\t\t\tlanguages.map((element, index) => \n\t\t\t\t\t\t\t\t\t\t<option value={element.slice(0, element.length - 1)} key={index}>{element.slice(0, element.length-1)}</option> )\n\t\t\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button type='button' onClick={toggleModal}>Cancel</Button>\n\t\t\t\t\t\t\t<Button type='submit' color={`#0582CA`}>Create</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</FormResource>\n\t\t\t\t}\n\t\t\t</>\n\t\t)\n\t}\n}\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport Content from 'models/Content'\n\nimport {\n\tcontentService,\n\tcollectionService,\n\tinterfaceService,\n\tadminService,\n\tresourceService,\n} from 'services'\n\nimport CreateContent from 'components/modals/components/CreateContent'\n\nconst CreateContentContainer = props => {\n\n\tconst {\n\t\tadminContent,\n\t\tadminCreateContent,\n\t\tadminCreateContentFromResource,\n\t\tadminGetCollectionContent,\n\t\tcreateContent,\n\t\tmodal,\n\t\tsearch,\n\t\ttoggleModal,\n\t\tgetCollections,\n\t\tresourceContent,\n\t\tsearchResource,\n\t\tgetFiles,\n\t} = props\n\n\tconst [tab, setTab] = useState(`url`)\n\tconst [hideResources, setHide] = useState(true)\n\tconst [searchQuery, setSearchQuery] = useState(``)\n\tconst [selectedResource, setSelectedResource] = useState(``)\n\tconst [languages, setLanguages] = useState([])\n\tconst [data, setData] = useState({\n\t\turl: ``,\n\t\tresourceId: ``,\n\t\tcontentType: `video`,\n\t\ttitle: ``,\n\t\tdescription: ``,\n\t\tresource: {\n\t\t\tkeywords: [],\n\t\t},\n\t\tthumbnail: ``,\n\t\ttargetLanguages: '',\n\t})\n\n\tuseEffect(() => {\n\t\tif(resourceContent[selectedResource] !== undefined){\n\t\t\tsetLanguages(resourceContent[selectedResource].allFileVersions.split(\"; \"))\n\t\t}\n\t}, [selectedResource])\n\n\tconst changeTab = e => {\n\t\tsetTab(e.target.name)\n\t}\n\n\tconst onKeyPress = e => {\n\t\tif (e.which === 13) {\n\t\t\te.preventDefault()\n\t\t\taddKeyword(e.target)\n\t\t}\n\t}\n\n\tconst handleTextChange = e => {\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[e.target.name]: e.target.value,\n\t\t})\n\t}\n\n\tconst handleSearchTextChange = e => {\n\t\tconst { value } = e.target\n\t\tsetSearchQuery(value)\n\t\tif (value.length > 1) {\n\t\t\t//search(`content`, value, true)\n\t\t\tsearchResource(value)\n\t\t\tsetHide(false)\n\t\t}\n\t\telse {\n\t\t\tsetHide(true)\n\t\t}\n\t}\n\n\tconst handleSelectResourceChange = (e, name) => {\n\t\tconst { target } = e\n\t\tsetSelectedResource(target.value)\n\t\tsetSearchQuery(name)\n\t\tsetHide(true)\n\t}\n\n\tconst handleTypeChange = e => {\n\t\tconst contentType = e.target.dataset.type\n\t\tsetData({\n\t\t\t...data,\n\t\t\tcontentType,\n\t\t})\n\t}\n\n\tconst addKeyword = element => {\n\t\tif (element.id !== `keyword-datalist-input` || element.value === ``) return\n\n\t\tsetData({\n\t\t\t...data,\n\t\t\tresource: {\n\t\t\t\tkeywords: [...data.resource.keywords, element.value],\n\t\t\t},\n\t\t})\n\n\t\tdocument.getElementById(`create-content-form`).reset()\n\t}\n\n\t// TODO: need to add create content from the resource\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault()\n\t\tlet tags = ``\n\n\t\tif(data.resource.keywords.length !== 0){\n\t\t\tdata.resource.keywords.forEach((element, i) => {\n\n\t\t\t\tif(i !== data.resource.keywords.length -1)\n\t\t\t\t\ttags += `${element}; `\n\t\t\t\telse\n\t\t\t\t\ttags += `${element}`\n\n\t\t\t})\n\t\t}\n\n\t\tconst videoId = new URL(data.url).search.split(`=`)[1]\n\n\t\tconst backEndData = {\n\t\t\t\"allow-definitions\": true,\n\t\t\t\"url\": data.url,\n\t\t\t\"allow-captions\": true,\n\t\t\t\"content-type\": data.contentType,\n\t\t\t\"resource-id\": `00000000-0000-0000-0000-000000000000`,\n\t\t\ttags,\n\t\t\t\"thumbnail\": `https://i.ytimg.com/vi/${videoId}/default.jpg`,\n\t\t\t\"file-version\": ``,\n\t\t\t\"collection-id\": modal.collectionId,\n\t\t\t\"views\": 0,\n\t\t\t\"annotations\": ``,\n\t\t\t\"title\": data.title,\n\t\t\t\"allow-notes\": true,\n\t\t\t\"description\": data.description,\n\t\t}\n\n\t\tif(modal.isLabAssistantRoute){\n\t\t\tawait adminCreateContent(backEndData)\n\t\t\tadminGetCollectionContent(modal.collectionId, true)\n\t\t}\n\t\telse{\n\t\t\tawait createContent(backEndData)\n\t\t\tgetCollections(true)\n\t\t}\n\t\ttoggleModal()\n\t}\n\n\tconst handleAddResourceSubmit = async (e) => {\n\t\te.preventDefault()\n\n\t\t//CONTENT FROM RESOURCE WILL HAVE AN EMPTY STRING IN THE URL\n\t\t//EVERY VIDEO HAS A FILE PATH BUT WE NEED TO GET A FILE KEY IN ORDER TO BE ABLE TO STREAM A VIDEO\n\t\t//THE FILE KEY WILL ACT AS PART OF THE URL WHERE WE WILL GET THE VIDEO URL: /api/media/stream-media/{file-key}\n\n\t\tconst backEndData = {\n\t\t\t\"allow-definitions\": true,\n\t\t\t\"url\": '',\n\t\t\t\"allow-captions\": true,\n\t\t\t\"content-type\": data.contentType,\n\t\t\t\"resource-id\": selectedResource,\n\t\t\t\"tags\": '',\n\t\t\t\"thumbnail\": `empty`,\n\t\t\t\"file-version\": data.targetLanguages,\n\t\t\t\"collection-id\": modal.collectionId,\n\t\t\t\"views\": 0,\n\t\t\t\"annotations\": ``,\n\t\t\t\"title\": data.title,\n\t\t\t\"allow-notes\": true,\n\t\t\t\"description\": data.description,\n\t\t}\n\n\t\t//console.log(backEndData)\n\t\t\n\t\t//console.log(resourceContent[selectedResource])\n\t\tif(modal.isLabAssistantRoute){\n\t\t\tawait adminCreateContent(backEndData)\n\t\t\tadminGetCollectionContent(modal.collectionId, true)\n\t\t}\n\t\telse{\n\t\t\tawait createContent(backEndData)\n\t\t\tgetCollections(true)\n\t\t}\n\t\ttoggleModal()\n\t}\n\n\tconst remove = e => {\n\t\tconst badkeyword = e.target.dataset.keyword\n\t\tsetData({\n\t\t\t...data,\n\t\t\tresource: {\n\t\t\t\tkeywords: data.keywords.filter(keyword => keyword !== badkeyword),\n\t\t\t},\n\t\t})\n\t}\n\n\tconst viewstate = {\n\t\tadminContent,\n\t\tdata,\n\t\tsearchQuery,\n\t\ttab,\n\t\tresourceContent,\n\t\thideResources,\n\t\tselectedResource,\n\t\tlanguages,\n\t}\n\n\tconst handlers = {\n\t\tchangeTab,\n\t\thandleAddResourceSubmit,\n\t\thandleSearchTextChange,\n\t\thandleSelectResourceChange,\n\t\thandleSubmit,\n\t\thandleTextChange,\n\t\thandleTypeChange,\n\t\tonKeyPress,\n\t\tremove,\n\t\ttoggleModal,\n\t}\n\n\treturn <CreateContent viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = store => ({\n\tadmin: store.authStore.user.roles === 0,\n\tadminContent: store.adminStore.data,\n\tresourceContent: store.resourceStore.cache,\n\tmodal: store.interfaceStore.modal,\n\tcollections: store.collectionStore.cache,\n})\n\nconst mapDispatchToProps = {\n\tadminCreateContent: adminService.createContent,\n\tadminGetCollectionContent: adminService.getCollectionContent,\n\tadminCreateContentFromResource: adminService.createContentFromResource,\n\tcreateContent: contentService.createContent,\n\ttoggleModal: interfaceService.toggleModal,\n\tsearch: adminService.search,\n\tsearchResource: resourceService.search,\n\tgetFiles: resourceService.getFiles,\n\tgetCollections: collectionService.getCollections,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateContentContainer)","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport { connect } from 'react-redux'\n\nimport {\n\tadminService,\n\tinterfaceService,\n\tcollectionService,\n} from 'services'\n\nimport { ManageCollection } from 'components'\n\nimport CreateContentContainer from 'components/modals/containers/CreateContentContainer'\n\nconst LabAssistantManageCollectionContainer = props => {\n\n\tconst {\n\t\tadmin,\n\t\tcollection,\n\t\tprofessorId,\n\t\tcontent,\n\t\tsearchCollections,\n\t\tgetCollectionContent,\n\t\tupdateCollectionName,\n\t\tupdateCollectionStatus,\n\t} = props\n\n\t// console.log(collection)\n\tconst [isContent, setIsContent] = useState(true)\n\tconst [isEditingCollectionName, setIsEditingCollectionName] = useState(false)\n\tconst [collectionName, setCollectionName] = useState(collection.name)\n\n\tuseEffect(() => {\n\t\t// console.log('useeffect')\n\t\t// console.log(collection.id)\n\t\tgetCollectionContent(collection.id, true)\n\t\tsetCollectionName(collection.name)\n\t}, [collection])\n\n\tconst togglePublish = e => {\n\t\te.preventDefault()\n\t\tupdateCollectionStatus(collection.id, collection.published ? `unpublish` : `publish`)\n\t}\n\n\tconst toggleEdit = async e => {\n\t\tsetIsEditingCollectionName(!isEditingCollectionName)\n\t\tif (isEditingCollectionName){\n\t\t\tawait updateCollectionName(collection.id, collectionName, true)\n\t\t\tsearchCollections(professorId, true)\n\t\t}\n\t}\n\n\tconst createContent = () => {\n\t\tprops.toggleModal({\n\t\t\tcomponent: CreateContentContainer,\n\t\t\tcollectionId: collection.id,\n\t\t\tisLabAssistantRoute: true,\n\t\t})\n\t}\n\n\tconst archive = e => {\n\t\te.preventDefault()\n\t\tupdateCollectionStatus(collection.id, `archive`)\n\t}\n\n\tconst unarchive = e => {\n\t\te.preventDefault()\n\t\tupdateCollectionStatus(collection.id, `unarchive`)\n\t}\n\n\tconst setTab = isContent => _e => {\n\t\tsetIsContent(isContent)\n\t}\n\n\tconst handleNameChange = e => {\n\t\tconst { value } = e.target\n\t\tsetCollectionName(value)\n\t}\n\n\tif(!content) return null\n\n\tconst viewstate = {\n\t\tadmin,\n\t\tcollection,\n\t\tcontent: Object.keys(content).map(key => content[key]),\n\t\tisContent,\n\t\tisEditingCollectionName,\n\t\tcollectionName,\n\t\tisLabAssistant: true,\n\t}\n\n\tconst handlers = {\n\t\ttogglePublish,\n\t\ttoggleEdit,\n\t\thandleNameChange,\n\t\tcreateContent,\n\t\tarchive,\n\t\tsetTab,\n\t\tunarchive,\n\t}\n\n\treturn <ManageCollection viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = store => ({\n\tcontent: store.adminStore.profCollectionContent,\n\tadmin: store.authStore.user.roles,\n\tprofessorId: store.adminStore.professor.id,\n})\n\nconst mapDispatchToProps = {\n\tgetCollectionContent: adminService.getCollectionContent,\n\ttoggleModal: interfaceService.toggleModal,\n\tupdateCollectionStatus: adminService.updateCollectionStatus,\n\tupdateCollectionName: collectionService.updateCollectionName,\n\tsearchCollections: adminService.searchCollections,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LabAssistantManageCollectionContainer)\n","import styled from 'styled-components'\n\nexport const Wrapper = styled.form`\n\tdisplay: grid;\n\tgrid: repeat(3, 1fr) / 1fr;\n\tgrid-gap: 2rem;\n\n\tmin-width: 30rem;\n\n\t& > input {\n\t\tborder: none;\n\t\tborder-bottom: 1px solid #ccc;\n\t\toutline: none;\n\t}\n\n\t& > div {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n`\n\nexport const Button = styled.button`\n\tfont-size: 1.5rem;\n\tcolor: ${props => props.color || `black`};\n\tbackground: transparent;\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n`\n","import React, { PureComponent } from 'react'\n\nimport {\n\tWrapper,\n\tButton,\n} from './styles'\n\nexport default class CreateCollection extends PureComponent {\n\n\trender() {\n\n\t\tconst {\n\t\t\tname,\n\t\t} = this.props.viewstate\n\n\t\tconst {\n\t\t\thandleNameChange,\n\t\t\thandleSubmit,\n\t\t\ttoggleModal,\n\t\t} = this.props.handlers\n\n\t\treturn (\n\t\t\t<Wrapper onSubmit={handleSubmit}>\n\t\t\t\t<h2>Create New Collection</h2>\n\t\t\t\t<input type={`text`} name={`name`} value={name} onChange={handleNameChange} placeholder={`Collection name...`} />\n\t\t\t\t<div>\n\t\t\t\t\t<Button type='button' onClick={toggleModal}>Cancel</Button>\n\t\t\t\t\t<Button type='submit' color={`#0582CA`}>Create</Button>\n\t\t\t\t</div>\n\t\t\t</Wrapper>\n\t\t)\n\t}\n}\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport CreateCollection from 'components/modals/components/CreateCollection'\n\nimport { interfaceService, collectionService, adminService } from 'services'\n\nconst CreateCollectionContainer = props => {\n\n\tconst {\n\t\tuserId,\n\t\tprofessorId,\n\t\tadminCreateCollection,\n\t\tadminSearchCollections,\n\t\tcreateCollection,\n\t\tisLabAssistantRoute,\n\t\ttoggleModal,\n\t\tgetCollections,\n\t} = props\n\n\tconst [name, setName] = useState(``)\n\n\tconst handleNameChange = e => {\n\t\tsetName(e.target.value)\n\t}\n\n\tconst handleSubmit = async e => {\n\t\te.preventDefault()\n\n\t\tconst defaultV = {\n\t\t\t'published': false,\n\t\t\t'archived': false,\n\t\t\t'owner': `${isLabAssistantRoute ? professorId : userId }`,\n\t\t\t'collection-name': name,\n\t\t}\n\n\t\tif(isLabAssistantRoute){\n\t\t\tawait createCollection(defaultV)\n\t\t\tadminSearchCollections(professorId, true)\n\t\t}\n\t\telse {\n\t\t\tawait createCollection(defaultV)\n\t\t\t//collectionService.getCollections()\n\t\t}\n\t\ttoggleModal()\n\t}\n\n\tconst viewstate = {\n\t\tname,\n\t}\n\n\tconst handlers = {\n\t\thandleNameChange,\n\t\thandleSubmit,\n\t\ttoggleModal,\n\t}\n\n\treturn <CreateCollection viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = store => ({\n\tuserId: store.authStore.user.id,\n\tprofessorId: store.adminStore.professor.id,\n\tisLabAssistantRoute: store.interfaceStore.modal.isLabAssistantRoute,\n})\n\nconst mapDispatchToProps = {\n\tadminCreateCollection: adminService.createCollection,\n\tcreateCollection: collectionService.createCollection,\n\ttoggleModal: interfaceService.toggleModal,\n\tgetCollections: collectionService.getCollections,\n\tadminSearchCollections: adminService.searchCollections,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateCollectionContainer)","import React, { useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport { interfaceService, adminService } from 'services'\n\nimport { Manager } from 'components'\n\nimport CreateCollectionContainer from 'components/modals/containers/CreateCollectionContainer'\nimport { objectIsEmpty } from 'lib/util'\n\nconst LabAssistantManagerContainer = props => {\n\n\tconst {\n\t\tadmin,\n\t\tcollections,\n\t\tprofessor,\n\t\tsearchCollections,\n\t\tsetHeaderBorder,\n\t\tsetProfessor,\n\t\ttoggleModal,\n\t} = props\n\n\tconst { professorId, collectionId } = useParams()\n\n\tuseEffect(() => {\n\t\tsetHeaderBorder(true)\n\n\t\tif (!collections)\n\t\t\tsearchCollections(professorId, true)\n\n\t\tif(objectIsEmpty(professor)){\n\t\t\tsetProfessor(professorId)\n\n\t\t\tif (!collections)\n\t\t\t\tsearchCollections(professorId, true)\n\t\t}\n\n\t\treturn () => {\n\t\t\tsetHeaderBorder(false)\n\t\t}\n\t}, [collections, professor, professorId, searchCollections, setHeaderBorder, setProfessor])\n\n\tconst createNew = () => {\n\t\ttoggleModal({\n\t\t\tcomponent: CreateCollectionContainer,\n\t\t\tisLabAssistantRoute: true,\n\t\t})\n\t}\n\n\tconst sideLists = {\n\t\tpublished: [],\n\t\tunpublished: [],\n\t\tarchived: [],\n\t}\n\n\tlet singleCollection = {}\n\n\tif(collections !== undefined && collections !== null){\n\t\t// This populates the sideList object to display all the collections based on\n\t\t// their current status published, unpublished, and archived\n\n\t\tObject.keys(collections).forEach(item => {\n\t\t\tconst { archived, published, name, id} = collections[item]\n\n\t\t\tif (archived) sideLists.archived.push({ id, name })\n\t\t\telse if (published) sideLists.published.push({ id, name })\n\t\t\telse sideLists.unpublished.push({ id, name })\n\t\t})\n\n\t\t// This is to pass the right collection based on the ID of the collection\n\t\t// instead of the old way that changed the array index and then pointed to the new index\n\t\t// Doing it this way we get the collection from the props and not from a\n\t\t// static new array that will not update after a handler action\n\n\t\tObject.keys(collections).forEach(item => {\n\t\t\tconst {id} = collections[item]\n\t\t\tconst cId = collectionId\n\t\t\tif (id === cId){\n\t\t\t\tsingleCollection = collections[item]\n\t\t\t\treturn\n\t\t\t}\n\t\t})\n\t}\n\n\t// console.log('single collection', singleCollection)\n\n\tconst viewstate = {\n\t\tadmin,\n\t\tcollection: singleCollection,\n\t\tpath: `lab-assistant-manager/${professor.id}`,\n\t\tsideLists,\n\t\tuser: professor,\n\t}\n\n\tconst handlers = {\n\t\tcreateNew,\n\t}\n\n\tif(!collections) return <Manager viewstate={viewstate} handlers={handlers} archived={[]} published={[]} unpublished={[]} empty={true}/>\n\n\treturn <Manager viewstate={viewstate} handlers={handlers} archived={sideLists.archived} published={sideLists.published} unpublished={sideLists.unpublished}/>\n}\n\nconst mapStateToProps = store => ({\n\tprofessor: store.adminStore.professor,\n\tcollections: store.adminStore.professorCollections,\n\tadmin: store.authStore.user.roles === 0,\n})\n\nconst mapDispatchToProps = {\n\tsearchCollections: adminService.searchCollections,\n\tsetHeaderBorder: interfaceService.setHeaderBorder,\n\tsetProfessor: adminService.setProfessor,\n\ttoggleModal: interfaceService.toggleModal,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LabAssistantManagerContainer)\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport { authService } from 'services'\n\nimport { Landing } from 'components'\n\nconst LandingContainer = props => {\n\n\tconst {\n\t\tlogin,\n\t} = props\n\n\tconst [overlay, setOverlay] = useState(false)\n\n\tconst toggleOverlay = () => {\n\t\tsetOverlay(!overlay)\n\t}\n\n\tconst handleLogin = e => {\n\t\te.preventDefault()\n\t\tlogin()\n\t}\n\n\tconst viewstate = {\n\t\toverlay,\n\t}\n\n\tconst handlers = {\n\t\ttoggleOverlay,\n\t\thandleLogin,\n\t}\n\n\treturn <Landing viewstate={viewstate} handlers={handlers} />\n\n}\n\nconst mapDispatchToProps = {\n\tlogin: authService.login,\n}\n\nexport default connect(null, mapDispatchToProps)(LandingContainer)\n","import { Component } from 'react'\nimport { connect } from 'react-redux'\nimport {\n\tauthService,\n} from 'services'\n\nclass LoginContainer extends Component {\n\n\t// caslogin = () => {\n\t// \tconst url = `${process.env.REACT_APP_YVIDEO_SERVER}/auth/cas/redirect${window.location.origin}/success`\n\t// \tconst name = `BYU CAS Secure Login`\n\t// \tconst popup = window.open(url, name, `width=500,height=1030`)\n\n\t// \tconst popuppoll = setInterval(() => {\n\t// \t\ttry {\n\t// \t\t\tif (popup.location.origin === window.location.origin || popup.closed) {\n\t// \t\t\t\tclearInterval(popuppoll)\n\t// \t\t\t\tpopup.close()\n\t// \t\t\t\tthis.props.login().then(() => {\n\t// \t\t\t\t\tthis.props.history.push(`/`)\n\t// \t\t\t\t})\n\t// \t\t\t}\n\t// \t\t} catch ({ message }) {\n\t// \t\t\tconsole.error(message)\n\t// \t\t}\n\t// \t}, 300)\n\t// }\n\n\trender() {\n\t\treturn null\n\t}\n\n\t// componentDidMount = () => {\n\t// \tconst {\n\t// \t\tuser,\n\t// \t} = this.props\n\n\t// \tif (!user) this.caslogin()\n\t// }\n}\n\nconst mapStoreToProps = ({ authStore, interfaceStore }) => ({\n\tuser: authStore.user,\n\tloading: authStore.loading,\n})\n\nconst mapDispatchToProps = {\n\tlogin: authService.login,\n}\n\nexport default connect(mapStoreToProps, mapDispatchToProps)(LoginContainer)\n","import React, { useState, useEffect } from 'react'\n\nimport { connect } from 'react-redux'\n\nimport { collectionService, contentService, interfaceService } from 'services'\n\nimport { ManageCollection } from 'components'\n\nimport CreateContentContainer from 'components/modals/containers/CreateContentContainer'\n\nimport { objectIsEmpty } from 'lib/util'\n\nconst ManageCollectionContainer = props => {\n\n\tconst {\n\t\tadmin,\n\t\tcollection,\n\t\tcontent,\n\t\tgetContent,\n\t\tupdateCollectionName,\n\t\tupdateCollectionStatus,\n\t} = props\n\n\tconst [isContent, setIsContent] = useState(true)\n\tconst [isEditingCollectionName, setIsEditingCollectionName] = useState(false)\n\tconst [collectionName, setCollectionName] = useState(collection.name)\n\n\tuseEffect(() => {\n\t\tconst ids = collection.content.map(item => (item.id))\n\t\tgetContent(ids)\n\t\tsetCollectionName(collection.name)\n\t}, [collection.content, collection.name, content, getContent])\n\n\tconst toggleEdit = e => {\n\t\tsetIsEditingCollectionName(!isEditingCollectionName)\n\t\tif (isEditingCollectionName)\n\t\t\tupdateCollectionName(collection.id, collectionName, null)\n\t}\n\n\tconst handleNameChange = e => {\n\t\tconst { value } = e.target\n\t\tsetCollectionName(value)\n\t}\n\n\tconst togglePublish = e => {\n\t\te.preventDefault()\n\t\tupdateCollectionStatus(collection.id, collection.published ? `unpublish` : `publish`)\n\t}\n\n\tconst createContent = () => {\n\t\tprops.toggleModal({\n\t\t\tcomponent: CreateContentContainer,\n\t\t\tcollectionId: collection.id,\n\t\t})\n\t}\n\n\tconst archive = e => {\n\t\te.preventDefault()\n\t\tupdateCollectionStatus(collection.id, `archive`)\n\t}\n\n\tconst unarchive = e => {\n\t\te.preventDefault()\n\t\tupdateCollectionStatus(collection.id, `unarchive`)\n\t}\n\n\tconst setTab = isContent => _e => {\n\t\tsetIsContent(isContent)\n\t}\n\n\tif (objectIsEmpty(content) && collection.content.length) return null\n\n\t// Forces rerender when content and collection.content don't contain the same content, and when creating new content\n\tconst contentCheck = collection.content.map(item => content[item.id])\n\tif (contentCheck.length > 0 &&\n\t\t(contentCheck[0] === undefined || contentCheck[contentCheck.length - 1] === undefined))\n\t\treturn null\n\n\tconst viewstate = {\n\t\tadmin,\n\t\tisEditingCollectionName,\n\t\tcollection,\n\t\tcollectionName,\n\t\tcontent: collection.content.map(item => content[item.id]),\n\t\tisContent,\n\t}\n\n\tconst handlers = {\n\t\tunarchive,\n\t\ttoggleEdit,\n\t\thandleNameChange,\n\t\ttogglePublish,\n\t\tcreateContent,\n\t\tarchive,\n\t\tsetTab,\n\t}\n\n\treturn <ManageCollection viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = store => ({\n\tcontent: store.contentStore.cache,\n\tadmin: store.authStore.user.roles,\n})\n\nconst mapDispatchToProps = {\n\tgetContent: contentService.getContent,\n\ttoggleModal: interfaceService.toggleModal,\n\tupdateCollectionName: collectionService.updateCollectionName,\n\tupdateCollectionStatus: collectionService.updateCollectionStatus,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ManageCollectionContainer)","import React, { useEffect, useState } from 'react'\nimport { useParams, useLocation } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport { collectionService, interfaceService } from 'services'\n\nimport { Manager } from 'components'\n\nimport CreateCollectionContainer from 'components/modals/containers/CreateCollectionContainer'\n\nimport { objectIsEmpty } from 'lib/util'\n\nconst ManagerContainer = props => {\n\n\tconst {\n\t\tadmin,\n\t\tcollections,\n\t\tgetCollections,\n\t\tsetHeaderBorder,\n\t\ttoggleModal,\n\t} = props\n\n\tconst params = useParams()\n\tconst location = useLocation()\n\n\tuseEffect(() => {\n\t\tsetHeaderBorder(true)\n\t\tgetCollections()\n\n\t\tif(location.createCollection) {\n\t\t\ttoggleModal({\n\t\t\t\tcomponent: CreateCollectionContainer,\n\t\t\t\troute: `manager`,\n\t\t\t})\n\t\t}\n\t}, [collections, getCollections, setHeaderBorder, location.createCollection, toggleModal])\n\n\tconst createNew = () => {\n\t\ttoggleModal({\n\t\t\tcomponent: CreateCollectionContainer,\n\t\t\tisLabAssistantRoute: false,\n\t\t})\n\t}\n\n\tconst handlers = {\n\t\tcreateNew,\n\t}\n\n\tconst sideLists = {\n\t\tpublished: [],\n\t\tunpublished: [],\n\t\tarchived: [],\n\t}\n\n\tif (objectIsEmpty(collections)) return <Manager viewstate={{}} handlers={handlers} empty={true}/>\n\n\tObject.keys(collections).forEach(id => {\n\t\tconst { archived, published, name } = collections[id]\n\n\t\tif (archived) sideLists.archived.push({ id, name })\n\t\telse if (published) sideLists.published.push({ id, name })\n\t\telse sideLists.unpublished.push({ id, name })\n\t})\n\n\tconst viewstate = {\n\t\tadmin,\n\t\tcollection: collections[params.id],\n\t\tpath: `manager`,\n\t\tsideLists,\n\t\tactiveId: params.id,\n\t}\n\n\treturn <Manager viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = store => ({\n\tcollections: store.collectionStore.cache,\n\tadmin: store.authStore.user.roles === 0,\n})\n\nconst mapDispatchToProps = {\n\tgetCollections: collectionService.getCollections,\n\tsetHeaderBorder: interfaceService.setHeaderBorder,\n\ttoggleModal: interfaceService.toggleModal,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ManagerContainer)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport services from 'services'\n\nimport { Menu } from 'components'\n\nimport { getInitials } from 'lib/util'\n\nconst MenuContainer = props => {\n\n\tconst {\n\t\tuser,\n\t\tisProf,\n\t\tisAdmin,\n\t\tmenuActive,\n\t\tlogout,\n\t\ttoggleMenu,\n\t\teditorStyle,\n\t} = props\n\n\tconst handleLogout = async e => {\n\t\te.preventDefault()\n\t\tawait logout()\n\t}\n\n\tconst viewstate = {\n\t\tuser,\n\t\tinitials: getInitials(user.name),\n\t\tmenuActive,\n\t\tisProf,\n\t\tisAdmin,\n\t\teditorStyle,\n\t}\n\n\tconst handlers = {\n\t\ttoggleMenu,\n\t\thandleLogout,\n\t}\n\n\treturn <Menu viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStoreToProps = ({ authStore, interfaceStore }) => ({\n\tuser: authStore.user,\n\tisProf: authStore.user.roles === 2,\n\tisAdmin: authStore.user.roles === 0,\n\tisStudent: authStore.user.roles === 3,\n\tmenuActive: interfaceStore.menuActive,\n\teditorStyle: interfaceStore.editorStyle,\n})\n\nconst mapDispatchToProps = {\n\tlogout: services.authService.logout,\n\ttoggleMenu: services.interfaceService.toggleMenu,\n}\n\nexport default connect(mapStoreToProps, mapDispatchToProps)(MenuContainer)\n","import React, { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport { contentService, resourceService, interfaceService } from 'services'\n\nimport { Player } from 'components'\n\nconst PlayerContainer = props => {\n\n\tconst {\n\t\tcontentCache,\n\t\tgetContent,\n\t\tgetStreamKey,\n\t\taddView,\n\t\tsetEvents,\n\t\tstreamKey,\n\t} = props\n\n\tconst params = useParams()\n\n\tconst [content, setContent] = useState()\n\tconst [resource, setResource] = useState('')\n\tconst [fileId, setFileId] = useState('')\n\n\tconst [duration, setDuration] = useState(0) // Set duration of the media\n\tconst [muted, setMuted] = useState(false) // Mutes the player\n\tconst [fullscreen, setFullscreen] = useState(false)\n\tconst [hovering, setHovering] = useState(false)\n\tconst [playbackRate, setPlaybackRate] = useState(1.0) // Set the playback rate of the player\n\tconst [player, setPlayer] = useState(null)\n\tconst [playing, setPlaying] = useState(false) // Set to true or false to play or pause the media\n\tconst [progress, setProgress] = useState({played: 0, playedSeconds: 0, loaded: 0, loadedSeconds: 0})\n\tconst [seeking, setSeeking] = useState(false) // Set to true or false, is player seeking\n\tconst [url, setUrl] = useState(``) // The url of the video or song to play (can be array or MediaStream object)\n\tconst [volume, setVolume] = useState(0.8) // Set the volume, between 0 and 1, null uses default volume on all players\n\tconst [blank, setBlank] = useState(false)\n\tconst [videoComment, setVideoComment] = useState('')\n\tconst [commentPosition, setCommentPosition] = useState({x: 0, y: 0})\n\n\tconst ref = player => {\n\t\tsetPlayer(player)\n\t}\n\n\tuseEffect(() => {\n\t\t//console.log('called us effct in player')\n\t\tif (!contentCache[params.id]) getContent([params.id])\n\t\telse {\n\t\t\tsetContent(contentCache[params.id])\n\t\t\tsetEvents(contentCache[params.id].settings.annotationDocument)\n\t\t\tif(contentCache[params.id].url !== ''){\n\t\t\t\tsetUrl(contentCache[params.id].url)\n\t\t\t}\n\t\t\telse {\n\t\t\t\t//CHECK RESOURCE ID\n\t\t\t\tif(contentCache[params.id].resourceId !== '00000000-0000-0000-0000-000000000000' && streamKey === ''){\n\t\t\t\t\t//VALID RESOURCE ID SO WE KEEP GOING TO FIND STREAMING URL\n\t\t\t\t\tsetResource(contentCache[params.id].resourceId)\n\t\t\t\t\tgetStreamKey(contentCache[params.id].resourceId, contentCache[params.id].settings.targetLanguages)\n\t\t\t\t}\n\t\t\t\telse if (streamKey !== '' && url === ''){\n\t\t\t\t\tsetUrl(`${process.env.REACT_APP_YVIDEO_SERVER}/api/media/stream-media/${streamKey}`)\n\t\t\t\t\t//console.log('URL SHOULD BE ,', `${process.env.REACT_APP_YVIDEO_SERVER}/api/media/stream-media/${streamKey}` )\n\t\t\t\t}\n\t\t\t}\n\t\t\taddView(params.id)\n\t\t}\n\t}, [addView, content, contentCache, getContent, params.id, resource, streamKey])\n\n\tconst handleDuration = duration => {\n\t\tsetDuration(duration)\n\t}\n\n\tconst handleMouseOver = e => {\n\t\tsetHovering(true)\n\t}\n\n\tconst handleMouseOut = e => {\n\t\tsetHovering(false)\n\t}\n\n\tconst handlePause = () => {\n\t\tsetPlaying(false)\n\t}\n\n\tconst handlePlay = () => {\n\t\tsetPlaying(true)\n\t}\n\n\tconst handleBlank = (bool) => {\n\t\tsetBlank(bool)\n\t}\n\n\tconst handlePlaybackRateChange = rate => {\n\t\tsetPlaybackRate(rate)\n\t}\n\n\t// Potentially use to update current time and maybe progress bar, but only if not seeking?\n\t// progression = { played: 0, playedSeconds: 0, loaded: 0, loadedSeconds: 0 }\n\tconst handleProgress = progression => {\n\t\tif (!seeking)\n\t\t\tsetProgress(progression)\n\t}\n\n\tconst handleSeekChange = (e, time) => {\n\t\t// const played = (e.clientX + document.body.scrollLeft) / window.innerWidth\n\t\t// player.seekTo(played)\n\t\tsetBlank(false)\n\t\tlet newPlayed = 0\n\t\tif(e !== null){\n\t\t\tconst scrubber = e.currentTarget.getBoundingClientRect()\n\t\t\tnewPlayed = (e.pageX - scrubber.left) / scrubber.width\n\t\t}\n\t\telse {\n\t\t\tnewPlayed = time / duration\n\t\t}\n\t\tif(newPlayed !== Infinity && newPlayed !== -Infinity){\n\t\t\t//console.log(newPlayed)\n\t\t\tplayer.seekTo(newPlayed.toFixed(10), `fraction`)\n\t\t}\n\t}\n\n\tconst handleSeekMouseDown = e => {\n\t\tsetSeeking(true)\n\t}\n\n\tconst handleSeekMouseUp = e => {\n\t\t// console.log(`handleSeekMouseDown`)\n\t\tsetSeeking(false)\n\t\tplayer.seekTo(parseFloat(e.target.value))\n\t}\n\n\tconst handleToggleFullscreen = () => {\n\t\tsetFullscreen(!fullscreen)\n\t}\n\n\tconst handleMuted = () => {\n\t\t// console.log('calling mute', muted)\n\t\tsetMuted(true)\n\t}\n\n\tconst handleUnmuted = () => {\n\t\t// console.log('calling unmute', muted)\n\t\tsetMuted(false)\n\t}\n\n\tconst handleVolumeChange = e => {\n\t\tconsole.log(e.target)\n\t}\n\n\tconst handleShowComment = (value, position) => {\n\t\t//console.log(position)\n\t\t// console.log('VALUE', value)\n\t\tsetVideoComment(value)\n\t\tsetCommentPosition(position)\n\t}\n\n\tconst viewstate = {\n\t\tduration,\n\t\tfullscreen,\n\t\thovering,\n\t\tmuted,\n\t\tplaybackRate,\n\t\tplaying,\n\t\tprogress,\n\t\tref,\n\t\turl,\n\t\tvolume,\n\t\tblank,\n\t\tvideoComment,\n\t\tcommentPosition,\n\t}\n\n\tconst handlers = {\n\t\thandleDuration,\n\t\thandleMouseOut,\n\t\thandleMouseOver,\n\t\thandlePause,\n\t\thandlePlay,\n\t\thandlePlaybackRateChange,\n\t\thandleProgress,\n\t\thandleSeekChange,\n\t\thandleSeekMouseDown,\n\t\thandleSeekMouseUp,\n\t\thandleToggleFullscreen,\n\t\thandleMuted,\n\t\thandleUnmuted,\n\t\thandleVolumeChange,\n\t\thandleShowComment,\n\t\thandleBlank,\n\t}\n\n\treturn <Player viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = ({ authStore, contentStore, resourceStore }) => ({\n\tisProf: authStore.user.roles === 2,\n\tisAdmin: authStore.user.roles === 0,\n\tuserId: authStore.user.id,\n\tcontentCache: contentStore.cache,\n\tstreamKey: resourceStore.streamKey,\n})\n\nconst mapDispatchToProps = {\n\tgetContent: contentService.getContent,\n\tgetStreamKey: resourceService.getStreamKey,\n\taddView: contentService.addView,\n\tsetEvents: interfaceService.setEvents,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayerContainer)\n","/* eslint-disable no-prototype-builtins */\n\nimport React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport services from 'services'\n\nimport { Root } from 'components'\n\nconst RootContainer = props => {\n\n\tconst {\n\t\tuser,\n\t\tloading,\n\t\ttried,\n\t\tmodal,\n\t\tcheckAuth,\n\t} = props\n\n\tuseEffect(() => {\n\t\tif (!user && !tried) checkAuth()\n\t}, [checkAuth, tried, user])\n\n\tconst viewstate = {\n\t\tuser,\n\t\tloading,\n\t\tmodal,\n\t}\n\n\treturn <Root viewstate={viewstate} />\n}\n\nconst mapStoreToProps = ({ authStore, interfaceStore, collectionStore, contentStore, resourceStore }) => ({\n\tuser: authStore.user,\n\tloading: authStore.loading,\n\ttried: authStore.tried,\n\tmodal: interfaceStore.modal,\n})\n\nconst mapDispatchToProps = {\n\tcheckAuth: services.authService.checkAuth,\n}\n\nexport default connect(mapStoreToProps, mapDispatchToProps)(RootContainer)\n","import React, { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport { connect } from 'react-redux'\n\nimport { interfaceService, resourceService, contentService } from 'services'\n\nimport { TrackEditor } from 'components'\n\n// import { interfaceService } from 'services'\n\nconst TrackEditorContainer = props => {\n\n\tconst {\n\t\tcontent,\n\t\tresource,\n\t\tsetEvents,\n\t\tgetResource,\n\t\tgetContent,\n\t\tupdateContent,\n\t\tgetStreamKey,\n\t\tstreamKey,\n\t} = props\n\n\tconst {id} = useParams()\n\n\tconst [url, setUrl] = useState('')\n\tconst [eventsArray, setEventsArray] = useState([])\n\tconst [currentContent, setCurrentContent] = useState({})\n\n\t//console.log(content)\n\n\tuseEffect(() => {\n\t\t//console.log('use effecct')\n\t\tif(!content.hasOwnProperty(id)){\n\t\t\tgetContent([id])\n\t\t}\n\n\t\tif(content[id] !== undefined){\n\t\t\t//console.log(content[id].settings.annotationDocument)\n\t\t\tsetCurrentContent(content[id])\n\t\t\tsetEventsArray(content[id].settings.annotationDocument)\n\t\t\tsetEvents(content[id].settings.annotationDocument)\n\t\t\tif(content[id].url !== ''){\n\t\t\t\tsetUrl(content[id].url)\n\t\t\t}\n\t\t\telse {\n\t\t\t\t//CHECK RESOURCE ID\n\t\t\t\tif(content[id].resourceId !== '00000000-0000-0000-0000-000000000000' && streamKey === ''){\n\t\t\t\t\t//VALID RESOURCE ID SO WE KEEP GOING TO FIND STREAMING URL\n\t\t\t\t\tgetStreamKey(content[id].resourceId, content[id].settings.targetLanguages)\n\t\t\t\t}\n\t\t\t\telse if (streamKey !== '' && url === ''){\n\t\t\t\t\tsetUrl(`${process.env.REACT_APP_YVIDEO_SERVER}/api/media/stream-media/${streamKey}`)\n\t\t\t\t\t//console.log('URL SHOULD BE ,', `${process.env.REACT_APP_YVIDEO_SERVER}/api/media/stream-media/${streamKey}` )\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}, [content, resource, eventsArray, currentContent, streamKey])\n\n\t//console.log(eventsArray)\n\n\tconst viewstate = {\n\t\tcurrentContent,\n\t\turl,\n\t\teventsArray,\n\t}\n\n\treturn <TrackEditor viewstate={viewstate} setEvents={setEvents} updateContent={updateContent}/>\n}\n\nconst mapStoreToProps = ({ contentStore, resourceStore }) => ({\n\tresource: resourceStore.cache,\n\tcontent: contentStore.cache,\n\tstreamKey: resourceStore.streamKey,\n})\n\nconst mapThunksToProps = {\n\tsetEvents: interfaceService.setEvents,\n\tgetResource: resourceService.getResources,\n\tgetContent: contentService.getContent,\n\tgetStreamKey: resourceService.getStreamKey,\n\tupdateContent: contentService.updateContent,\n}\n\nexport default connect(mapStoreToProps, mapThunksToProps)(TrackEditorContainer)\n","import styled from 'styled-components'\n\nimport searchIcon from 'assets/search.svg'\nimport uploadIcon from 'assets/upload.svg'\n\nexport const Form = styled.form`\n\tdisplay: grid;\n\tgrid-gap: 4rem;\n\n\tmin-width: 30rem;\n\tmin-height: 35rem;\n\n\n\t& input, select {\n\t\tflex: 4;\n\t\tborder: none;\n\t\tborder-bottom: 1px solid #ccc;\n\t\toutline: none;\n\t}\n\n\t& > label{\n\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\n\t\t& > span {\n\t\t\tflex: 1;\n\n\t\t}\n\t}\n\n\t& > div {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n`\n\nexport const Button = styled.button`\n\tfont-size: 1.5rem;\n\tcolor: ${props => props.color || `black`};\n\tbackground: transparent;\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n`\n\nexport const UploadButton = styled.button`\n\tfont-size: 1.5rem;\n\tcolor: ${props => props.color || `black`};\n\tbackground: transparent;\n\t/* border: none;\n\toutline: none; */\n\tcursor: pointer;\n`\n\nexport const SearchIcon = styled.span`\n\tposition: absolute;\n\tz-index: 10;\n\ttop: 1rem;\n\tleft: 2rem;\n\tbackground: url(${searchIcon}) center no-repeat;\n\tbackground-size: contain;\n\theight: 2rem;\n\twidth: 2rem;\n`\n\nexport const RemoveKeyword = styled.button`\n\theight: 1.5rem;\n\twidth: 1.5rem;\n\tbackground: url(${props => props.src}) center no-repeat;\n\tbackground-size: contain;\n\ttransform: rotate(45deg);\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n\tpadding: 0;\n\tmargin: 0 -.25rem 0 .25rem;\n`\n\nexport const TableContainer = styled.div`\n\theight: 25rem;\n\toverflow-y: scroll;\n`\n\nexport const Table = styled.table`\n\twidth: 100%;\n\n\t& th {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t}\n\n\t& tr {\n\t\tbackground: white;\n\t\tbox-shadow: 0 2px 5px -1px rgba(0,0,0,0.15);\n\t}\n\n\t& td {\n\t\tpadding: 1rem;\n\t\ttext-align: left;\n\t\t& label {\n\t\t\tpadding: 1rem;\n\t\t}\n\t}\n`\n\nexport const Tabs = styled.div`\n\tmargin: 1.5rem 0;\n\tpadding: 0;\n`\n\nexport const Tab = styled.button`\n\tfont-weight: ${props => props.selected ? `500` : `300`};\n\tcolor: ${props => props.selected ? `#0057B8` : `black`};\n\n\tborder-radius: .3rem;\n\n\tpadding: .75rem 1.25rem;\n\tbackground: ${props => props.selected ? `#D2E8FF` : `transparent`};\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n`\n\nexport const TypeButton = styled.button`\n\tbackground: transparent;\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n\n\tfont-weight: ${props => props.selected ? `500` : `300`};\n\tcolor: ${props => props.selected ? `#0057B8` : `black`};\n`\n\nexport const FileUpload = styled.div`\n\n\t& .files-input {\n\t\toutline: 2px dashed #92b0b3;\n    -webkit-transition: outline-offset .15s ease-in-out, background-color .15s linear;\n    transition: outline-offset .15s ease-in-out, background-color .15s linear;\n    padding: 1em;\n    text-align: center !important;\n    margin: 0;\n    width: 100% !important;\n\t}\n\n\t& .files{ position:relative }\n\n\t& .files:after {\n\t\tpointer-events: none;\n    position: absolute;\n    top: 10px;\n    left: 230px;\n    right: 0;\n\t\twidth: 50px;\n    height: 56px;\n    content: \"\";\n\t\tbackground-image: url(${uploadIcon});\n    display: block;\n    margin: 0 auto;\n    background-size: 50%;\n    background-repeat: no-repeat;\n\t}\n`\n\nexport const CategorySelect = styled.select`\n\tbackground: white;\n\tfont-size: 1.5rem;\n\n\tborder: none;\n\tborder-radius: 2rem;\n\n\tpadding: 0 1.25rem 0 1.25rem;\n\n\toutline: none;\n\tbox-shadow: 0px 2px 5px -1px rgba(0,0,0,0.15);\n\t& option {\n\t\tmargin: auto auto 6px auto;\n\t}\n`","import React, { PureComponent } from 'react'\n\nimport {\n\tForm,\n\tButton,\n\tTypeButton,\n} from './styles'\n\nexport default class CreateResource extends PureComponent {\n\n\trender() {\n\n\t\tconst {\n\t\t\tresourceName,\n\t\t\tresourceType,\n\t\t\trequesterEmail,\n\t\t\tmetadata,\n\t\t} = this.props.viewstate.data\n\n\t\tconst {\n\t\t\thandleSubmit,\n\t\t\thandleTextChange,\n\t\t\thandleTypeChange,\n\t\t\tonKeyPress,\n\t\t\ttoggleModal,\n\t\t\tupdateFileVersion,\n\t\t} = this.props.handlers\n\n\t\tconst {\n\t\t\tcategory,\n\t\t} = this.props.viewstate\n\n\t\t// TODO: search list all the resources related to the email\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Form onKeyPress={onKeyPress} onSubmit={handleSubmit} id='create-resource-form' >\n\t\t\t\t\t<h2>Create New Resource</h2>\n\t\t\t\t\t<label htmlFor='create-resource-name'>\n\t\t\t\t\t\t<span>Name</span>\n\t\t\t\t\t\t<input id='create-resource-name' type='text' name='resourceName' value={resourceName} onChange={handleTextChange} required />\n\t\t\t\t\t</label>\n\n\t\t\t\t\t<label htmlFor='create-resource-type'>\n\t\t\t\t\t\t<span>Type</span>\n\t\t\t\t\t\t<div style={{ flex: `5`, display: `flex`, justifyContent: `space-between` }}>\n\t\t\t\t\t\t\t<TypeButton type='button' selected={resourceType === `video`} onClick={handleTypeChange} data-type='video'>Video</TypeButton>\n\t\t\t\t\t\t\t<TypeButton type='button' selected={resourceType === `audio`} onClick={handleTypeChange} data-type='audio'>Audio</TypeButton>\n\t\t\t\t\t\t\t<TypeButton type='button' selected={resourceType === `image`} onClick={handleTypeChange} data-type='image'>Image</TypeButton>\n\t\t\t\t\t\t\t<TypeButton type='button' selected={resourceType === `text`} onClick={handleTypeChange} data-type='text'>Text</TypeButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\n\t\t\t\t\t<label htmlFor='create-resource-requester-email'>\n\t\t\t\t\t\t<span>Requester Email</span>\n\t\t\t\t\t\t<input id='create-resource-requester-email' type='text' name='requesterEmail' value={requesterEmail} onChange={handleTextChange} required />\n\t\t\t\t\t</label>\n\n\t\t\t\t\t{/* <label htmlFor='create-resource-file-version'>\n\t\t\t\t\t\t<span>File Version</span>\n\t\t\t\t\t\t<CategorySelect id='categorySelect' onChange={updateFileVersion}>\n\t\t\t\t\t\t\t{Object.keys(category).map((c, index) => (\n\t\t\t\t\t\t\t\t<option value={category[c].name} key={index}>\n\t\t\t\t\t\t\t\t\t{category[c].name}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</CategorySelect>\n\t\t\t\t\t</label> */}\n\n\t\t\t\t\t<label htmlFor='create-resource-metadata'>\n\t\t\t\t\t\t<span>Metadata</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t<textarea id='create-resource-metadata' name='metadata' value={metadata} onChange={handleTextChange} rows={4} required />\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Button type='button' onClick={toggleModal}>Cancel</Button>\n\t\t\t\t\t\t{resourceName ?\n\t\t\t\t\t\t\t<Button type='submit' color={`#0582CA`}>Create</Button>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<Button disabled={resourceName === undefined} type='submit' color={`#A0A0A0`}>Create</Button>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</Form>\n\t\t\t</>\n\t\t)\n\t}\n}\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport {\n\tinterfaceService,\n\tresourceService,\n\tfileService,\n} from 'services'\n\nimport CreateResource from 'components/modals/components/CreateResource'\n\nconst CreateResourceContainer = props => {\n\n\tconst {\n\t\ttoggleModal,\n\t\taddResource,\n\t\tuser,\n\t} = props\n\n\tconst [tab, setTab] = useState(`resource`)\n\tconst [selectedFile, setSelectedFile] = useState()\n\n\tconst changeTab = e => {\n\t\tsetTab(e.target.name)\n\t}\n\n\t// const [fileVersion, setFileVersion] = useState(category.English.name)\n\n\tconst [data, setData] = useState({\n\t\tid: 0,\n\t\tcopyrighted: true,\n\t\tresourceName: ``,\n\t\tphysicalCopyExists: true,\n\t\tpublished: true,\n\t\tviews: 0,\n\t\tfullVideo: true,\n\t\tmetadata: ``,\n\t\trequesterEmail: user.email,\n\t\tallFileVersions: ``,\n\t\tresourceType: `video`,\n\t\tdateValidated: ``,\n\t})\n\n\tconst handleTextChange = e => {\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[e.target.name]: e.target.value,\n\t\t})\n\t}\n\n\tconst handleTypeChange = e => {\n\t\tconst resourceType = e.target.dataset.type\n\t\tsetData({\n\t\t\t...data,\n\t\t\tresourceType,\n\t\t})\n\t}\n\n\tconst handleFileChange = e =>{\n\t\tconsole.log(e.target.files[0])\n\t\tsetSelectedFile(e.target.files[0])\n\t}\n\n\t// const handleFileUpload = async(e) =>{\n\t// \te.preventDefault()\n\n\t// \tconst formData = new FormData()\n\t// \tformData.append(`file`, selectedFile)\n\n\t// \tconst backEndData = {\n\t// \t\tfile: formData,\n\t// \t\t\"resource-id\": 0,\n\t// \t\t\"file-version\": 0,\n\t// \t\tmime: 0,\n\t// \t\tmetadata: ``,\n\t// \t}\n\t// \tuploadFile(backEndData)\n\t// }\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault()\n\n\t\tconst backEndData = {\n\t\t\t\"copyrighted\": data.copyrighted,\n\t\t\t\"resource-name\": data.resourceName,\n\t\t\t\"physical-copy-exists\": data.physicalCopyExists,\n\t\t\t\"published\": data.published,\n\t\t\t\"views\": data.views,\n\t\t\t\"full-video\": data.fullVideo,\n\t\t\t\"metadata\": data.metadata,\n\t\t\t\"requester-email\": data.requesterEmail,\n\t\t\t\"all-file-versions\": data.allFileVersions,\n\t\t\t\"resource-type\": data.resourceType,\n\t\t\t\"date-validated\": data.dateValidated,\n\t\t}\n\n\t\tawait addResource(backEndData, data)\n\t\ttoggleModal()\n\t}\n\n\tconst handleAddResourceSubmit = e => {\n\t\te.preventDefault()\n\t\ttoggleModal()\n\t}\n\n\tconst viewstate = {\n\t\tselectedFile,\n\t\tuser,\n\t\tdata,\n\t\ttab,\n\t}\n\n\tconst handlers = {\n\t\thandleAddResourceSubmit,\n\t\thandleSubmit,\n\t\thandleTextChange,\n\t\thandleTypeChange,\n\t\tchangeTab,\n\t\thandleFileChange,\n\t\ttoggleModal,\n\t}\n\n\treturn <CreateResource viewstate={viewstate} handlers={handlers}/>\n}\n\nconst mapStateToProps = store => ({\n\tmodal: store.interfaceStore.modal,\n\tuser: store.authStore.user,\n})\n\nconst mapDispatchToProps = {\n\ttoggleModal: interfaceService.toggleModal,\n\taddResource: resourceService.addResource,\n\tuploadFile: fileService.upload,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateResourceContainer)","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport { ManageResource } from 'components'\n\nimport { interfaceService, resourceService } from 'services'\n\nimport CreateResourceContainer from 'components/modals/containers/CreateResourceContainer'\n\nconst ManageResourceContainer = props => {\n\n\tconst {\n\t\tsearchResource,\n\t\tresources,\n\t\tuser,\n\t} = props\n\n\tconst defaultSearch = user.email.split(`@`)\n\tconst [searchQuery, setSearchQuery] = useState(``)\n\tconst [isDefaultSearched, setIsDefaultSearched] = useState(false)\n\tconst [selectedResource, setSelectedResource] = useState(``)\n\n\t// useEffect(() => {\n\t// \t// need getResources backend to get all the resources attached to the user id\n\n\t// \tconsole.log(resources)\n\t// }, [resources])\n\n\tconst addResource = () => {\n\t\tprops.toggleModal({\n\t\t\tcomponent: CreateResourceContainer,\n\t\t})\n\t}\n\n\tif (!isDefaultSearched && defaultSearch[0].length >1) {\n\t\tsearchResource(defaultSearch[0])\n\t\tsetIsDefaultSearched(true)\n\t}\n\n\tconst handleSearchTextChange = e => {\n\t\tconst { value } = e.target\n\t\tsetSearchQuery(value)\n\t\tif (value.length > 1) searchResource(value)\n\t}\n\n\tconst handleSelectResourceChange = e => {\n\t\tconst { target } = e\n\t\tsetSelectedResource(target.value)\n\t}\n\n\tconst viewstate = {\n\t\tuser,\n\t\tsearchQuery,\n\t\tresources,\n\t}\n\n\tconst handlers = {\n\t\thandleSelectResourceChange,\n\t\thandleSearchTextChange,\n\t\taddResource,\n\t}\n\n\treturn <ManageResource viewstate={viewstate} handlers={handlers} />\n}\n\nconst mapStateToProps = store => ({\n\tresources: store.resourceStore.cache,\n\tuser: store.authStore.user,\n})\n\nconst mapDispatchToProps = {\n\taddResource: resourceService.addResource,\n\ttoggleModal: interfaceService.toggleModal,\n\tsearchResource: resourceService.search,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ManageResourceContainer)","/* eslint-disable function-paren-newline */\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport * as serviceWorker from './serviceWorker'\n\nimport { Provider } from 'react-redux'\nimport store from 'services/store'\n\nimport { RootContainer } from 'containers'\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<RootContainer />\n\t</Provider>,\n\tdocument.getElementById(`root`),\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n// serviceWorker.register()\n"],"sourceRoot":""}